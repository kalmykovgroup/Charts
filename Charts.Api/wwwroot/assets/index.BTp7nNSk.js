var e=Object.defineProperty,t=(t,n,a)=>((t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a)(t,"symbol"!=typeof n?n+"":n,a);import{j as n,V as a,H as r,P as s,N as i,u as o,R as l,a as c,g as u,B as d,E as f,b as p,c as m,d as h,e as g,i as v,S as y,C as b,M as x,f as _,h as S,k as N,l as w,m as k,r as C,L as I,n as T,o as M,p as j,q as E,s as A,t as R,O as D,v as L,w as P}from"./ui-libs.BkUXriMf.js";import{r as F,a as O,g as q}from"./react-core.Gmj5k1uE.js";import{u as z,r as $,L as B,N as U,O as Q,R as V,b as H,c as W,d as K,a as G,e as Y,f as Z,B as X}from"./react-router.CxqFhiv8.js";import{w as J,n as ee,f as te,e as ne,c as ae,a as re,p as se,b as ie,d as oe,g as le,i as ce,h as ue,j as de,k as fe,l as pe,m as me,S as he,o as ge,q as ve,r as ye,s as be,t as xe,u as _e,v as Se,x as Ne,y as we,z as ke,A as Ce,B as Ie,C as Te,D as Me,E as je,F as Ee,G as Ae,P as Re}from"./redux-core.10CGpUcv.js";import{a as De,r as Le,b as Pe,p as Fe,c as Oe,$ as qe,o as ze,s as $e,d as Be,e as Ue,A as Qe}from"./utils.QI2dN_KI.js";import{i as Ve}from"./charts.CPsdNx2m.js";import{u as He,w as We}from"./files.BtghHq-e.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Ke,Ge,Ye,Ze,Xe={exports:{}},Je={},et={exports:{}},tt={};function nt(){return Ge||(Ge=1,et.exports=(Ke||(Ke=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,s=e[a];if(!(0<r(s,t)))break e;e[a]=t,e[n]=s,n=a}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,s=e.length,i=s>>>1;a<i;){var o=2*(a+1)-1,l=e[o],c=o+1,u=e[c];if(0>r(l,n))c<s&&0>r(u,l)?(e[a]=u,e[c]=n,a=c):(e[a]=l,e[o]=n,a=o);else{if(!(c<s&&0>r(u,n)))break e;e[a]=u,e[c]=n,a=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],c=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var r=n(c);null!==r;){if(null===r.callback)a(c);else{if(!(r.startTime<=e))break;a(c),r.sortIndex=r.expirationTime,t(l,r)}r=n(c)}}function _(e){if(h=!1,x(e),!m)if(null!==n(l))m=!0,N||(N=!0,S());else{var t=n(c);null!==t&&E(_,t.startTime-e)}}var S,N=!1,w=-1,k=5,C=-1;function I(){return!(!g&&e.unstable_now()-C<k)}function T(){if(g=!1,N){var t=e.unstable_now();C=t;var r=!0;try{e:{m=!1,h&&(h=!1,y(w),w=-1),p=!0;var s=f;try{t:{for(x(t),d=n(l);null!==d&&!(d.expirationTime>t&&I());){var i=d.callback;if("function"==typeof i){d.callback=null,f=d.priorityLevel;var o=i(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){d.callback=o,x(t),r=!0;break t}d===n(l)&&a(l),x(t)}else a(l);d=n(l)}if(null!==d)r=!0;else{var u=n(c);null!==u&&E(_,u.startTime-t),r=!1}}break e}finally{d=null,f=s,p=!1}r=void 0}}finally{r?S():N=!1}}}if("function"==typeof b)S=function(){b(T)};else if("undefined"!=typeof MessageChannel){var M=new MessageChannel,j=M.port2;M.port1.onmessage=T,S=function(){j.postMessage(null)}}else S=function(){v(T,0)};function E(t,n){w=v(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(k=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(a,r,s){var i=e.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?i+s:i,a){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return a={id:u++,callback:r,priorityLevel:a,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(a.sortIndex=s,t(c,a),null===n(l)&&a===n(c)&&(h?(y(w),w=-1):h=!0,E(_,s-i))):(a.sortIndex=o,t(l,a),m||p||(m=!0,N||(N=!0,S()))),a},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}}(tt)),tt)),et.exports}function at(){if(Ye)return Je;Ye=1;var e=nt(),t=F(),n=O();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function i(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function o(e){if(s(e)!==e)throw Error(a(188))}function l(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=l(e)))return t;e=e.sibling}return null}var c=Object.assign,u=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function I(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=C&&e[C]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function M(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case p:return"Fragment";case h:return"Profiler";case m:return"StrictMode";case x:return"Suspense";case _:return"SuspenseList";case w:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case f:return"Portal";case y:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case b:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:M(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return M(e(t))}catch(n){}}return null}var j=Array.isArray,E=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},D=[],L=-1;function P(e){return{current:e}}function q(e){0>L||(e.current=D[L],D[L]=null,L--)}function z(e,t){L++,D[L]=e.current,e.current=t}var $=P(null),B=P(null),U=P(null),Q=P(null);function V(e,t){switch(z(U,t),z(B,e),z($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=od(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q($),z($,e)}function H(){q($),q(B),q(U)}function W(e){null!==e.memoizedState&&z(Q,e);var t=$.current,n=od(t,e.type);t!==n&&(z(B,e),z($,n))}function K(e){B.current===e&&(q($),q(B)),Q.current===e&&(q(Q),Yd._currentValue=R)}var G=Object.prototype.hasOwnProperty,Y=e.unstable_scheduleCallback,Z=e.unstable_cancelCallback,X=e.unstable_shouldYield,J=e.unstable_requestPaint,ee=e.unstable_now,te=e.unstable_getCurrentPriorityLevel,ne=e.unstable_ImmediatePriority,ae=e.unstable_UserBlockingPriority,re=e.unstable_NormalPriority,se=e.unstable_LowPriority,ie=e.unstable_IdlePriority,oe=e.log,le=e.unstable_setDisableYieldValue,ce=null,ue=null;function de(e){if("function"==typeof oe&&le(e),ue&&"function"==typeof ue.setStrictMode)try{ue.setStrictMode(ce,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var he=256,ge=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ye(e,t,n){var a=e.pendingLanes;if(0===a)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&a;return 0!==o?0!==(a=o&~s)?r=ve(a):0!==(i&=o)?r=ve(i):n||0!==(n=o&~e)&&(r=ve(n)):0!==(o=a&~s)?r=ve(o):0!==i?r=ve(i):n||0!==(n=a&~e)&&(r=ve(n)),0===r?0:0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(n=t&-t)||32===s&&4194048&n)?t:r}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _e(){var e=he;return!(4194048&(he<<=1))&&(he=256),e}function Se(){var e=ge;return!(62914560&(ge<<=1))&&(ge=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function we(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ke(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-fe(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|4194090&n}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-fe(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Te(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Me(){var e=A.p;return 0!==e?e:void 0===(e=window.event)?32:ff(e.type)}var je=Math.random().toString(36).slice(2),Ee="__reactFiber$"+je,Ae="__reactProps$"+je,Re="__reactContainer$"+je,De="__reactEvents$"+je,Le="__reactListeners$"+je,Pe="__reactHandles$"+je,Fe="__reactResources$"+je,Oe="__reactMarker$"+je;function qe(e){delete e[Ee],delete e[Ae],delete e[De],delete e[Le],delete e[Pe]}function ze(e){var t=e[Ee];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Re]||n[Ee]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=_d(e);null!==e;){if(n=e[Ee])return n;e=_d(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[Ee]||e[Re]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Be(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ue(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qe(e){e[Oe]=!0}var Ve=new Set,He={};function We(e,t){Ke(e,t),Ke(e+"Capture",t)}function Ke(e,t){for(He[e]=t,e=0;e<t.length;e++)Ve.add(t[e])}var Ge,Ze,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),et={},tt={};function at(e,t,n){if(r=t,G.call(tt,r)||!G.call(et,r)&&(Xe.test(r)?tt[r]=!0:(et[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function rt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function st(e,t,n,a){if(null===a)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+a)}}function it(e){if(void 0===Ge)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ge=t&&t[1]||"",Ze=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ge+e+Ze}var ot=!1;function lt(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var a=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){a=s}e.call(n.prototype)}}else{try{throw Error()}catch(i){a=i}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&a&&"string"==typeof o.stack)return[o.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),i=s[0],o=s[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(r=a=0;a<l.length&&!l[a].includes("DetermineComponentFrameRoot");)a++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(a===l.length||r===c.length)for(a=l.length-1,r=c.length-1;1<=a&&0<=r&&l[a]!==c[r];)r--;for(;1<=a&&0<=r;a--,r--)if(l[a]!==c[r]){if(1!==a||1!==r)do{if(a--,0>--r||l[a]!==c[r]){var u="\n"+l[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=r);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function ct(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return lt(e.type,!1);case 11:return lt(e.type.render,!1);case 1:return lt(e.type,!0);case 31:return it("Activity");default:return""}}function ut(e){try{var t="";do{t+=ct(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ft(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function pt(e){e._valueTracker||(e._valueTracker=function(e){var t=ft(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ft(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function ht(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,a,r,s,i,o){e.name="",null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?xt(e,i,dt(t)):null!=n?xt(e,i,dt(n)):null!=a&&e.removeAttribute("value"),null==r&&null!=s&&(e.defaultChecked=!!s),null!=r&&(e.checked=r&&"function"!=typeof r&&"symbol"!=typeof r),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+dt(o):e.removeAttribute("name")}function bt(e,t,n,a,r,s,i,o){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(("submit"===s||"reset"===s)&&null==t)return;n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}a="function"!=typeof(a=null!=a?a:r)&&"symbol"!=typeof a&&!!a,e.checked=o?e.checked:!!a,e.defaultChecked=!!a,null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.name=i)}function xt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _t(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Nt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(j(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function wt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var a=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,n):"number"!=typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function It(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&Ct(e,s,r)}else for(var i in t)t.hasOwnProperty(i)&&Ct(e,i,t[i])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Et(e){return jt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Lt=null;function Pt(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[Ae]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[Ae]||null;if(!s)throw Error(a(90));yt(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&mt(r)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&_t(e,!!n.multiple,t,!1)}}}var Ft=!1;function Ot(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Dt||null!==Lt)&&(Uc(),Dt&&(t=Dt,e=Lt,Lt=Dt=null,Pt(t),e)))for(t=0;t<e.length;t++)Pt(e[t])}}function qt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ae]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var zt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),$t=!1;if(zt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){$t=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Pf){$t=!1}var Ut=null,Qt=null,Vt=null;function Ht(){if(Vt)return Vt;var e,t,n=Qt,a=n.length,r="value"in Ut?Ut.value:Ut.textContent,s=r.length;for(e=0;e<a&&n[e]===r[e];e++);var i=a-e;for(t=1;t<=i&&n[a-t]===r[s-t];t++);return Vt=r.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Gt(){return!1}function Yt(e){function t(t,n,a,r,s){for(var i in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Kt:Gt,this.isPropagationStopped=Gt,this}return c(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Zt,Xt,Jt,en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tn=Yt(en),nn=c({},en,{view:0,detail:0}),an=Yt(nn),rn=c({},nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Zt=e.screenX-Jt.screenX,Xt=e.screenY-Jt.screenY):Xt=Zt=0,Jt=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),sn=Yt(rn),on=Yt(c({},rn,{dataTransfer:0})),ln=Yt(c({},nn,{relatedTarget:0})),cn=Yt(c({},en,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Yt(c({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Yt(c({},en,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function gn(){return hn}var vn=Yt(c({},nn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yn=Yt(c({},rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Yt(c({},nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),xn=Yt(c({},en,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=Yt(c({},rn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Yt(c({},en,{newState:0,oldState:0})),Nn=[9,13,27,32],wn=zt&&"CompositionEvent"in window,kn=null;zt&&"documentMode"in document&&(kn=document.documentMode);var Cn=zt&&"TextEvent"in window&&!kn,In=zt&&(!wn||kn&&8<kn&&11>=kn),Tn=String.fromCharCode(32),Mn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function En(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Ln(e,t,n,a){Dt?Lt?Lt.push(a):Lt=[a]:Dt=a,0<(t=Hu(t,"onChange")).length&&(n=new tn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Pn=null,Fn=null;function On(e){Ou(e,0)}function qn(e){if(mt(Be(e)))return e}function zn(e,t){if("change"===e)return t}var $n=!1;if(zt){var Bn;if(zt){var Un="oninput"in document;if(!Un){var Qn=document.createElement("div");Qn.setAttribute("oninput","return;"),Un="function"==typeof Qn.oninput}Bn=Un}else Bn=!1;$n=Bn&&(!document.documentMode||9<document.documentMode)}function Vn(){Pn&&(Pn.detachEvent("onpropertychange",Hn),Fn=Pn=null)}function Hn(e){if("value"===e.propertyName&&qn(Fn)){var t=[];Ln(t,Fn,e,Rt(e)),Ot(On,t)}}function Wn(e,t,n){"focusin"===e?(Vn(),Fn=n,(Pn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Vn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Fn)}function Gn(e,t){if("click"===e)return qn(t)}function Yn(e,t){if("input"===e||"change"===e)return qn(t)}var Zn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Xn(e,t){if(Zn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!G.call(t,r)||!Zn(e[r],t[r]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ea(e,t){var n,a=Jn(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jn(a)}}function ta(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ta(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function na(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function aa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ra=zt&&"documentMode"in document&&11>=document.documentMode,sa=null,ia=null,oa=null,la=!1;function ca(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;la||null==sa||sa!==ht(a)||("selectionStart"in(a=sa)&&aa(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},oa&&Xn(oa,a)||(oa=a,0<(a=Hu(ia,"onSelect")).length&&(t=new tn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=sa)))}function ua(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var da={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},fa={},pa={};function ma(e){if(fa[e])return fa[e];if(!da[e])return e;var t,n=da[e];for(t in n)if(n.hasOwnProperty(t)&&t in pa)return fa[e]=n[t];return e}zt&&(pa=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);var ha=ma("animationend"),ga=ma("animationiteration"),va=ma("animationstart"),ya=ma("transitionrun"),ba=ma("transitionstart"),xa=ma("transitioncancel"),_a=ma("transitionend"),Sa=new Map,Na="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(e,t){Sa.set(e,t),We(t,[e])}Na.push("scrollEnd");var ka=new WeakMap;function Ca(e,t){if("object"==typeof e&&null!==e){var n=ka.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ut(t)},ka.set(e,t),t)}return{value:e,source:t,stack:ut(t)}}var Ia=[],Ta=0,Ma=0;function ja(){for(var e=Ta,t=Ma=Ta=0;t<e;){var n=Ia[t];Ia[t++]=null;var a=Ia[t];Ia[t++]=null;var r=Ia[t];Ia[t++]=null;var s=Ia[t];if(Ia[t++]=null,null!==a&&null!==r){var i=a.pending;null===i?r.next=r:(r.next=i.next,i.next=r),a.pending=r}0!==s&&Da(n,r,s)}}function Ea(e,t,n,a){Ia[Ta++]=e,Ia[Ta++]=t,Ia[Ta++]=n,Ia[Ta++]=a,Ma|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function Aa(e,t,n,a){return Ea(e,t,n,a),La(e)}function Ra(e,t){return Ea(e,null,null,t),La(e)}function Da(e,t,n){e.lanes|=n;var a=e.alternate;null!==a&&(a.lanes|=n);for(var r=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(a=s.alternate)&&(a.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(r=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,r&&null!==t&&(r=31-fe(n),null===(a=(e=s.hiddenUpdates)[r])?e[r]=[t]:a.push(t),t.lane=536870912|n),s):null}function La(e){if(50<Dc)throw Dc=0,Lc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Pa={};function Fa(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oa(e,t,n,a){return new Fa(e,t,n,a)}function qa(e){return!(!(e=e.prototype)||!e.isReactComponent)}function za(e,t){var n=e.alternate;return null===n?((n=Oa(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function $a(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ba(e,t,n,r,s,i){var o=0;if(r=e,"function"==typeof e)qa(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,$.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case w:return(e=Oa(31,n,t,s)).elementType=w,e.lanes=i,e;case p:return Ua(n.children,s,i,t);case m:o=8,s|=24;break;case h:return(e=Oa(12,n,t,2|s)).elementType=h,e.lanes=i,e;case x:return(e=Oa(13,n,t,s)).elementType=x,e.lanes=i,e;case _:return(e=Oa(19,n,t,s)).elementType=_,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case g:case y:o=10;break e;case v:o=9;break e;case b:o=11;break e;case S:o=14;break e;case N:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Oa(o,n,t,s)).elementType=e,t.type=r,t.lanes=i,t}function Ua(e,t,n,a){return(e=Oa(7,e,a,t)).lanes=n,e}function Qa(e,t,n){return(e=Oa(6,e,null,t)).lanes=n,e}function Va(e,t,n){return(t=Oa(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ha=[],Wa=0,Ka=null,Ga=0,Ya=[],Za=0,Xa=null,Ja=1,er="";function tr(e,t){Ha[Wa++]=Ga,Ha[Wa++]=Ka,Ka=e,Ga=t}function nr(e,t,n){Ya[Za++]=Ja,Ya[Za++]=er,Ya[Za++]=Xa,Xa=e;var a=Ja;e=er;var r=32-fe(a)-1;a&=~(1<<r),n+=1;var s=32-fe(t)+r;if(30<s){var i=r-r%5;s=(a&(1<<i)-1).toString(32),a>>=i,r-=i,Ja=1<<32-fe(t)+r|n<<r|a,er=s+e}else Ja=1<<s|n<<r|a,er=e}function ar(e){null!==e.return&&(tr(e,1),nr(e,1,0))}function rr(e){for(;e===Ka;)Ka=Ha[--Wa],Ha[Wa]=null,Ga=Ha[--Wa],Ha[Wa]=null;for(;e===Xa;)Xa=Ya[--Za],Ya[Za]=null,er=Ya[--Za],Ya[Za]=null,Ja=Ya[--Za],Ya[Za]=null}var sr=null,ir=null,or=!1,lr=null,cr=!1,ur=Error(a(519));function dr(e){throw vr(Ca(Error(a(418,"")),e)),ur}function fr(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Ee]=e,t[Ae]=a,n){case"dialog":qu("cancel",t),qu("close",t);break;case"iframe":case"object":case"embed":qu("load",t);break;case"video":case"audio":for(n=0;n<Pu.length;n++)qu(Pu[n],t);break;case"source":qu("error",t);break;case"img":case"image":case"link":qu("error",t),qu("load",t);break;case"details":qu("toggle",t);break;case"input":qu("invalid",t),bt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),pt(t);break;case"select":qu("invalid",t);break;case"textarea":qu("invalid",t),Nt(t,a.value,a.defaultValue,a.children),pt(t)}"string"!=typeof(n=a.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===a.suppressHydrationWarning||Xu(t.textContent,n)?(null!=a.popover&&(qu("beforetoggle",t),qu("toggle",t)),null!=a.onScroll&&qu("scroll",t),null!=a.onScrollEnd&&qu("scrollend",t),null!=a.onClick&&(t.onclick=Ju),t=!0):t=!1,t||dr(e)}function pr(e){for(sr=e.return;sr;)switch(sr.tag){case 5:case 13:return void(cr=!1);case 27:case 3:return void(cr=!0);default:sr=sr.return}}function mr(e){if(e!==sr)return!1;if(!or)return pr(e),or=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ld(e.type,e.memoizedProps)),t=!t),t&&ir&&dr(e),pr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ir=bd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ir=null}}else 27===n?(n=ir,hd(e.type)?(e=xd,xd=null,ir=e):ir=n):ir=sr?bd(e.stateNode.nextSibling):null;return!0}function hr(){ir=sr=null,or=!1}function gr(){var e=lr;return null!==e&&(null===_c?_c=e:_c.push.apply(_c,e),lr=null),e}function vr(e){null===lr?lr=[e]:lr.push(e)}var yr=P(null),br=null,xr=null;function _r(e,t,n){z(yr,t._currentValue),t._currentValue=n}function Sr(e){e._currentValue=yr.current,q(yr)}function Nr(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function wr(e,t,n,r){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var i=s.dependencies;if(null!==i){var o=s.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Nr(i.return,n,e),r||(o=null);break e}i=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),Nr(o,n,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function kr(e,t,n,r){e=null;for(var s=t,i=!1;null!==s;){if(!i)if(524288&s.flags)i=!0;else if(262144&s.flags)break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=s.type;Zn(s.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(s===Q.current){if(null===(o=s.alternate))throw Error(a(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(Yd):e=[Yd])}s=s.return}null!==e&&wr(t,e,n,r),t.flags|=262144}function Cr(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ir(e){br=e,xr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Tr(e){return jr(br,e)}function Mr(e,t){return null===br&&Ir(e),jr(e,t)}function jr(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===xr){if(null===e)throw Error(a(308));xr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xr=xr.next=t;return n}var Er="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ar=e.unstable_scheduleCallback,Rr=e.unstable_NormalPriority,Dr={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lr(){return{controller:new Er,data:new Map,refCount:0}}function Pr(e){e.refCount--,0===e.refCount&&Ar(Rr,function(){e.controller.abort()})}var Fr=null,Or=0,qr=0,zr=null;function $r(){if(0===--Or&&null!==Fr){null!==zr&&(zr.status="fulfilled");var e=Fr;Fr=null,qr=0,zr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Br=E.S;E.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Fr){var n=Fr=[];Or=0,qr=Eu(),zr={status:"pending",value:void 0,then:function(e){n.push(e)}}}Or++,t.then($r,$r)}(0,t),null!==Br&&Br(e,t)};var Ur=P(null);function Qr(){var e=Ur.current;return null!==e?e:sc.pooledCache}function Vr(e,t){z(Ur,null===t?Ur.current:t.pool)}function Hr(){var e=Qr();return null===e?null:{parent:Dr._currentValue,pool:e}}var Wr=Error(a(460)),Kr=Error(a(474)),Gr=Error(a(542)),Yr={then:function(){}};function Zr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xr(){}function Jr(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xr,Xr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ns(e=t.reason),e;default:if("string"==typeof t.status)t.then(Xr,Xr);else{if(null!==(e=sc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ns(e=t.reason),e}throw es=t,Wr}}var es=null;function ts(){if(null===es)throw Error(a(459));var e=es;return es=null,e}function ns(e){if(e===Wr||e===Gr)throw Error(a(483))}var as=!1;function rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ss(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function os(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,2&rc){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=La(e),Da(e,null,n),t}return Ea(e,a,t,n),La(e)}function ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Ce(e,n)}}function cs(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?r=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var us=!1;function ds(){if(us){if(null!==zr)throw zr}}function fs(e,t,n,a){us=!1;var r=e.updateQueue;as=!1;var s=r.firstBaseUpdate,i=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,u=l.next;l.next=null,null===i?s=u:i.next=u,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(null!==s){var f=r.baseState;for(i=0,d=u=l=null,o=s;;){var p=-536870913&o.lane,m=p!==o.lane;if(m?(oc&p)===p:(a&p)===p){0!==p&&p===qr&&(us=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var h=e,g=o;p=t;var v=n;switch(g.tag){case 1:if("function"==typeof(h=g.payload)){f=h.call(v,f,p);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(p="function"==typeof(h=g.payload)?h.call(v,f,p):h))break e;f=c({},f,p);break e;case 2:as=!0}}null!==(p=o.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=r.callbacks)?r.callbacks=[p]:m.push(p))}else m={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(u=d=m,l=f):d=d.next=m,i|=p;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(m=o).next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}null===d&&(l=f),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=d,null===s&&(r.shared.lanes=0),hc|=i,e.lanes=i,e.memoizedState=f}}function ps(e,t){if("function"!=typeof e)throw Error(a(191,e));e.call(t)}function ms(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ps(n[e],t)}var hs=P(null),gs=P(0);function vs(e,t){z(gs,e=pc),z(hs,t),pc=e|t.baseLanes}function ys(){z(gs,pc),z(hs,hs.current)}function bs(){pc=gs.current,q(hs),q(gs)}var xs=0,_s=null,Ss=null,Ns=null,ws=!1,ks=!1,Cs=!1,Is=0,Ts=0,Ms=null,js=0;function Es(){throw Error(a(321))}function As(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function Rs(e,t,n,a,r,s){return xs=s,_s=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,E.H=null===e||null===e.memoizedState?Wi:Ki,Cs=!1,s=n(a,r),Cs=!1,ks&&(s=Ls(t,n,a,r)),Ds(e),s}function Ds(e){E.H=Hi;var t=null!==Ss&&null!==Ss.next;if(xs=0,Ns=Ss=_s=null,ws=!1,Ts=0,Ms=null,t)throw Error(a(300));null===e||Mo||null!==(e=e.dependencies)&&Cr(e)&&(Mo=!0)}function Ls(e,t,n,r){_s=e;var s=0;do{if(ks&&(Ms=null),Ts=0,ks=!1,25<=s)throw Error(a(301));if(s+=1,Ns=Ss=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}E.H=Gi,i=t(n,r)}while(ks);return i}function Ps(){var e=E.H,t=e.useState()[0];return t="function"==typeof t.then?Bs(t):t,e=e.useState()[0],(null!==Ss?Ss.memoizedState:null)!==e&&(_s.flags|=1024),t}function Fs(){var e=0!==Is;return Is=0,e}function Os(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function qs(e){if(ws){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ws=!1}xs=0,Ns=Ss=_s=null,ks=!1,Ts=Is=0,Ms=null}function zs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ns?_s.memoizedState=Ns=e:Ns=Ns.next=e,Ns}function $s(){if(null===Ss){var e=_s.alternate;e=null!==e?e.memoizedState:null}else e=Ss.next;var t=null===Ns?_s.memoizedState:Ns.next;if(null!==t)Ns=t,Ss=e;else{if(null===e){if(null===_s.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(Ss=e).memoizedState,baseState:Ss.baseState,baseQueue:Ss.baseQueue,queue:Ss.queue,next:null},null===Ns?_s.memoizedState=Ns=e:Ns=Ns.next=e}return Ns}function Bs(e){var t=Ts;return Ts+=1,null===Ms&&(Ms=[]),e=Jr(Ms,e,t),t=_s,null===(null===Ns?t.memoizedState:Ns.next)&&(t=t.alternate,E.H=null===t||null===t.memoizedState?Wi:Ki),e}function Us(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Bs(e);if(e.$$typeof===y)return Tr(e)}throw Error(a(438,String(e)))}function Qs(e){var t=null,n=_s.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var a=_s.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},_s.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=k;return t.index++,n}function Vs(e,t){return"function"==typeof t?t(e):t}function Hs(e){return Ws($s(),Ss,e)}function Ws(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var s=e.baseQueue,i=r.pending;if(null!==i){if(null!==s){var o=s.next;s.next=i.next,i.next=o}t.baseQueue=s=i,r.pending=null}if(i=e.baseState,null===s)e.memoizedState=i;else{var l=o=null,c=null,u=t=s.next,d=!1;do{var f=-536870913&u.lane;if(f!==u.lane?(oc&f)===f:(xs&f)===f){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===qr&&(d=!0);else{if((xs&p)===p){u=u.next,p===qr&&(d=!0);continue}f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=i):c=c.next=f,_s.lanes|=p,hc|=p}f=u.action,Cs&&n(i,f),i=u.hasEagerState?u.eagerState:n(i,f)}else p={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,o=i):c=c.next=p,_s.lanes|=f,hc|=f;u=u.next}while(null!==u&&u!==t);if(null===c?o=i:c.next=l,!Zn(i,e.memoizedState)&&(Mo=!0,d&&null!==(n=zr)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=c,r.lastRenderedState=i}return null===s&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ks(e){var t=$s(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{i=e(i,o.action),o=o.next}while(o!==s);Zn(i,t.memoizedState)||(Mo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Gs(e,t,n){var r=_s,s=$s(),i=or;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Zn((Ss||s).memoizedState,n);if(o&&(s.memoizedState=n,Mo=!0),s=s.queue,yi(2048,8,Xs.bind(null,r,s,e),[e]),s.getSnapshot!==t||o||null!==Ns&&1&Ns.memoizedState.tag){if(r.flags|=2048,hi(9,{destroy:void 0,resource:void 0},Zs.bind(null,r,s,n,t),null),null===sc)throw Error(a(349));i||124&xs||Ys(r,t,n)}return n}function Ys(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=_s.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},_s.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Zs(e,t,n,a){t.value=n,t.getSnapshot=a,Js(t)&&ei(e)}function Xs(e,t,n){return n(function(){Js(t)&&ei(e)})}function Js(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(a){return!0}}function ei(e){var t=Ra(e,2);null!==t&&Oc(t,e,2)}function ti(e){var t=zs();if("function"==typeof e){var n=e;if(e=n(),Cs){de(!0);try{n()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:e},t}function ni(e,t,n,a){return e.baseState=n,Ws(e,Ss,"function"==typeof a?a:Vs)}function ai(e,t,n,r,s){if(Ui(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==E.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,ri(t,i)):(i.next=n.next,t.pending=n.next=i)}}function ri(e,t){var n=t.action,a=t.payload,r=e.state;if(t.isTransition){var s=E.T,i={};E.T=i;try{var o=n(r,a),l=E.S;null!==l&&l(i,o),si(e,t,o)}catch(c){oi(e,t,c)}finally{E.T=s}}else try{si(e,t,s=n(r,a))}catch(u){oi(e,t,u)}}function si(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){ii(e,t,n)},function(n){return oi(e,t,n)}):ii(e,t,n)}function ii(e,t,n){t.status="fulfilled",t.value=n,li(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ri(e,n)))}function oi(e,t,n){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=n,li(t),t=t.next}while(t!==a)}e.action=null}function li(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ci(e,t){return t}function ui(e,t){if(or){var n=sc.formState;if(null!==n){e:{var a=_s;if(or){if(ir){t:{for(var r=ir,s=cr;8!==r.nodeType;){if(!s){r=null;break t}if(null===(r=bd(r.nextSibling))){r=null;break t}}r="F!"===(s=r.data)||"F"===s?r:null}if(r){ir=bd(r.nextSibling),a="F!"===r.data;break e}}dr(a)}a=!1}a&&(t=n[0])}}return(n=zs()).memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:t},n.queue=a,n=zi.bind(null,_s,a),a.dispatch=n,a=ti(!1),s=Bi.bind(null,_s,!1,a.queue),r={state:t,dispatch:null,action:e,pending:null},(a=zs()).queue=r,n=ai.bind(null,_s,r,s,n),r.dispatch=n,a.memoizedState=e,[t,n,!1]}function di(e){return fi($s(),Ss,e)}function fi(e,t,n){if(t=Ws(e,t,ci)[0],e=Hs(Vs)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var a=Bs(t)}catch(i){if(i===Wr)throw Gr;throw i}else a=t;var r=(t=$s()).queue,s=r.dispatch;return n!==t.memoizedState&&(_s.flags|=2048,hi(9,{destroy:void 0,resource:void 0},pi.bind(null,r,n),null)),[a,s,e]}function pi(e,t){e.action=t}function mi(e){var t=$s(),n=Ss;if(null!==n)return fi(t,n,e);$s(),t=t.memoizedState;var a=(n=$s()).queue.dispatch;return n.memoizedState=e,[t,a,!1]}function hi(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},null===(t=_s.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},_s.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function gi(){return $s().memoizedState}function vi(e,t,n,a){var r=zs();a=void 0===a?null:a,_s.flags|=e,r.memoizedState=hi(1|t,{destroy:void 0,resource:void 0},n,a)}function yi(e,t,n,a){var r=$s();a=void 0===a?null:a;var s=r.memoizedState.inst;null!==Ss&&null!==a&&As(a,Ss.memoizedState.deps)?r.memoizedState=hi(t,s,n,a):(_s.flags|=e,r.memoizedState=hi(1|t,s,n,a))}function bi(e,t){vi(8390656,8,e,t)}function xi(e,t){yi(2048,8,e,t)}function _i(e,t){return yi(4,2,e,t)}function Si(e,t){return yi(4,4,e,t)}function Ni(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function wi(e,t,n){n=null!=n?n.concat([e]):null,yi(4,4,Ni.bind(null,t,e),n)}function ki(){}function Ci(e,t){var n=$s();t=void 0===t?null:t;var a=n.memoizedState;return null!==t&&As(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Ii(e,t){var n=$s();t=void 0===t?null:t;var a=n.memoizedState;if(null!==t&&As(t,a[1]))return a[0];if(a=e(),Cs){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[a,t],a}function Ti(e,t,n){return void 0===n||1073741824&xs?e.memoizedState=t:(e.memoizedState=n,e=Fc(),_s.lanes|=e,hc|=e,n)}function Mi(e,t,n,a){return Zn(n,t)?n:null!==hs.current?(e=Ti(e,n,a),Zn(e,t)||(Mo=!0),e):42&xs?(e=Fc(),_s.lanes|=e,hc|=e,t):(Mo=!0,e.memoizedState=n)}function ji(e,t,n,a,r){var s=A.p;A.p=0!==s&&8>s?s:8;var i,o,l,c=E.T,u={};E.T=u,Bi(e,!1,t,n);try{var d=r(),f=E.S;if(null!==f&&f(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)$i(e,t,(i=a,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},d.then(function(){l.status="fulfilled",l.value=i;for(var e=0;e<o.length;e++)(0,o[e])(i)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l),Pc());else $i(e,t,a,Pc())}catch(p){$i(e,t,{then:function(){},status:"rejected",reason:p},Pc())}finally{A.p=s,E.T=c}}function Ei(){}function Ai(e,t,n,r){if(5!==e.tag)throw Error(a(476));var s=Ri(e).queue;ji(e,s,t,R,null===n?Ei:function(){return Di(e),n(r)})}function Ri(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:R},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Di(e){$i(e,Ri(e).next.queue,{},Pc())}function Li(){return Tr(Yd)}function Pi(){return $s().memoizedState}function Fi(){return $s().memoizedState}function Oi(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Pc(),a=os(t,e=is(n),n);return null!==a&&(Oc(a,t,n),ls(a,t,n)),t={cache:Lr()},void(e.payload=t)}t=t.return}}function qi(e,t,n){var a=Pc();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ui(e)?Qi(t,n):null!==(n=Aa(e,t,n,a))&&(Oc(n,e,a),Vi(n,t,a))}function zi(e,t,n){$i(e,t,n,Pc())}function $i(e,t,n,a){var r={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ui(e))Qi(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(r.hasEagerState=!0,r.eagerState=o,Zn(o,i))return Ea(e,t,r,0),null===sc&&ja(),!1}catch(l){}if(null!==(n=Aa(e,t,r,a)))return Oc(n,e,a),Vi(n,t,a),!0}return!1}function Bi(e,t,n,r){if(r={lane:2,revertLane:Eu(),action:r,hasEagerState:!1,eagerState:null,next:null},Ui(e)){if(t)throw Error(a(479))}else null!==(t=Aa(e,n,r,2))&&Oc(t,e,2)}function Ui(e){var t=e.alternate;return e===_s||null!==t&&t===_s}function Qi(e,t){ks=ws=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vi(e,t,n){if(4194048&n){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Ce(e,n)}}var Hi={readContext:Tr,use:Us,useCallback:Es,useContext:Es,useEffect:Es,useImperativeHandle:Es,useLayoutEffect:Es,useInsertionEffect:Es,useMemo:Es,useReducer:Es,useRef:Es,useState:Es,useDebugValue:Es,useDeferredValue:Es,useTransition:Es,useSyncExternalStore:Es,useId:Es,useHostTransitionStatus:Es,useFormState:Es,useActionState:Es,useOptimistic:Es,useMemoCache:Es,useCacheRefresh:Es},Wi={readContext:Tr,use:Us,useCallback:function(e,t){return zs().memoizedState=[e,void 0===t?null:t],e},useContext:Tr,useEffect:bi,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,vi(4194308,4,Ni.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vi(4194308,4,e,t)},useInsertionEffect:function(e,t){vi(4,2,e,t)},useMemo:function(e,t){var n=zs();t=void 0===t?null:t;var a=e();if(Cs){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=zs();if(void 0!==n){var r=n(t);if(Cs){de(!0);try{n(t)}finally{de(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=qi.bind(null,_s,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},zs().memoizedState=e},useState:function(e){var t=(e=ti(e)).queue,n=zi.bind(null,_s,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ki,useDeferredValue:function(e,t){return Ti(zs(),e,t)},useTransition:function(){var e=ti(!1);return e=ji.bind(null,_s,e.queue,!0,!1),zs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=_s,s=zs();if(or){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===sc)throw Error(a(349));124&oc||Ys(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,bi(Xs.bind(null,r,i,e),[e]),r.flags|=2048,hi(9,{destroy:void 0,resource:void 0},Zs.bind(null,r,i,n,t),null),n},useId:function(){var e=zs(),t=sc.identifierPrefix;if(or){var n=er;t=""+t+"R"+(n=(Ja&~(1<<32-fe(Ja)-1)).toString(32)+n),0<(n=Is++)&&(t+="H"+n.toString(32)),t+=""}else t=""+t+"r"+(n=js++).toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Li,useFormState:ui,useActionState:ui,useOptimistic:function(e){var t=zs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bi.bind(null,_s,!0,n),n.dispatch=t,[e,t]},useMemoCache:Qs,useCacheRefresh:function(){return zs().memoizedState=Oi.bind(null,_s)}},Ki={readContext:Tr,use:Us,useCallback:Ci,useContext:Tr,useEffect:xi,useImperativeHandle:wi,useInsertionEffect:_i,useLayoutEffect:Si,useMemo:Ii,useReducer:Hs,useRef:gi,useState:function(){return Hs(Vs)},useDebugValue:ki,useDeferredValue:function(e,t){return Mi($s(),Ss.memoizedState,e,t)},useTransition:function(){var e=Hs(Vs)[0],t=$s().memoizedState;return["boolean"==typeof e?e:Bs(e),t]},useSyncExternalStore:Gs,useId:Pi,useHostTransitionStatus:Li,useFormState:di,useActionState:di,useOptimistic:function(e,t){return ni($s(),0,e,t)},useMemoCache:Qs,useCacheRefresh:Fi},Gi={readContext:Tr,use:Us,useCallback:Ci,useContext:Tr,useEffect:xi,useImperativeHandle:wi,useInsertionEffect:_i,useLayoutEffect:Si,useMemo:Ii,useReducer:Ks,useRef:gi,useState:function(){return Ks(Vs)},useDebugValue:ki,useDeferredValue:function(e,t){var n=$s();return null===Ss?Ti(n,e,t):Mi(n,Ss.memoizedState,e,t)},useTransition:function(){var e=Ks(Vs)[0],t=$s().memoizedState;return["boolean"==typeof e?e:Bs(e),t]},useSyncExternalStore:Gs,useId:Pi,useHostTransitionStatus:Li,useFormState:mi,useActionState:mi,useOptimistic:function(e,t){var n=$s();return null!==Ss?ni(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Qs,useCacheRefresh:Fi},Yi=null,Zi=0;function Xi(e){var t=Zi;return Zi+=1,null===Yi&&(Yi=[]),Jr(Yi,e,t)}function Ji(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function eo(e,t){if(t.$$typeof===u)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function to(e){return(0,e._init)(e._payload)}function no(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=za(e,t)).index=0,e.sibling=null,e}function i(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=67108866,n):a:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,a){return null===t||6!==t.tag?((t=Qa(n,e.mode,a)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,a){var r=n.type;return r===p?m(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===r||"object"==typeof r&&null!==r&&r.$$typeof===N&&to(r)===t.type)?(Ji(t=s(t,n.props),n),t.return=e,t):(Ji(t=Ba(n.type,n.key,n.props,null,e.mode,a),n),t.return=e,t)}function u(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Va(n,e.mode,a)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function m(e,t,n,a,r){return null===t||7!==t.tag?((t=Ua(n,e.mode,a,r)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Qa(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case d:return Ji(n=Ba(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Va(t,e.mode,n)).return=e,t;case N:return h(e,t=(0,t._init)(t._payload),n)}if(j(t)||I(t))return(t=Ua(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return h(e,Xi(t),n);if(t.$$typeof===y)return h(e,Mr(e,t),n);eo(e,t)}return null}function g(e,t,n,a){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==r?null:l(e,t,""+n,a);if("object"==typeof n&&null!==n){switch(n.$$typeof){case d:return n.key===r?c(e,t,n,a):null;case f:return n.key===r?u(e,t,n,a):null;case N:return g(e,t,n=(r=n._init)(n._payload),a)}if(j(n)||I(n))return null!==r?null:m(e,t,n,a,null);if("function"==typeof n.then)return g(e,t,Xi(n),a);if(n.$$typeof===y)return g(e,t,Mr(e,n),a);eo(e,n)}return null}function v(e,t,n,a,r){if("string"==typeof a&&""!==a||"number"==typeof a||"bigint"==typeof a)return l(t,e=e.get(n)||null,""+a,r);if("object"==typeof a&&null!==a){switch(a.$$typeof){case d:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case f:return u(t,e=e.get(null===a.key?n:a.key)||null,a,r);case N:return v(e,t,n,a=(0,a._init)(a._payload),r)}if(j(a)||I(a))return m(t,e=e.get(n)||null,a,r,null);if("function"==typeof a.then)return v(e,t,n,Xi(a),r);if(a.$$typeof===y)return v(e,t,n,Mr(t,a),r);eo(t,a)}return null}function b(l,c,u,m){if("object"==typeof u&&null!==u&&u.type===p&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case d:e:{for(var x=u.key;null!==c;){if(c.key===x){if((x=u.type)===p){if(7===c.tag){n(l,c.sibling),(m=s(c,u.props.children)).return=l,l=m;break e}}else if(c.elementType===x||"object"==typeof x&&null!==x&&x.$$typeof===N&&to(x)===c.type){n(l,c.sibling),Ji(m=s(c,u.props),u),m.return=l,l=m;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===p?((m=Ua(u.props.children,l.mode,m,u.key)).return=l,l=m):(Ji(m=Ba(u.type,u.key,u.props,null,l.mode,m),u),m.return=l,l=m)}return o(l);case f:e:{for(x=u.key;null!==c;){if(c.key===x){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(m=s(c,u.children||[])).return=l,l=m;break e}n(l,c);break}t(l,c),c=c.sibling}(m=Va(u,l.mode,m)).return=l,l=m}return o(l);case N:return b(l,c,u=(x=u._init)(u._payload),m)}if(j(u))return function(a,s,o,l){for(var c=null,u=null,d=s,f=s=0,p=null;null!==d&&f<o.length;f++){d.index>f?(p=d,d=null):p=d.sibling;var m=g(a,d,o[f],l);if(null===m){null===d&&(d=p);break}e&&d&&null===m.alternate&&t(a,d),s=i(m,s,f),null===u?c=m:u.sibling=m,u=m,d=p}if(f===o.length)return n(a,d),or&&tr(a,f),c;if(null===d){for(;f<o.length;f++)null!==(d=h(a,o[f],l))&&(s=i(d,s,f),null===u?c=d:u.sibling=d,u=d);return or&&tr(a,f),c}for(d=r(d);f<o.length;f++)null!==(p=v(d,a,f,o[f],l))&&(e&&null!==p.alternate&&d.delete(null===p.key?f:p.key),s=i(p,s,f),null===u?c=p:u.sibling=p,u=p);return e&&d.forEach(function(e){return t(a,e)}),or&&tr(a,f),c}(l,c,u,m);if(I(u)){if("function"!=typeof(x=I(u)))throw Error(a(150));return function(s,o,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,f=o,p=o=0,m=null,y=l.next();null!==f&&!y.done;p++,y=l.next()){f.index>p?(m=f,f=null):m=f.sibling;var b=g(s,f,y.value,c);if(null===b){null===f&&(f=m);break}e&&f&&null===b.alternate&&t(s,f),o=i(b,o,p),null===d?u=b:d.sibling=b,d=b,f=m}if(y.done)return n(s,f),or&&tr(s,p),u;if(null===f){for(;!y.done;p++,y=l.next())null!==(y=h(s,y.value,c))&&(o=i(y,o,p),null===d?u=y:d.sibling=y,d=y);return or&&tr(s,p),u}for(f=r(f);!y.done;p++,y=l.next())null!==(y=v(f,s,p,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?p:y.key),o=i(y,o,p),null===d?u=y:d.sibling=y,d=y);return e&&f.forEach(function(e){return t(s,e)}),or&&tr(s,p),u}(l,c,u=x.call(u),m)}if("function"==typeof u.then)return b(l,c,Xi(u),m);if(u.$$typeof===y)return b(l,c,Mr(l,u),m);eo(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(m=s(c,u)).return=l,l=m):(n(l,c),(m=Qa(u,l.mode,m)).return=l,l=m),o(l)):n(l,c)}return function(e,t,n,a){try{Zi=0;var r=b(e,t,n,a);return Yi=null,r}catch(i){if(i===Wr||i===Gr)throw i;var s=Oa(29,i,null,e.mode);return s.lanes=a,s.return=e,s}}}var ao=no(!0),ro=no(!1),so=P(null),io=null;function oo(e){var t=e.alternate;z(fo,1&fo.current),z(so,e),null===io&&(null===t||null!==hs.current||null!==t.memoizedState)&&(io=e)}function lo(e){if(22===e.tag){if(z(fo,fo.current),z(so,e),null===io){var t=e.alternate;null!==t&&null!==t.memoizedState&&(io=e)}}else co()}function co(){z(fo,fo.current),z(so,so.current)}function uo(e){q(so),io===e&&(io=null),q(fo)}var fo=P(0);function po(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function mo(e,t,n,a){n=null==(n=n(a,t=e.memoizedState))?t:c({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ho={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Pc(),r=is(a);r.payload=t,null!=n&&(r.callback=n),null!==(t=os(e,r,a))&&(Oc(t,e,a),ls(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Pc(),r=is(a);r.tag=1,r.payload=t,null!=n&&(r.callback=n),null!==(t=os(e,r,a))&&(Oc(t,e,a),ls(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pc(),a=is(n);a.tag=2,null!=t&&(a.callback=t),null!==(t=os(e,a,n))&&(Oc(t,e,n),ls(t,e,n))}};function go(e,t,n,a,r,s,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,a)||!Xn(r,s))}function vo(e,t,n,a){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ho.enqueueReplaceState(t,t.state,null)}function yo(e,t){var n=t;if("ref"in t)for(var a in n={},t)"ref"!==a&&(n[a]=t[a]);if(e=e.defaultProps)for(var r in n===t&&(n=c({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}var bo="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function xo(e){bo(e)}function _o(e){}function So(e){bo(e)}function No(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function wo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function ko(e,t,n){return(n=is(n)).tag=3,n.payload={element:null},n.callback=function(){No(e,t)},n}function Co(e){return(e=is(e)).tag=3,e}function Io(e,t,n,a){var r=n.type.getDerivedStateFromError;if("function"==typeof r){var s=a.value;e.payload=function(){return r(s)},e.callback=function(){wo(t,n,a)}}var i=n.stateNode;null!==i&&"function"==typeof i.componentDidCatch&&(e.callback=function(){wo(t,n,a),"function"!=typeof r&&(null===Cc?Cc=new Set([this]):Cc.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var To=Error(a(461)),Mo=!1;function jo(e,t,n,a){t.child=null===e?ro(t,null,n,a):ao(t,e.child,n,a)}function Eo(e,t,n,a,r){n=n.render;var s=t.ref;if("ref"in a){var i={};for(var o in a)"ref"!==o&&(i[o]=a[o])}else i=a;return Ir(t),a=Rs(e,t,n,i,s,r),o=Fs(),null===e||Mo?(or&&o&&ar(t),t.flags|=1,jo(e,t,a,r),t.child):(Os(e,t,r),Zo(e,t,r))}function Ao(e,t,n,a,r){if(null===e){var s=n.type;return"function"!=typeof s||qa(s)||void 0!==s.defaultProps||null!==n.compare?((e=Ba(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ro(e,t,s,a,r))}if(s=e.child,!Xo(e,r)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(i,a)&&e.ref===t.ref)return Zo(e,t,r)}return t.flags|=1,(e=za(s,a)).ref=t.ref,e.return=t,t.child=e}function Ro(e,t,n,a,r){if(null!==e){var s=e.memoizedProps;if(Xn(s,a)&&e.ref===t.ref){if(Mo=!1,t.pendingProps=a=s,!Xo(e,r))return t.lanes=e.lanes,Zo(e,t,r);131072&e.flags&&(Mo=!0)}}return Fo(e,t,n,a,r)}function Do(e,t,n){var a=t.pendingProps,r=a.children,s=null!==e?e.memoizedState:null;if("hidden"===a.mode){if(128&t.flags){if(a=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,s=0;null!==r;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~a}else t.childLanes=0,t.child=null;return Lo(e,t,a,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Lo(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Vr(0,null!==s?s.cachePool:null),null!==s?vs(t,s):ys(),lo(t)}else null!==s?(Vr(0,s.cachePool),vs(t,s),co(),t.memoizedState=null):(null!==e&&Vr(0,null),ys(),co());return jo(e,t,r,n),t.child}function Lo(e,t,n,a){var r=Qr();return r=null===r?null:{parent:Dr._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&Vr(0,null),ys(),lo(t),null!==e&&kr(e,t,a,!0),null}function Po(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Fo(e,t,n,a,r){return Ir(t),n=Rs(e,t,n,a,void 0,r),a=Fs(),null===e||Mo?(or&&a&&ar(t),t.flags|=1,jo(e,t,n,r),t.child):(Os(e,t,r),Zo(e,t,r))}function Oo(e,t,n,a,r,s){return Ir(t),t.updateQueue=null,n=Ls(t,a,n,r),Ds(e),a=Fs(),null===e||Mo?(or&&a&&ar(t),t.flags|=1,jo(e,t,n,s),t.child):(Os(e,t,s),Zo(e,t,s))}function qo(e,t,n,a,r){if(Ir(t),null===t.stateNode){var s=Pa,i=n.contextType;"object"==typeof i&&null!==i&&(s=Tr(i)),s=new n(a,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=ho,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=a,s.state=t.memoizedState,s.refs={},rs(t),i=n.contextType,s.context="object"==typeof i&&null!==i?Tr(i):Pa,s.state=t.memoizedState,"function"==typeof(i=n.getDerivedStateFromProps)&&(mo(t,n,i,a),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(i=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&ho.enqueueReplaceState(s,s.state,null),fs(t,a,s,r),ds(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=yo(n,o);s.props=l;var c=s.context,u=n.contextType;i=Pa,"object"==typeof u&&null!==u&&(i=Tr(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o||c!==i)&&vo(t,s,a,i),as=!1;var f=t.memoizedState;s.state=f,fs(t,a,s,r),ds(),c=t.memoizedState,o||f!==c||as?("function"==typeof d&&(mo(t,n,d,a),c=t.memoizedState),(l=as||go(t,n,l,a,f,c,i))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),s.props=a,s.state=c,s.context=i,a=l):("function"==typeof s.componentDidMount&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,ss(e,t),u=yo(n,i=t.memoizedProps),s.props=u,d=t.pendingProps,f=s.context,c=n.contextType,l=Pa,"object"==typeof c&&null!==c&&(l=Tr(c)),(c="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(i!==d||f!==l)&&vo(t,s,a,l),as=!1,f=t.memoizedState,s.state=f,fs(t,a,s,r),ds();var p=t.memoizedState;i!==d||f!==p||as||null!==e&&null!==e.dependencies&&Cr(e.dependencies)?("function"==typeof o&&(mo(t,n,o,a),p=t.memoizedState),(u=as||go(t,n,u,a,f,p,l)||null!==e&&null!==e.dependencies&&Cr(e.dependencies))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(a,p,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(a,p,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),s.props=a,s.state=p,s.context=l,a=u):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,Po(e,t),a=!!(128&t.flags),s||a?(s=t.stateNode,n=a&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&a?(t.child=ao(t,e.child,null,r),t.child=ao(t,null,n,r)):jo(e,t,n,r),t.memoizedState=s.state,e=t.child):e=Zo(e,t,r),e}function zo(e,t,n,a){return hr(),t.flags|=256,jo(e,t,n,a),t.child}var $o={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bo(e){return{baseLanes:e,cachePool:Hr()}}function Uo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yc),e}function Qo(e,t,n){var r,s=t.pendingProps,i=!1,o=!!(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&!!(2&fo.current)),r&&(i=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(or){if(i?oo(t):co(),or){var l,c=ir;if(l=c){e:{for(l=c,c=cr;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=bd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xa?{id:Ja,overflow:er}:null,retryLane:536870912,hydrationErrors:null},(l=Oa(18,null,null,0)).stateNode=c,l.return=t,t.child=l,sr=t,ir=null,l=!0):l=!1}l||dr(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yd(c)?t.lanes=32:t.lanes=536870912,null;uo(t)}return c=s.children,s=s.fallback,i?(co(),c=Ho({mode:"hidden",children:c},i=t.mode),s=Ua(s,i,n,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(i=t.child).memoizedState=Bo(n),i.childLanes=Uo(e,r,n),t.memoizedState=$o,s):(oo(t),Vo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(oo(t),t.flags&=-257,t=Wo(e,t,n)):null!==t.memoizedState?(co(),t.child=e.child,t.flags|=128,t=null):(co(),i=s.fallback,c=t.mode,s=Ho({mode:"visible",children:s.children},c),(i=Ua(i,c,n,null)).flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,ao(t,e.child,null,n),(s=t.child).memoizedState=Bo(n),s.childLanes=Uo(e,r,n),t.memoizedState=$o,t=i);else if(oo(t),yd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(s=Error(a(419))).stack="",s.digest=r,vr({value:s,source:null,stack:null}),t=Wo(e,t,n)}else if(Mo||kr(e,t,n,!1),r=0!==(n&e.childLanes),Mo||r){if(null!==(r=sc)&&(0!==(s=0!==((s=42&(s=n&-n)?1:Ie(s))&(r.suspendedLanes|n))?0:s)&&s!==l.retryLane))throw l.retryLane=s,Ra(e,s),Oc(r,e,s),To;"$?"===c.data||Gc(),t=Wo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ir=bd(c.nextSibling),sr=t,or=!0,lr=null,cr=!1,null!==e&&(Ya[Za++]=Ja,Ya[Za++]=er,Ya[Za++]=Xa,Ja=e.id,er=e.overflow,Xa=t),(t=Vo(t,s.children)).flags|=4096);return t}return i?(co(),i=s.fallback,c=t.mode,u=(l=e.child).sibling,(s=za(l,{mode:"hidden",children:s.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?i=za(u,i):(i=Ua(i,c,n,null)).flags|=2,i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,null===(c=e.child.memoizedState)?c=Bo(n):(null!==(l=c.cachePool)?(u=Dr._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Hr(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=Uo(e,r,n),t.memoizedState=$o,s):(oo(t),e=(n=e.child).sibling,(n=za(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Vo(e,t){return(t=Ho({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ho(e,t){return(e=Oa(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wo(e,t,n){return ao(t,e.child,null,n),(e=Vo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Nr(e.return,t,n)}function Go(e,t,n,a,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=r)}function Yo(e,t,n){var a=t.pendingProps,r=a.revealOrder,s=a.tail;if(jo(e,t,a.children,n),2&(a=fo.current))a=1&a|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,n,t);else if(19===e.tag)Ko(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(z(fo,a),r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===po(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Go(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===po(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Go(t,!0,n,null,s);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(kr(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=za(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=za(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Cr(e))}function Jo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Mo=!0;else{if(!(Xo(e,n)||128&t.flags))return Mo=!1,function(e,t,n){switch(t.tag){case 3:V(t,t.stateNode.containerInfo),_r(0,Dr,e.memoizedState.cache),hr();break;case 27:case 5:W(t);break;case 4:V(t,t.stateNode.containerInfo);break;case 10:_r(0,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(oo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Qo(e,t,n):(oo(t),null!==(e=Zo(e,t,n))?e.sibling:null);oo(t);break;case 19:var r=!!(128&e.flags);if((a=0!==(n&t.childLanes))||(kr(e,t,n,!1),a=0!==(n&t.childLanes)),r){if(a)return Yo(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),z(fo,fo.current),a)break;return null;case 22:case 23:return t.lanes=0,Do(e,t,n);case 24:_r(0,Dr,e.memoizedState.cache)}return Zo(e,t,n)}(e,t,n);Mo=!!(131072&e.flags)}else Mo=!1,or&&1048576&t.flags&&nr(t,Ga,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,s=r._init;if(r=s(r._payload),t.type=r,"function"!=typeof r){if(null!=r){if((s=r.$$typeof)===b){t.tag=11,t=Eo(null,t,r,e,n);break e}if(s===S){t.tag=14,t=Ao(null,t,r,e,n);break e}}throw t=M(r)||r,Error(a(306,t,""))}qa(r)?(e=yo(r,e),t.tag=1,t=qo(null,t,r,e,n)):(t.tag=0,t=Fo(null,t,r,e,n))}return t;case 0:return Fo(e,t,t.type,t.pendingProps,n);case 1:return qo(e,t,r=t.type,s=yo(r,t.pendingProps),n);case 3:e:{if(V(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var i=t.memoizedState;s=i.element,ss(e,t),fs(t,r,null,n);var o=t.memoizedState;if(r=o.cache,_r(0,Dr,r),r!==i.cache&&wr(t,[Dr],n,!0),ds(),r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=zo(e,t,r,n);break e}if(r!==s){vr(s=Ca(Error(a(424)),t)),t=zo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ir=bd(e.firstChild),sr=t,or=!0,lr=null,cr=!0,n=ro(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hr(),r===s){t=Zo(e,t,n);break e}jo(e,t,r,n)}t=t.child}return t;case 26:return Po(e,t),null===e?(n=jd(t.type,null,t.pendingProps,null))?t.memoizedState=n:or||(n=t.type,e=t.pendingProps,(r=sd(U.current).createElement(n))[Ee]=t,r[Ae]=e,nd(r,n,e),Qe(r),t.stateNode=r):t.memoizedState=jd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return W(t),null===e&&or&&(r=t.stateNode=Sd(t.type,t.pendingProps,U.current),sr=t,cr=!0,s=ir,hd(t.type)?(xd=s,ir=bd(r.firstChild)):ir=s),jo(e,t,t.pendingProps.children,n),Po(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&or&&((s=r=ir)&&(null!==(r=function(e,t,n,a){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[Oe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===s)return e}if(null===(e=bd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,cr))?(t.stateNode=r,sr=t,ir=bd(r.firstChild),cr=!1,s=!0):s=!1),s||dr(t)),W(t),s=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,r=i.children,ld(s,i)?r=null:null!==o&&ld(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=Rs(e,t,Ps,null,null,n),Yd._currentValue=s),Po(e,t),jo(e,t,r,n),t.child;case 6:return null===e&&or&&((e=n=ir)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=bd(e.nextSibling)))return null}return e}(n,t.pendingProps,cr))?(t.stateNode=n,sr=t,ir=null,e=!0):e=!1),e||dr(t)),null;case 13:return Qo(e,t,n);case 4:return V(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ao(t,null,r,n):jo(e,t,r,n),t.child;case 11:return Eo(e,t,t.type,t.pendingProps,n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,_r(0,t.type,r.value),jo(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,Ir(t),r=r(s=Tr(s)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return Ao(e,t,t.type,t.pendingProps,n);case 15:return Ro(e,t,t.type,t.pendingProps,n);case 19:return Yo(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ho(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=za(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Do(e,t,n);case 24:return Ir(t),r=Tr(Dr),null===e?(null===(s=Qr())&&(s=sc,i=Lr(),s.pooledCache=i,i.refCount++,null!==i&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:r,cache:s},rs(t),_r(0,Dr,s)):(0!==(e.lanes&n)&&(ss(e,t),fs(t,null,null,n),ds()),s=e.memoizedState,i=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),_r(0,Dr,r)):(r=i.cache,_r(0,Dr,r),r!==s.cache&&wr(t,[Dr],n,!0))),jo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function el(e){e.flags|=4}function tl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Ud(t)){if(null!==(t=so.current)&&((4194048&oc)===oc?null!==io:(62914560&oc)!==oc&&!(536870912&oc)||t!==io))throw es=Yr,Kr;e.flags|=8192}}function nl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,bc|=t)}function al(e,t){if(!or)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=65011712&r.subtreeFlags,a|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function sl(e,t,n){var r=t.pendingProps;switch(rr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Sr(Dr),H(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(mr(t)?el(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,gr())),rl(t),null;case 26:return n=t.memoizedState,null===e?(el(t),null!==n?(rl(t),tl(t,n)):(rl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(el(t),rl(t),tl(t,n)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==r&&el(t),rl(t),t.flags&=-16777217),null;case 27:K(t),n=U.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&el(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return rl(t),null}e=$.current,mr(t)?fr(t):(e=Sd(s,r,n),t.stateNode=e,el(t))}return rl(t),null;case 5:if(K(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&el(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return rl(t),null}if(e=$.current,mr(t))fr(t);else{switch(s=sd(U.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"==typeof r.is?s.createElement(n,{is:r.is}):s.createElement(n)}}e[Ee]=t,e[Ae]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(nd(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&el(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&el(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(e=U.current,mr(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(s=sr))switch(s.tag){case 27:case 5:r=s.memoizedProps}e[Ee]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Xu(e.nodeValue,n)))||dr(t)}else(e=sd(e).createTextNode(r))[Ee]=t,t.stateNode=e}return rl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=mr(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[Ee]=t}else hr(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),s=!1}else s=gr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(uo(t),t):(uo(t),null)}if(uo(t),128&t.flags)return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){s=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(s=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==s&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),nl(t,t.updateQueue),rl(t),null;case 4:return H(),null===e&&Bu(t.stateNode.containerInfo),rl(t),null;case 10:return Sr(t.type),rl(t),null;case 19:if(q(fo),null===(s=t.memoizedState))return rl(t),null;if(r=!!(128&t.flags),null===(i=s.rendering))if(r)al(s,!1);else{if(0!==mc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=po(e))){for(t.flags|=128,al(s,!1),e=i.updateQueue,t.updateQueue=e,nl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)$a(n,e),n=n.sibling;return z(fo,1&fo.current|2),t.child}e=e.sibling}null!==s.tail&&ee()>wc&&(t.flags|=128,r=!0,al(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=po(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,nl(t,e),al(s,!0),null===s.tail&&"hidden"===s.tailMode&&!i.alternate&&!or)return rl(t),null}else 2*ee()-s.renderingStartTime>wc&&536870912!==n&&(t.flags|=128,r=!0,al(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=s.last)?e.sibling=i:t.child=i,s.last=i)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ee(),t.sibling=null,e=fo.current,z(fo,r?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return uo(t),bs(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(n=t.updateQueue)&&nl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&q(Ur),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Sr(Dr),rl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function il(e,t){switch(rr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Sr(Dr),H(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return K(t),null;case 13:if(uo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));hr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return q(fo),null;case 4:return H(),null;case 10:return Sr(t.type),null;case 22:case 23:return uo(t),bs(),null!==e&&q(Ur),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Sr(Dr),null;default:return null}}function ol(e,t){switch(rr(t),t.tag){case 3:Sr(Dr),H();break;case 26:case 27:case 5:K(t);break;case 4:H();break;case 13:uo(t);break;case 19:q(fo);break;case 10:Sr(t.type);break;case 22:case 23:uo(t),bs(),null!==e&&q(Ur);break;case 24:Sr(Dr)}}function ll(e,t){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var r=a.next;n=r;do{if((n.tag&e)===e){a=void 0;var s=n.create,i=n.inst;a=s(),i.destroy=a}n=n.next}while(n!==r)}}catch(o){fu(t,t.return,o)}}function cl(e,t,n){try{var a=t.updateQueue,r=null!==a?a.lastEffect:null;if(null!==r){var s=r.next;a=s;do{if((a.tag&e)===e){var i=a.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,r=t;var l=n,c=o;try{c()}catch(u){fu(r,l,u)}}}a=a.next}while(a!==s)}}catch(u){fu(t,t.return,u)}}function ul(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ms(t,n)}catch(a){fu(e,e.return,a)}}}function dl(e,t,n){n.props=yo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){fu(e,t,a)}}function fl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"==typeof n?e.refCleanup=n(a):n.current=a}}catch(r){fu(e,t,r)}}function pl(e,t){var n=e.ref,a=e.refCleanup;if(null!==n)if("function"==typeof a)try{a()}catch(r){fu(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(s){fu(e,t,s)}else n.current=null}function ml(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(r){fu(e,e.return,r)}}function hl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,o=null,l=null,c=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&null!=f)switch(m){case"checked":case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(m)||ed(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(null!=m||null!=f))switch(p){case"type":i=m;break;case"name":s=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(a(137,t));break;default:m!==f&&ed(e,t,p,m,r,f)}}return void yt(e,o,l,c,u,d,i,s);case"select":for(i in m=o=l=p=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(i)||ed(e,t,i,null,r,c)}for(s in r)if(i=r[s],c=n[s],r.hasOwnProperty(s)&&(null!=i||null!=c))switch(s){case"value":p=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&ed(e,t,s,i,r,c)}return t=l,n=o,r=m,void(null!=p?_t(e,!!n,p,!1):!!r!=!!n&&(null!=t?_t(e,!!n,t,!0):_t(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=p=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ed(e,t,l,null,r,s)}for(o in r)if(s=r[o],i=n[o],r.hasOwnProperty(o)&&(null!=s||null!=i))switch(o){case"value":p=s;break;case"defaultValue":m=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(a(91));break;default:s!==i&&ed(e,t,o,s,r,i)}return void St(e,p,m);case"option":for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&null!=p&&!r.hasOwnProperty(h))if("selected"===h)e.selected=!1;else ed(e,t,h,null,r,p);for(c in r)if(p=r[c],m=n[c],r.hasOwnProperty(c)&&p!==m&&(null!=p||null!=m))if("selected"===c)e.selected=p&&"function"!=typeof p&&"symbol"!=typeof p;else ed(e,t,c,p,r,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&ed(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(null!=p||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:ed(e,t,u,p,r,m)}return;default:if(Tt(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!r.hasOwnProperty(v)&&td(e,t,v,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||void 0===p&&void 0===m||td(e,t,d,p,r,m);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!r.hasOwnProperty(y)&&ed(e,t,y,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||null==p&&null==m||ed(e,t,f,p,r,m)}(r,e.type,n,t),r[Ae]=t}catch(s){fu(e,e.return,s)}}function gl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&hd(e.type)||4===e.tag}function vl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&hd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yl(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ju));else if(4!==a&&(27===a&&hd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function bl(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&(27===a&&hd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}function xl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);nd(t,a,n),t[Ee]=e,t[Ae]=n}catch(s){fu(e,e.return,s)}}var _l=!1,Sl=!1,Nl=!1,wl="function"==typeof WeakSet?WeakSet:Set,kl=null;function Cl(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:ql(e,n),4&a&&ll(5,n);break;case 1:if(ql(e,n),4&a)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){fu(n,n.return,i)}else{var r=yo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){fu(n,n.return,o)}}64&a&&ul(n),512&a&&fl(n,n.return);break;case 3:if(ql(e,n),64&a&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ms(e,t)}catch(i){fu(n,n.return,i)}}break;case 27:null===t&&4&a&&xl(n);case 26:case 5:ql(e,n),null===t&&4&a&&ml(n),512&a&&fl(n,n.return);break;case 12:ql(e,n);break;case 13:ql(e,n),4&a&&Al(e,n),64&a&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,n=gu.bind(null,n))));break;case 22:if(!(a=null!==n.memoizedState||_l)){t=null!==t&&null!==t.memoizedState||Sl,r=_l;var s=Sl;_l=a,(Sl=t)&&!s?$l(e,n,!!(8772&n.subtreeFlags)):ql(e,n),_l=r,Sl=s}break;case 30:break;default:ql(e,n)}}function Il(e){var t=e.alternate;null!==t&&(e.alternate=null,Il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tl=null,Ml=!1;function jl(e,t,n){for(n=n.child;null!==n;)El(e,t,n),n=n.sibling}function El(e,t,n){if(ue&&"function"==typeof ue.onCommitFiberUnmount)try{ue.onCommitFiberUnmount(ce,n)}catch(s){}switch(n.tag){case 26:Sl||pl(n,t),jl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Sl||pl(n,t);var a=Tl,r=Ml;hd(n.type)&&(Tl=n.stateNode,Ml=!1),jl(e,t,n),Nd(n.stateNode),Tl=a,Ml=r;break;case 5:Sl||pl(n,t);case 6:if(a=Tl,r=Ml,Tl=null,jl(e,t,n),Ml=r,null!==(Tl=a))if(Ml)try{(9===Tl.nodeType?Tl.body:"HTML"===Tl.nodeName?Tl.ownerDocument.body:Tl).removeChild(n.stateNode)}catch(i){fu(n,t,i)}else try{Tl.removeChild(n.stateNode)}catch(i){fu(n,t,i)}break;case 18:null!==Tl&&(Ml?(gd(9===(e=Tl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),jf(e)):gd(Tl,n.stateNode));break;case 4:a=Tl,r=Ml,Tl=n.stateNode.containerInfo,Ml=!0,jl(e,t,n),Tl=a,Ml=r;break;case 0:case 11:case 14:case 15:Sl||cl(2,n,t),Sl||cl(4,n,t),jl(e,t,n);break;case 1:Sl||(pl(n,t),"function"==typeof(a=n.stateNode).componentWillUnmount&&dl(n,t,a)),jl(e,t,n);break;case 21:jl(e,t,n);break;case 22:Sl=(a=Sl)||null!==n.memoizedState,jl(e,t,n),Sl=a;break;default:jl(e,t,n)}}function Al(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{jf(e)}catch(n){fu(t,t.return,n)}}function Rl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new wl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new wl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){var a=vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}function Dl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(hd(l.type)){Tl=l.stateNode,Ml=!1;break e}break;case 5:Tl=l.stateNode,Ml=!1;break e;case 3:case 4:Tl=l.stateNode.containerInfo,Ml=!0;break e}l=l.return}if(null===Tl)throw Error(a(160));El(i,o,s),Tl=null,Ml=!1,null!==(i=s.alternate)&&(i.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Pl(t,e),t=t.sibling}var Ll=null;function Pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dl(t,e),Fl(e),4&r&&(cl(3,e,e.return),ll(3,e),cl(5,e,e.return));break;case 1:Dl(t,e),Fl(e),512&r&&(Sl||null===n||pl(n,n.return)),64&r&&_l&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var s=Ll;if(Dl(t,e),Fl(e),512&r&&(Sl||null===n||pl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":(!(i=s.getElementsByTagName("title")[0])||i[Oe]||i[Ee]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=s.createElement(r),s.head.insertBefore(i,s.querySelector("head > title"))),nd(i,r,n),i[Ee]=e,Qe(i),r=i;break e;case"link":var o=$d("link","href",s).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}nd(i=s.createElement(r),r,n),s.head.appendChild(i);break;case"meta":if(o=$d("meta","content",s).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}nd(i=s.createElement(r),r,n),s.head.appendChild(i);break;default:throw Error(a(468,r))}i[Ee]=e,Qe(i),r=i}e.stateNode=r}else Bd(s,e.type,e.stateNode);else e.stateNode=Pd(s,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?Bd(s,e.type,e.stateNode):Pd(s,r,e.memoizedProps)):null===r&&null!==e.stateNode&&hl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Dl(t,e),Fl(e),512&r&&(Sl||null===n||pl(n,n.return)),null!==n&&4&r&&hl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Dl(t,e),Fl(e),512&r&&(Sl||null===n||pl(n,n.return)),32&e.flags){s=e.stateNode;try{wt(s,"")}catch(m){fu(e,e.return,m)}}4&r&&null!=e.stateNode&&hl(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&r&&(Nl=!0);break;case 6:if(Dl(t,e),Fl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){fu(e,e.return,m)}}break;case 3:if(zd=null,s=Ll,Ll=Cd(t.containerInfo),Dl(t,e),Ll=s,Fl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jf(t.containerInfo)}catch(m){fu(e,e.return,m)}Nl&&(Nl=!1,Ol(e));break;case 4:r=Ll,Ll=Cd(e.stateNode.containerInfo),Dl(t,e),Fl(e),Ll=r;break;case 12:default:Dl(t,e),Fl(e);break;case 13:Dl(t,e),Fl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Nc=ee()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Rl(e,r)));break;case 22:s=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=_l,d=Sl;if(_l=u||s,Sl=d||c,Dl(t,e),Sl=d,_l=u,Fl(e),8192&r)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||c||_l||Sl||zl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,s)"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var f=c.memoizedProps.style,p=null!=f&&f.hasOwnProperty("display")?f.display:null;l.style.display=null==p||"boolean"==typeof p?"":(""+p).trim()}}catch(m){fu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(m){fu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Rl(e,n))));break;case 19:Dl(t,e),Fl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Rl(e,r)));case 30:case 21:}}function Fl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(gl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var s=n.stateNode;bl(e,vl(e),s);break;case 5:var i=n.stateNode;32&n.flags&&(wt(i,""),n.flags&=-33),bl(e,vl(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;yl(e,vl(e),o);break;default:throw Error(a(161))}}catch(l){fu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ol(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ol(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function ql(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Cl(e,t.alternate,t),t=t.sibling}function zl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:cl(4,t,t.return),zl(t);break;case 1:pl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&dl(t,t.return,n),zl(t);break;case 27:Nd(t.stateNode);case 26:case 5:pl(t,t.return),zl(t);break;case 22:null===t.memoizedState&&zl(t);break;default:zl(t)}e=e.sibling}}function $l(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,r=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:$l(r,s,n),ll(4,s);break;case 1:if($l(r,s,n),"function"==typeof(r=(a=s).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){fu(a,a.return,c)}if(null!==(r=(a=s).updateQueue)){var o=a.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)ps(l[r],o)}catch(c){fu(a,a.return,c)}}n&&64&i&&ul(s),fl(s,s.return);break;case 27:xl(s);case 26:case 5:$l(r,s,n),n&&null===a&&4&i&&ml(s),fl(s,s.return);break;case 12:$l(r,s,n);break;case 13:$l(r,s,n),n&&4&i&&Al(r,s);break;case 22:null===s.memoizedState&&$l(r,s,n),fl(s,s.return);break;case 30:break;default:$l(r,s,n)}t=t.sibling}}function Bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Pr(n))}function Ul(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Pr(e))}function Ql(e,t,n,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Vl(e,t,n,a),t=t.sibling}function Vl(e,t,n,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Ql(e,t,n,a),2048&r&&ll(9,t);break;case 1:case 13:default:Ql(e,t,n,a);break;case 3:Ql(e,t,n,a),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Pr(e)));break;case 12:if(2048&r){Ql(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,o=s.onPostCommit;"function"==typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){fu(t,t.return,l)}}else Ql(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?Ql(e,t,n,a):Wl(e,t):2&s._visibility?Ql(e,t,n,a):(s._visibility|=2,Hl(e,t,n,a,!!(10256&t.subtreeFlags))),2048&r&&Bl(i,t);break;case 24:Ql(e,t,n,a),2048&r&&Ul(t.alternate,t)}}function Hl(e,t,n,a,r){for(r=r&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,i=t,o=n,l=a,c=i.flags;switch(i.tag){case 0:case 11:case 15:Hl(s,i,o,l,r),ll(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?Hl(s,i,o,l,r):Wl(s,i):(u._visibility|=2,Hl(s,i,o,l,r)),r&&2048&c&&Bl(i.alternate,i);break;case 24:Hl(s,i,o,l,r),r&&2048&c&&Ul(i.alternate,i);break;default:Hl(s,i,o,l,r)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,a=t,r=a.flags;switch(a.tag){case 22:Wl(n,a),2048&r&&Bl(a.alternate,a);break;case 24:Wl(n,a),2048&r&&Ul(a.alternate,a);break;default:Wl(n,a)}t=t.sibling}}var Kl=8192;function Gl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 26:Gl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Qd)throw Error(a(475));var r=Qd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var s=Ed(n.href),i=e.querySelector(Ad(s));if(i)return null!==(e=i._p)&&"object"==typeof e&&"function"==typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void Qe(i);i=e.ownerDocument||e,n=Rd(n),(s=wd.get(s))&&Od(n,s),Qe(i=i.createElement("link"));var o=i;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),nd(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ll,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Ll;Ll=Cd(e.stateNode.containerInfo),Gl(e),Ll=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Gl(e),Kl=t):Gl(e))}}function Zl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];kl=a,tc(a,e)}Zl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Xl(e),2048&e.flags&&cl(9,e,e.return);break;case 3:case 12:default:Xl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ec(e)):Xl(e)}}function ec(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];kl=a,tc(a,e)}Zl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:cl(8,t,t.return),ec(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ec(t));break;default:ec(t)}e=e.sibling}}function tc(e,t){for(;null!==kl;){var n=kl;switch(n.tag){case 0:case 11:case 15:cl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var a=n.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:Pr(n.memoizedState.cache)}if(null!==(a=n.child))a.return=n,kl=a;else e:for(n=e;null!==kl;){var r=(a=kl).sibling,s=a.return;if(Il(a),a===n){kl=null;break e}if(null!==r){r.return=s,kl=r;break e}kl=s}}}var nc={getCacheForType:function(e){var t=Tr(Dr),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},ac="function"==typeof WeakMap?WeakMap:Map,rc=0,sc=null,ic=null,oc=0,lc=0,cc=null,uc=!1,dc=!1,fc=!1,pc=0,mc=0,hc=0,gc=0,vc=0,yc=0,bc=0,xc=null,_c=null,Sc=!1,Nc=0,wc=1/0,kc=null,Cc=null,Ic=0,Tc=null,Mc=null,jc=0,Ec=0,Ac=null,Rc=null,Dc=0,Lc=null;function Pc(){if(2&rc&&0!==oc)return oc&-oc;if(null!==E.T){return 0!==qr?qr:Eu()}return Me()}function Fc(){0===yc&&(yc=536870912&oc&&!or?536870912:_e());var e=so.current;return null!==e&&(e.flags|=32),yc}function Oc(e,t,n){(e!==sc||2!==lc&&9!==lc)&&null===e.cancelPendingCommit||(Vc(e,0),Bc(e,oc,yc,!1)),we(e,n),2&rc&&e===sc||(e===sc&&(!(2&rc)&&(gc|=n),4===mc&&Bc(e,oc,yc,!1)),wu(e))}function qc(e,t,n){if(6&rc)throw Error(a(327));for(var r=!n&&!(124&t)&&0===(t&e.expiredLanes)||be(e,t),s=r?function(e,t){var n=rc;rc|=2;var r=Wc(),s=Kc();sc!==e||oc!==t?(kc=null,wc=ee()+500,Vc(e,t)):dc=be(e,t);e:for(;;)try{if(0!==lc&&null!==ic){t=ic;var i=cc;t:switch(lc){case 1:lc=0,cc=null,tu(e,t,i,1);break;case 2:case 9:if(Zr(i)){lc=0,cc=null,eu(t);break}t=function(){2!==lc&&9!==lc||sc!==e||(lc=7),wu(e)},i.then(t,t);break e;case 3:lc=7;break e;case 4:lc=5;break e;case 7:Zr(i)?(lc=0,cc=null,eu(t)):(lc=0,cc=null,tu(e,t,i,7));break;case 5:var o=null;switch(ic.tag){case 26:o=ic.memoizedState;case 5:case 27:var l=ic;if(!o||Ud(o)){lc=0,cc=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,nu(u)):ic=null}break t}}lc=0,cc=null,tu(e,t,i,5);break;case 6:lc=0,cc=null,tu(e,t,i,6);break;case 8:Qc(),mc=6;break e;default:throw Error(a(462))}}Xc();break}catch(d){Hc(e,d)}return xr=br=null,E.H=r,E.A=s,rc=n,null!==ic?0:(sc=null,oc=0,ja(),mc)}(e,t):Yc(e,t,!0),i=r;;){if(0===s){dc&&!r&&Bc(e,t,0,!1);break}if(n=e.current.alternate,!i||$c(n)){if(2===s){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;s=xc;var c=l.current.memoizedState.isDehydrated;if(c&&(Vc(l,o).flags|=256),2!==(o=Yc(l,o,!1))){if(fc&&!c){l.errorRecoveryDisabledLanes|=i,gc|=i,s=4;break e}i=_c,_c=s,null!==i&&(null===_c?_c=i:_c.push.apply(_c,i))}s=o}if(i=!1,2!==s)continue}}if(1===s){Vc(e,0),Bc(e,t,0,!0);break}e:{switch(r=e,i=s){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Bc(r,t,yc,!uc);break e;case 2:_c=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(s=Nc+300-ee())){if(Bc(r,t,yc,!uc),0!==ye(r,0,!0))break e;r.timeoutHandle=ud(zc.bind(null,r,n,_c,kc,Sc,t,yc,gc,bc,uc,i,2,-0,0),s)}else zc(r,n,_c,kc,Sc,t,yc,gc,bc,uc,i,0,-0,0)}break}s=Yc(e,t,!1),i=!1}wu(e)}function zc(e,t,n,r,s,i,o,l,c,u,d,f,p,m){if(e.timeoutHandle=-1,(8192&(f=t.subtreeFlags)||!(16785408&~f))&&(Qd={stylesheets:null,count:0,unsuspend:Vd},Yl(t),null!==(f=function(){if(null===Qd)throw Error(a(475));var e=Qd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=f(ru.bind(null,e,t,i,n,r,s,o,l,c,d,1,p,m)),void Bc(e,i,o,!u);ru(e,t,i,n,r,s,o,l,c)}function $c(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var a=0;a<n.length;a++){var r=n[a],s=r.getSnapshot;r=r.value;try{if(!Zn(s(),r))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,n,a){t&=~vc,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var s=31-fe(r),i=1<<s;a[s]=-1,r&=~i}0!==n&&ke(e,n,t)}function Uc(){return!!(6&rc)||(ku(0),!1)}function Qc(){if(null!==ic){if(0===lc)var e=ic.return;else xr=br=null,qs(e=ic),Yi=null,Zi=0,e=ic;for(;null!==e;)ol(e.alternate,e),e=e.return;ic=null}}function Vc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,dd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Qc(),sc=e,ic=n=za(e.current,null),oc=t,lc=0,cc=null,uc=!1,dc=be(e,t),fc=!1,bc=yc=vc=gc=hc=mc=0,_c=xc=null,Sc=!1,8&t&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var r=31-fe(a),s=1<<r;t|=e[r],a&=~s}return pc=t,ja(),n}function Hc(e,t){_s=null,E.H=Hi,t===Wr||t===Gr?(t=ts(),lc=3):t===Kr?(t=ts(),lc=4):lc=t===To?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,cc=t,null===ic&&(mc=1,No(e,Ca(t,e.current)))}function Wc(){var e=E.H;return E.H=Hi,null===e?Hi:e}function Kc(){var e=E.A;return E.A=nc,e}function Gc(){mc=4,uc||(4194048&oc)!==oc&&null!==so.current||(dc=!0),!(134217727&hc)&&!(134217727&gc)||null===sc||Bc(sc,oc,yc,!1)}function Yc(e,t,n){var a=rc;rc|=2;var r=Wc(),s=Kc();sc===e&&oc===t||(kc=null,Vc(e,t)),t=!1;var i=mc;e:for(;;)try{if(0!==lc&&null!==ic){var o=ic,l=cc;switch(lc){case 8:Qc(),i=6;break e;case 3:case 2:case 9:case 6:null===so.current&&(t=!0);var c=lc;if(lc=0,cc=null,tu(e,o,l,c),n&&dc){i=0;break e}break;default:c=lc,lc=0,cc=null,tu(e,o,l,c)}}Zc(),i=mc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,xr=br=null,rc=a,E.H=r,E.A=s,null===ic&&(sc=null,oc=0,ja()),i}function Zc(){for(;null!==ic;)Jc(ic)}function Xc(){for(;null!==ic&&!X();)Jc(ic)}function Jc(e){var t=Jo(e.alternate,e,pc);e.memoizedProps=e.pendingProps,null===t?nu(e):ic=t}function eu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Oo(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Oo(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:qs(t);default:ol(n,t),t=Jo(n,t=ic=$a(t,pc),pc)}e.memoizedProps=e.pendingProps,null===t?nu(e):ic=t}function tu(e,t,n,r){xr=br=null,qs(t),Yi=null,Zi=0;var s=t.return;try{if(function(e,t,n,r,s){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&kr(t,n,s,!0),null!==(n=so.current)){switch(n.tag){case 13:return null===io?Gc():null===n.alternate&&0===mc&&(mc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===Yr?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),pu(e,r,s)),!1;case 22:return n.flags|=65536,r===Yr?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),pu(e,r,s)),!1}throw Error(a(435,n.tag))}return pu(e,r,s),Gc(),!1}if(or)return null!==(t=so.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==ur&&vr(Ca(e=Error(a(422),{cause:r}),n))):(r!==ur&&vr(Ca(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,r=Ca(r,n),cs(e,s=ko(e.stateNode,r,s)),4!==mc&&(mc=2)),!1;var i=Error(a(520),{cause:r});if(i=Ca(i,n),null===xc?xc=[i]:xc.push(i),4!==mc&&(mc=2),null===t)return!0;r=Ca(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,cs(n,e=ko(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===i||"function"!=typeof i.componentDidCatch||null!==Cc&&Cc.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,Io(s=Co(s),e,n,r),cs(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,oc))return mc=1,No(e,Ca(n,e.current)),void(ic=null)}catch(i){if(null!==s)throw ic=s,i;return mc=1,No(e,Ca(n,e.current)),void(ic=null)}32768&t.flags?(or||1===r?e=!0:dc||536870912&oc?e=!1:(uc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=so.current)&&13===r.tag&&(r.flags|=16384))),au(t,e)):nu(t)}function nu(e){var t=e;do{if(32768&t.flags)return void au(t,uc);e=t.return;var n=sl(t.alternate,t,pc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===mc&&(mc=5)}function au(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);mc=6,ic=null}function ru(e,t,n,r,s,i,o,l,c){e.cancelPendingCommit=null;do{cu()}while(0!==Ic);if(6&rc)throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(i=t.lanes|t.childLanes,function(e,t,n,a,r,s){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-fe(n),d=1<<u;o[u]=0,l[u]=-1;var f=c[u];if(null!==f)for(c[u]=null,u=0;u<f.length;u++){var p=f[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==a&&ke(e,a,0),0!==s&&0===r&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,n,i|=Ma,o,l,c),e===sc&&(ic=sc=null,oc=0),Mc=t,Tc=e,jc=n,Ec=i,Ac=s,Rc=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,Y(re,function(){return uu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=E.T,E.T=null,s=A.p,A.p=2,o=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,ad=rf,aa(e=na(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||0!==s&&3!==f.nodeType||(l=o+s),f!==i||0!==r&&3!==f.nodeType||(c=o+r),3===f.nodeType&&(o+=f.nodeValue.length),null!==(m=f.firstChild);)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===s&&(l=o),p===i&&++d===r&&(c=o),null!==(m=f.nextSibling))break;p=(f=p).parentNode}f=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rd={focusedElem:e,selectionRange:n},rf=!1,kl=t;null!==kl;)if(e=(t=kl).child,1024&t.subtreeFlags&&null!==e)e.return=t,kl=e;else for(;null!==kl;){switch(i=(t=kl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==i){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var h=yo(n.type,s,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(h,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){fu(n,n.return,v)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))vd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,kl=e;break}kl=t.return}}(e,t)}finally{rc=o,A.p=s,E.T=r}}Ic=1,su(),iu(),ou()}}function su(){if(1===Ic){Ic=0;var e=Tc,t=Mc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=E.T,E.T=null;var a=A.p;A.p=2;var r=rc;rc|=4;try{Pl(t,e);var s=rd,i=na(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(i!==o&&o&&o.ownerDocument&&ta(o.ownerDocument.documentElement,o)){if(null!==l&&aa(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=o.textContent.length,h=Math.min(l.start,m),g=void 0===l.end?h:Math.min(l.end,m);!p.extend&&h>g&&(i=g,g=h,h=i);var v=ea(o,h),y=ea(o,g);if(v&&y&&(1!==p.rangeCount||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),p.removeAllRanges(),h>g?(p.addRange(b),p.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),p.addRange(b))}}}}for(d=[],p=o;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<d.length;o++){var x=d[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}rf=!!ad,rd=ad=null}finally{rc=r,A.p=a,E.T=n}}e.current=t,Ic=2}}function iu(){if(2===Ic){Ic=0;var e=Tc,t=Mc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=E.T,E.T=null;var a=A.p;A.p=2;var r=rc;rc|=4;try{Cl(e,t.alternate,t)}finally{rc=r,A.p=a,E.T=n}}Ic=3}}function ou(){if(4===Ic||3===Ic){Ic=0,J();var e=Tc,t=Mc,n=jc,a=Rc;10256&t.subtreeFlags||10256&t.flags?Ic=5:(Ic=0,Mc=Tc=null,lu(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Cc=null),Te(n),t=t.stateNode,ue&&"function"==typeof ue.onCommitFiberRoot)try{ue.onCommitFiberRoot(ce,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==a){t=E.T,r=A.p,A.p=2,E.T=null;try{for(var s=e.onRecoverableError,i=0;i<a.length;i++){var o=a[i];s(o.value,{componentStack:o.stack})}}finally{E.T=t,A.p=r}}3&jc&&cu(),wu(e),r=e.pendingLanes,4194090&n&&42&r?e===Lc?Dc++:(Dc=0,Lc=e):Dc=0,ku(0)}}function lu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Pr(t)))}function cu(e){return su(),iu(),ou(),uu()}function uu(){if(5!==Ic)return!1;var e=Tc,t=Ec;Ec=0;var n=Te(jc),r=E.T,s=A.p;try{A.p=32>n?32:n,E.T=null,n=Ac,Ac=null;var i=Tc,o=jc;if(Ic=0,Mc=Tc=null,jc=0,6&rc)throw Error(a(331));var l=rc;if(rc|=4,Jl(i.current),Vl(i,i.current,o,n),rc=l,ku(0,!1),ue&&"function"==typeof ue.onPostCommitFiberRoot)try{ue.onPostCommitFiberRoot(ce,i)}catch(c){}return!0}finally{A.p=s,E.T=r,lu(e,t)}}function du(e,t,n){t=Ca(n,t),null!==(e=os(e,t=ko(e.stateNode,t,2),2))&&(we(e,2),wu(e))}function fu(e,t,n){if(3===e.tag)du(e,e,n);else for(;null!==t;){if(3===t.tag){du(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===Cc||!Cc.has(a))){e=Ca(n,e),null!==(a=os(t,n=Co(2),2))&&(Io(n,a,t,e),we(a,2),wu(a));break}}t=t.return}}function pu(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new ac;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(fc=!0,r.add(n),e=mu.bind(null,e,t,n),t.then(e,e))}function mu(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,sc===e&&(oc&n)===n&&(4===mc||3===mc&&(62914560&oc)===oc&&300>ee()-Nc?!(2&rc)&&Vc(e,0):vc|=n,bc===oc&&(bc=0)),wu(e)}function hu(e,t){0===t&&(t=Se()),null!==(e=Ra(e,t))&&(we(e,t),wu(e))}function gu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hu(e,n)}function vu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),hu(e,n)}var yu=null,bu=null,xu=!1,_u=!1,Su=!1,Nu=0;function wu(e){e!==bu&&null===e.next&&(null===bu?yu=bu=e:bu=bu.next=e),_u=!0,xu||(xu=!0,pd(function(){6&rc?Y(ne,Cu):Iu()}))}function ku(e,t){if(!Su&&_u){Su=!0;do{for(var n=!1,a=yu;null!==a;){if(0!==e){var r=a.pendingLanes;if(0===r)var s=0;else{var i=a.suspendedLanes,o=a.pingedLanes;s=(1<<31-fe(42|e)+1)-1,s=201326741&(s&=r&~(i&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,ju(a,s))}else s=oc,!(3&(s=ye(a,a===sc?s:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||be(a,s)||(n=!0,ju(a,s));a=a.next}}while(n);Su=!1}}function Cu(){Iu()}function Iu(){_u=xu=!1;var e=0;0!==Nu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==cd&&(cd=e,!0);return cd=null,!1}()&&(e=Nu),Nu=0);for(var t=ee(),n=null,a=yu;null!==a;){var r=a.next,s=Tu(a,t);0===s?(a.next=null,null===n?yu=r:n.next=r,null===r&&(bu=n)):(n=a,(0!==e||3&s)&&(_u=!0)),a=r}ku(e)}function Tu(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-fe(s),o=1<<i,l=r[i];-1===l?0!==(o&n)&&0===(o&a)||(r[i]=xe(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=oc,n=ye(e,e===(t=sc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===n||e===t&&(2===lc||9===lc)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&Z(a),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==a&&Z(a),Te(n)){case 2:case 8:n=ae;break;case 32:default:n=re;break;case 268435456:n=ie}return a=Mu.bind(null,e),n=Y(n,a),e.callbackPriority=t,e.callbackNode=n,t}return null!==a&&null!==a&&Z(a),e.callbackPriority=2,e.callbackNode=null,2}function Mu(e,t){if(0!==Ic&&5!==Ic)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cu()&&e.callbackNode!==n)return null;var a=oc;return 0===(a=ye(e,e===sc?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(qc(e,a,t),Tu(e,ee()),null!=e.callbackNode&&e.callbackNode===n?Mu.bind(null,e):null)}function ju(e,t){if(cu())return null;qc(e,t,!0)}function Eu(){return 0===Nu&&(Nu=_e()),Nu}function Au(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Et(""+e)}function Ru(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Du=0;Du<Na.length;Du++){var Lu=Na[Du];wa(Lu.toLowerCase(),"on"+(Lu[0].toUpperCase()+Lu.slice(1)))}wa(ha,"onAnimationEnd"),wa(ga,"onAnimationIteration"),wa(va,"onAnimationStart"),wa("dblclick","onDoubleClick"),wa("focusin","onFocus"),wa("focusout","onBlur"),wa(ya,"onTransitionRun"),wa(ba,"onTransitionStart"),wa(xa,"onTransitionCancel"),wa(_a,"onTransitionEnd"),Ke("onMouseEnter",["mouseout","mouseover"]),Ke("onMouseLeave",["mouseout","mouseover"]),Ke("onPointerEnter",["pointerout","pointerover"]),Ke("onPointerLeave",["pointerout","pointerover"]),We("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),We("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),We("onBeforeInput",["compositionend","keypress","textInput","paste"]),We("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),We("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pu));function Ou(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var i=a.length-1;0<=i;i--){var o=a[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;s=o,r.currentTarget=c;try{s(r)}catch(u){bo(u)}r.currentTarget=null,s=l}else for(i=0;i<a.length;i++){if(l=(o=a[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;s=o,r.currentTarget=c;try{s(r)}catch(u){bo(u)}r.currentTarget=null,s=l}}}}function qu(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var a=e+"__bubble";n.has(a)||(Uu(t,e,2,!1),n.add(a))}function zu(e,t,n){var a=0;t&&(a|=4),Uu(n,e,a,t)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Bu(e){if(!e[$u]){e[$u]=!0,Ve.forEach(function(t){"selectionchange"!==t&&(Fu.has(t)||zu(t,!1,e),zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$u]||(t[$u]=!0,zu("selectionchange",!1,t))}}function Uu(e,t,n,a){switch(ff(t)){case 2:var r=sf;break;case 8:r=of;break;default:r=lf}n=r.bind(null,t,n,e),r=void 0,!$t||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Qu(e,t,n,a,r){var i=a;if(!(1&t||2&t||null===a))e:for(;;){if(null===a)return;var o=a.tag;if(3===o||4===o){var l=a.stateNode.containerInfo;if(l===r)break;if(4===o)for(o=a.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===r)return;o=o.return}for(;null!==l;){if(null===(o=ze(l)))return;if(5===(c=o.tag)||6===c||26===c||27===c){a=i=o;continue e}l=l.parentNode}}a=a.return}Ot(function(){var a=i,r=Rt(n),o=[];e:{var l=Sa.get(e);if(void 0!==l){var c=tn,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=ln;break;case"focusout":u="blur",c=ln;break;case"beforeblur":case"afterblur":c=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=bn;break;case ha:case ga:case va:c=cn;break;case _a:c=xn;break;case"scroll":case"scrollend":c=an;break;case"wheel":c=_n;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=yn;break;case"toggle":case"beforetoggle":c=Sn}var d=!!(4&t),f=!d&&("scroll"===e||"scrollend"===e),p=d?null!==l?l+"Capture":null:l;d=[];for(var m,h=a;null!==h;){var g=h;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===p||null!=(g=qt(h,p))&&d.push(Vu(h,g,m)),f)break;h=h.return}0<d.length&&(l=new c(l,u,null,n,r),o.push({event:l,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===At||!(u=n.relatedTarget||n.fromElement)||!ze(u)&&!u[Re])&&(c||l)&&(l=r.window===r?r:(l=r.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=a,null!==(u=(u=n.relatedTarget||n.toElement)?ze(u):null)&&(f=s(u),d=u.tag,u!==f||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=a),c!==u)){if(d=sn,g="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=yn,g="onPointerLeave",p="onPointerEnter",h="pointer"),f=null==c?l:Be(c),m=null==u?l:Be(u),(l=new d(g,h+"leave",c,n,r)).target=f,l.relatedTarget=m,g=null,ze(r)===a&&((d=new d(p,h+"enter",u,n,r)).target=m,d.relatedTarget=f,g=d),f=g,c&&u)e:{for(p=u,h=0,m=d=c;m;m=Wu(m))h++;for(m=0,g=p;g;g=Wu(g))m++;for(;0<h-m;)d=Wu(d),h--;for(;0<m-h;)p=Wu(p),m--;for(;h--;){if(d===p||null!==p&&d===p.alternate)break e;d=Wu(d),p=Wu(p)}d=null}else d=null;null!==c&&Ku(o,l,c,d,!1),null!==u&&null!==f&&Ku(o,f,u,d,!0)}if("select"===(c=(l=a?Be(a):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var v=zn;else if(Dn(l))if($n)v=Yn;else{v=Kn;var y=Wn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?a&&Tt(a.elementType)&&(v=zn):v=Gn;switch(v&&(v=v(e,a))?Ln(o,v,n,r):(y&&y(e,l,a),"focusout"===e&&a&&"number"===l.type&&null!=a.memoizedProps.value&&xt(l,"number",l.value)),y=a?Be(a):window,e){case"focusin":(Dn(y)||"true"===y.contentEditable)&&(sa=y,ia=a,oa=null);break;case"focusout":oa=ia=sa=null;break;case"mousedown":la=!0;break;case"contextmenu":case"mouseup":case"dragend":la=!1,ca(o,n,r);break;case"selectionchange":if(ra)break;case"keydown":case"keyup":ca(o,n,r)}var b;if(wn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else An?jn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(In&&"ko"!==n.locale&&(An||"onCompositionStart"!==x?"onCompositionEnd"===x&&An&&(b=Ht()):(Qt="value"in(Ut=r)?Ut.value:Ut.textContent,An=!0)),0<(y=Hu(a,x)).length&&(x=new dn(x,e,null,n,r),o.push({event:x,listeners:y}),b?x.data=b:null!==(b=En(n))&&(x.data=b))),(b=Cn?function(e,t){switch(e){case"compositionend":return En(t);case"keypress":return 32!==t.which?null:(Mn=!0,Tn);case"textInput":return(e=t.data)===Tn&&Mn?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!wn&&jn(e,t)?(e=Ht(),Vt=Qt=Ut=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Hu(a,"onBeforeInput")).length&&(y=new dn("onBeforeInput","beforeinput",null,n,r),o.push({event:y,listeners:x}),y.data=b)),function(e,t,n,a,r){if("submit"===t&&n&&n.stateNode===r){var s=Au((r[Ae]||null).action),i=a.submitter;i&&null!==(t=(t=i[Ae]||null)?Au(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var o=new tn("action","action",null,a,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==Nu){var e=i?Ru(r,i):new FormData(r);Ai(n,{pending:!0,data:e,method:r.method,action:s},null,e)}}else"function"==typeof s&&(o.preventDefault(),e=i?Ru(r,i):new FormData(r),Ai(n,{pending:!0,data:e,method:r.method,action:s},s,e))},currentTarget:r}]})}}(o,e,a,n,r)}Ou(o,t)})}function Vu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,s=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===s||(null!=(r=qt(e,n))&&a.unshift(Vu(e,r,s)),null!=(r=qt(e,t))&&a.push(Vu(e,r,s))),3===e.tag)return a;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,a,r){for(var s=t._reactName,i=[];null!==n&&n!==a;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===a)break;5!==o&&26!==o&&27!==o||null===c||(l=c,r?null!=(c=qt(n,s))&&i.unshift(Vu(n,c,l)):r||null!=(c=qt(n,s))&&i.push(Vu(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Gu=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function Zu(e){return("string"==typeof e?e:""+e).replace(Gu,"\n").replace(Yu,"")}function Xu(e,t){return t=Zu(t),Zu(e)===t}function Ju(){}function ed(e,t,n,r,s,i){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||wt(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&wt(e,""+r);break;case"className":rt(e,"class",r);break;case"tabIndex":rt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(e,n,r);break;case"style":It(e,r,i);break;case"data":if("object"!==t){rt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Et(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof i&&("formAction"===n?("input"!==t&&ed(e,t,"name",s.name,s,null),ed(e,t,"formEncType",s.formEncType,s,null),ed(e,t,"formMethod",s.formMethod,s,null),ed(e,t,"formTarget",s.formTarget,s,null)):(ed(e,t,"encType",s.encType,s,null),ed(e,t,"method",s.method,s,null),ed(e,t,"target",s.target,s,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Et(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&qu("scroll",e);break;case"onScrollEnd":null!=r&&qu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=Et(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":qu("beforetoggle",e),qu("toggle",e),at(e,"popover",r);break;case"xlinkActuate":st(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":st(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":st(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":st(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":st(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":st(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":st(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":st(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":st(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":at(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&at(e,n=Mt.get(n)||n,r)}}function td(e,t,n,r,s,i){switch(n){case"style":It(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"==typeof r?wt(e,r):("number"==typeof r||"bigint"==typeof r)&&wt(e,""+r);break;case"onScroll":null!=r&&qu("scroll",e);break;case"onScrollEnd":null!=r&&qu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:He.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"==typeof(i=null!=(i=e[Ae]||null)?i[n]:null)&&e.removeEventListener(t,i,s),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):at(e,n,r):("function"!=typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s)))}}function nd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qu("error",e),qu("load",e);var r,s=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ed(e,t,r,o,n,null)}}return i&&ed(e,t,"srcSet",n.srcSet,n,null),void(s&&ed(e,t,"src",n.src,n,null));case"input":qu("invalid",e);var l=r=o=i=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(null!=d)switch(s){case"name":i=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:ed(e,t,s,d,n,null)}}return bt(e,r,l,c,u,o,i,!1),void pt(e);case"select":for(i in qu("invalid",e),s=o=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:ed(e,t,i,l,n,null)}return t=r,n=o,e.multiple=!!s,void(null!=t?_t(e,!!s,t,!1):null!=n&&_t(e,!!s,n,!0));case"textarea":for(o in qu("invalid",e),r=i=s=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":s=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:ed(e,t,o,l,n,null)}return Nt(e,s,i,r),void pt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!=typeof s&&"symbol"!=typeof s;else ed(e,t,c,s,n,null);return;case"dialog":qu("beforetoggle",e),qu("toggle",e),qu("cancel",e),qu("close",e);break;case"iframe":case"object":qu("load",e);break;case"video":case"audio":for(s=0;s<Pu.length;s++)qu(Pu[s],e);break;case"image":qu("error",e),qu("load",e);break;case"details":qu("toggle",e);break;case"embed":case"source":case"link":qu("error",e),qu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(s=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ed(e,t,u,s,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(s=n[d])&&td(e,t,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&ed(e,t,l,s,n,null))}var ad=null,rd=null;function sd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function od(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ld(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var cd=null;var ud="function"==typeof setTimeout?setTimeout:void 0,dd="function"==typeof clearTimeout?clearTimeout:void 0,fd="function"==typeof Promise?Promise:void 0,pd="function"==typeof queueMicrotask?queueMicrotask:void 0!==fd?function(e){return fd.resolve(null).then(e).catch(md)}:ud;function md(e){setTimeout(function(){throw e})}function hd(e){return"head"===e}function gd(e,t){var n=t,a=0,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<a&&8>a){n=a;var i=e.ownerDocument;if(1&n&&Nd(i.documentElement),2&n&&Nd(i.body),4&n)for(Nd(n=i.head),i=n.firstChild;i;){var o=i.nextSibling,l=i.nodeName;i[Oe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=o}}if(0===r)return e.removeChild(s),void jf(t);r--}else"$"===n||"$?"===n||"$!"===n?r++:a=n.charCodeAt(0)-48;else a=0;n=s}while(n);jf(t)}function vd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":vd(n),qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function bd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var xd=null;function _d(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function Sd(e,t,n){switch(t=sd(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Nd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qe(e)}var wd=new Map,kd=new Set;function Cd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Id=A.d;A.d={f:function(){var e=Id.f(),t=Uc();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?Di(t):Id.r(e)},D:function(e){Id.D(e),Md("dns-prefetch",e,null)},C:function(e,t){Id.C(e,t),Md("preconnect",e,t)},L:function(e,t,n){Id.L(e,t,n);var a=Td;if(a&&e&&t){var r='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(r+='[imagesizes="'+vt(n.imageSizes)+'"]')):r+='[href="'+vt(e)+'"]';var s=r;switch(t){case"style":s=Ed(e);break;case"script":s=Dd(e)}wd.has(s)||(e=c({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),wd.set(s,e),null!==a.querySelector(r)||"style"===t&&a.querySelector(Ad(s))||"script"===t&&a.querySelector(Ld(s))||(nd(t=a.createElement("link"),"link",e),Qe(t),a.head.appendChild(t)))}},m:function(e,t){Id.m(e,t);var n=Td;if(n&&e){var a=t&&"string"==typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+vt(a)+'"][href="'+vt(e)+'"]',s=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Dd(e)}if(!wd.has(s)&&(e=c({rel:"modulepreload",href:e},t),wd.set(s,e),null===n.querySelector(r))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ld(s)))return}nd(a=n.createElement("link"),"link",e),Qe(a),n.head.appendChild(a)}}},X:function(e,t){Id.X(e,t);var n=Td;if(n&&e){var a=Ue(n).hoistableScripts,r=Dd(e),s=a.get(r);s||((s=n.querySelector(Ld(r)))||(e=c({src:e,async:!0},t),(t=wd.get(r))&&qd(e,t),Qe(s=n.createElement("script")),nd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(r,s))}},S:function(e,t,n){Id.S(e,t,n);var a=Td;if(a&&e){var r=Ue(a).hoistableStyles,s=Ed(e);t=t||"default";var i=r.get(s);if(!i){var o={loading:0,preload:null};if(i=a.querySelector(Ad(s)))o.loading=5;else{e=c({rel:"stylesheet",href:e,"data-precedence":t},n),(n=wd.get(s))&&Od(e,n);var l=i=a.createElement("link");Qe(l),nd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Fd(i,t,a)}i={type:"stylesheet",instance:i,count:1,state:o},r.set(s,i)}}},M:function(e,t){Id.M(e,t);var n=Td;if(n&&e){var a=Ue(n).hoistableScripts,r=Dd(e),s=a.get(r);s||((s=n.querySelector(Ld(r)))||(e=c({src:e,async:!0,type:"module"},t),(t=wd.get(r))&&qd(e,t),Qe(s=n.createElement("script")),nd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(r,s))}}};var Td="undefined"==typeof document?null:document;function Md(e,t,n){var a=Td;if(a&&"string"==typeof t&&t){var r=vt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"==typeof n&&(r+='[crossorigin="'+n+'"]'),kd.has(r)||(kd.add(r),e={rel:e,crossOrigin:n,href:t},null===a.querySelector(r)&&(nd(t=a.createElement("link"),"link",e),Qe(t),a.head.appendChild(t)))}}function jd(e,t,n,r){var s,i,o,l,c=(c=U.current)?Cd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Ed(n.href),(r=(n=Ue(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Ed(n.href);var u=Ue(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Ad(e)))&&!u._p&&(d.instance=u,d.state.loading=5),wd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},wd.set(e,n),u||(s=c,i=e,o=n,l=d.state,s.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=s.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),nd(i,"link",o),Qe(i),s.head.appendChild(i))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Dd(n),(r=(n=Ue(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ed(e){return'href="'+vt(e)+'"'}function Ad(e){return'link[rel="stylesheet"]['+e+"]"}function Rd(e){return c({},e,{"data-precedence":e.precedence,precedence:null})}function Dd(e){return'[src="'+vt(e)+'"]'}function Ld(e){return"script[async]"+e}function Pd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return t.instance=r,Qe(r),r;var s=c({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Qe(r=(e.ownerDocument||e).createElement("style")),nd(r,"style",s),Fd(r,n.precedence,e),t.instance=r;case"stylesheet":s=Ed(n.href);var i=e.querySelector(Ad(s));if(i)return t.state.loading|=4,t.instance=i,Qe(i),i;r=Rd(n),(s=wd.get(s))&&Od(r,s),Qe(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),nd(i,"link",r),t.state.loading|=4,Fd(i,n.precedence,e),t.instance=i;case"script":return i=Dd(n.src),(s=e.querySelector(Ld(i)))?(t.instance=s,Qe(s),s):(r=n,(s=wd.get(i))&&qd(r=c({},n),s),Qe(s=(e=e.ownerDocument||e).createElement("script")),nd(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Fd(r,n.precedence,e));return t.instance}function Fd(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,s=r,i=0;i<a.length;i++){var o=a[i];if(o.dataset.precedence===t)s=o;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Od(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function qd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var zd=null;function $d(e,t,n){if(null===zd){var a=new Map,r=zd=new Map;r.set(n,a)}else(a=(r=zd).get(n))||(a=new Map,r.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[Oe]||s[Ee]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var o=a.get(i);o?o.push(s):a.set(i,[s])}}return a}function Bd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Ud(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Qd=null;function Vd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Gd,e),Wd=null,Hd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var a=n.get(null);else{n=new Map,Wd.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var i=r[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),a=i)}a&&n.set(null,a)}i=(r=t.instance).getAttribute("data-precedence"),(s=n.get(i)||a)===a&&n.set(null,r),n.set(i,r),this.count++,a=Hd.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),s?s.parentNode.insertBefore(r,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var Yd={$$typeof:y,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Zd(e,t,n,a,r,s,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Xd(e,t,n,a,r,s,i,o,l,c,u,d){return e=new Zd(e,t,n,i,o,l,c,d),t=1,!0===s&&(t|=24),s=Oa(3,null,null,t),e.current=s,s.stateNode=e,(t=Lr()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},rs(s),e}function Jd(e){return e?e=Pa:Pa}function ef(e,t,n,a,r,s){r=Jd(r),null===a.context?a.context=r:a.pendingContext=r,(a=is(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(a.callback=s),null!==(n=os(e,a,t))&&(Oc(n,0,t),ls(n,e,t))}function tf(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nf(e,t){tf(e,t),(e=e.alternate)&&tf(e,t)}function af(e){if(13===e.tag){var t=Ra(e,67108864);null!==t&&Oc(t,0,67108864),nf(e,67108864)}}var rf=!0;function sf(e,t,n,a){var r=E.T;E.T=null;var s=A.p;try{A.p=2,lf(e,t,n,a)}finally{A.p=s,E.T=r}}function of(e,t,n,a){var r=E.T;E.T=null;var s=A.p;try{A.p=8,lf(e,t,n,a)}finally{A.p=s,E.T=r}}function lf(e,t,n,a){if(rf){var r=cf(a);if(null===r)Qu(e,t,a,uf,n),_f(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return mf=Sf(mf,e,t,n,a,r),!0;case"dragenter":return hf=Sf(hf,e,t,n,a,r),!0;case"mouseover":return gf=Sf(gf,e,t,n,a,r),!0;case"pointerover":var s=r.pointerId;return vf.set(s,Sf(vf.get(s)||null,e,t,n,a,r)),!0;case"gotpointercapture":return s=r.pointerId,yf.set(s,Sf(yf.get(s)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(_f(e,a),4&t&&-1<xf.indexOf(e)){for(;null!==r;){var s=$e(r);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=ve(s.pendingLanes);if(0!==i){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-fe(i);o.entanglements[1]|=l,i&=~l}wu(s),!(6&rc)&&(wc=ee()+500,ku(0))}}break;case 13:null!==(o=Ra(s,2))&&Oc(o,0,2),Uc(),nf(s,2)}if(null===(s=cf(a))&&Qu(e,t,a,uf,n),s===r)break;r=s}null!==r&&a.stopPropagation()}else Qu(e,t,a,null,n)}}function cf(e){return df(e=Rt(e))}var uf=null;function df(e){if(uf=null,null!==(e=ze(e))){var t=s(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=i(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return uf=e,null}function ff(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(te()){case ne:return 2;case ae:return 8;case re:case se:return 32;case ie:return 268435456;default:return 32}default:return 32}}var pf=!1,mf=null,hf=null,gf=null,vf=new Map,yf=new Map,bf=[],xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _f(e,t){switch(e){case"focusin":case"focusout":mf=null;break;case"dragenter":case"dragleave":hf=null;break;case"mouseover":case"mouseout":gf=null;break;case"pointerover":case"pointerout":vf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yf.delete(t.pointerId)}}function Sf(e,t,n,a,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=$e(t))&&af(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Nf(e){var t=ze(e.target);if(null!==t){var n=s(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=i(n)))return e.blockedOn=t,void function(e,t){var n=A.p;try{return A.p=e,t()}finally{A.p=n}}(e.priority,function(){if(13===n.tag){var e=Pc();e=Ie(e);var t=Ra(n,e);null!==t&&Oc(t,0,e),nf(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wf(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=cf(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&af(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);At=a,n.target.dispatchEvent(a),At=null,t.shift()}return!0}function kf(e,t,n){wf(e)&&n.delete(t)}function Cf(){pf=!1,null!==mf&&wf(mf)&&(mf=null),null!==hf&&wf(hf)&&(hf=null),null!==gf&&wf(gf)&&(gf=null),vf.forEach(kf),yf.forEach(kf)}function If(t,n){t.blockedOn===n&&(t.blockedOn=null,pf||(pf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Cf)))}var Tf=null;function Mf(t){Tf!==t&&(Tf=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Tf===t&&(Tf=null);for(var e=0;e<t.length;e+=3){var n=t[e],a=t[e+1],r=t[e+2];if("function"!=typeof a){if(null===df(a||n))continue;break}var s=$e(n);null!==s&&(t.splice(e,3),e-=3,Ai(s,{pending:!0,data:r,method:n.method,action:a},a,r))}}))}function jf(e){function t(t){return If(t,e)}null!==mf&&If(mf,e),null!==hf&&If(hf,e),null!==gf&&If(gf,e),vf.forEach(t),yf.forEach(t);for(var n=0;n<bf.length;n++){var a=bf[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<bf.length&&null===(n=bf[0]).blockedOn;)Nf(n),null===n.blockedOn&&bf.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<n.length;a+=3){var r=n[a],s=n[a+1],i=r[Ae]||null;if("function"==typeof s)i||Mf(n);else if(i){var o=null;if(s&&s.hasAttribute("formAction")){if(r=s,i=s[Ae]||null)o=i.formAction;else if(null!==df(r))continue}else o=i.action;"function"==typeof o?n[a+1]=o:(n.splice(a,3),a-=3),Mf(n)}}}function Ef(e){this._internalRoot=e}function Af(e){this._internalRoot=e}Af.prototype.render=Ef.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));ef(t.current,Pc(),e,t,null,null)},Af.prototype.unmount=Ef.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ef(e.current,2,null,e,null,null),Uc(),t[Re]=null}},Af.prototype.unstable_scheduleHydration=function(e){if(e){var t=Me();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bf.length&&0!==t&&t<bf[n].priority;n++);bf.splice(n,0,e),0===n&&Nf(e)}};var Rf=t.version;if("19.1.1"!==Rf)throw Error(a(527,Rf,"19.1.1"));A.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var l=i.alternate;if(null===l){if(null!==(r=i.return)){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return o(i),e;if(l===r)return o(i),t;l=l.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=l;else{for(var c=!1,u=i.child;u;){if(u===n){c=!0,n=i,r=l;break}if(u===r){c=!0,r=i,n=l;break}u=u.sibling}if(!c){for(u=l.child;u;){if(u===n){c=!0,n=l,r=i;break}if(u===r){c=!0,r=l,n=i;break}u=u.sibling}if(!c)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?l(e):null)?null:e.stateNode};var Df={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:E,reconcilerVersion:"19.1.1"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lf.isDisabled&&Lf.supportsFiber)try{ce=Lf.inject(Df),ue=Lf}catch(Ff){}}return Je.createRoot=function(e,t){if(!r(e))throw Error(a(299));var n=!1,s="",i=xo,o=_o,l=So;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,n,s,i,o,l,0,null),e[Re]=t.current,Bu(e),new Ef(t)},Je.hydrateRoot=function(e,t,n){if(!r(e))throw Error(a(299));var s=!1,i="",o=xo,l=_o,c=So,u=null;return null!=n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Xd(e,1,!0,t,0,s,i,o,l,c,0,u)).context=Jd(null),n=t.current,(i=is(s=Ie(s=Pc()))).callback=null,os(n,i,s),n=s,t.current.lanes=n,we(t,n),wu(t),e[Re]=t.current,Bu(e),new Af(t)},Je.version="19.1.1",Je}var rt=(Ze||(Ze=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),Xe.exports=at()),Xe.exports);const st=({error:e})=>n.jsx(n.Fragment,{children:n.jsxs("div",{className:"error-screen",children:[n.jsx("h1",{children:"Something went wrong"}),e&&n.jsxs("div",{className:"error-details",children:[n.jsx("p",{children:e.message}),n.jsx("pre",{children:e.stack})]}),n.jsx("button",{onClick:()=>window.location.reload(),children:"Reload Application"})]})}),it=()=>{const e=z();return $.useEffect(()=>{},[e]),null},ot="_mainLayout_1wvhz_1",lt="_mainContainer_1wvhz_17",ct="_container_pd18v_1",ut="_headerToolBar_pd18v_51",dt="_username_pd18v_69",ft={},pt="/",mt="/login",ht="/error",gt="/charts",vt="*",yt=({width:e=150,height:t=62})=>n.jsx(B,{to:pt,className:ft.logo,children:n.jsx("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNjAgNzIiIHJvbGU9ImltZyIgYXJpYS1sYWJlbD0iTUlSQSBTQUZFVFkiPg0KICAgIDwhLS0g0KbQstC10YLQsCDQsdGA0LXQvdC00LAgLS0+DQogICAgPGRlZnM+DQogICAgICAgIDxzdHlsZT4NCiAgICAgICAgICAgIC5ibHVlIHsgZmlsbDojMjQ3QUJFOyB9DQogICAgICAgICAgICAub3JhbmdlIHsgZmlsbDojRjE4QzE2OyB9DQogICAgICAgIDwvc3R5bGU+DQogICAgPC9kZWZzPg0KDQogICAgPCEtLSBXT1JETUFSSyAoTUlSQSArIFNBRkVUWSkgLS0+DQogICAgPGcgY2xhc3M9ImJsdWUiPg0KICAgICAgICA8dGV4dCB4PSIwIiB5PSI1MyINCiAgICAgICAgICAgICAgc3R5bGU9ImZvbnQtZmFtaWx5OiBNb250c2VycmF0LCBJbnRlciwgQXJpYWwsIHNhbnMtc2VyaWY7DQogICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA4MDA7IGZvbnQtc2l6ZTogMzRweDsgbGV0dGVyLXNwYWNpbmc6IC41cHgiPg0KICAgICAgICAgICAgTUlSQQ0KICAgICAgICA8L3RleHQ+DQogICAgPC9nPg0KDQogICAgPGcgY2xhc3M9Im9yYW5nZSI+DQogICAgICAgIDx0ZXh0IHg9IjMiIHk9IjcxIg0KICAgICAgICAgICAgICBzdHlsZT0iZm9udC1mYW1pbHk6IE1vbnRzZXJyYXQsIEludGVyLCBBcmlhbCwgc2Fucy1zZXJpZjsNCiAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDgwMDsgZm9udC1zaXplOiAxMnB4OyBsZXR0ZXItc3BhY2luZzogMnB4Ij4NCiAgICAgICAgICAgIFNBRkVUWQ0KICAgICAgICA8L3RleHQ+DQogICAgPC9nPg0KDQogICAgPCEtLSBYICjQuNC3INGC0LLQvtC10LPQviDQutC+0YDRgNC10LrRgtC90L7Qs9C+INGE0LDQudC70LApLCDQvNCw0YHRiNGC0LDQsdC40YDQvtCy0LDQvSDQuCDRgdC00LLQuNC90YPRgiDQstC/0YDQsNCy0L4gLS0+DQogICAgPCEtLSDQn9C+0LfQuNGG0LjRjy/QvNCw0YHRiNGC0LDQsTogdHJhbnNsYXRlKDEwNCw2KSBzY2FsZSguODApIOKAlCDQvNC+0LbQvdC+INC/0L7QtNGB0YLRgNC+0LjRgtGMINC/0YDQuCDQvdC10L7QsdGF0L7QtNC40LzQvtGB0YLQuCAtLT4NCiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5Myw2KSBzY2FsZSgxLjIwKSI+DQogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsNTgpIHNjYWxlKDAuMSwtMC4xKSIgY2xhc3M9ImJsdWUiIHN0cm9rZT0ibm9uZSI+DQogICAgICAgICAgICA8cGF0aCBkPSJNMjYgNTc4IGMzOSAtNjcgNDAgLTY4IDEzMCAtNjggNDYgMCA4NCAyIDg0IDUgMCAzIC0xMCAyMSAtMjMgNDAgbC0yMiAzNSAtODggMCBjLTY4IDAgLTg3IC0zIC04MSAtMTJ6Ii8+DQogICAgICAgICAgICA8cGF0aCBkPSJNMzQzIDUyNSBjLTI0IC0zNiAtNDMgLTcyIC00MyAtODAgMCAtMTIgLTE2IC0xNSAtODUgLTE1IC00NyAwIC04NSAtMiAtODUgLTQgMCAtMyA5IC0yMSAyMSAtNDAgbDIxIC0zNiA4NyAwIGM2NSAwIDg4IDMgODggMTMgMCA3IDMyIDYxIDcyIDEyMCA0OCA3MiA2NiAxMDcgNTYgMTA3IC05IDAgLTQ1IC00NSAtODIgLTEwMiAtNTkgLTg5IC02OCAtOTkgLTc2IC04MSAtNyAxNyAxIDM1IDQyIDk2IDU1IDgyIDU3IDg3IDM5IDg3IC03IDAgLTMyIC0zMCAtNTUgLTY1eiIvPg0KICAgICAgICAgICAgPHBhdGggZD0iTTQ1MiA0NjQgYy01MCAtNzYgLTgwIC0xMzAgLTc1IC0xMzUgNiAtNiA0NCA0MyA5NiAxMjEgNDggNzEgODcgMTMyIDg3IDEzNSAwIDMgLTYgNSAtMTIgNSAtNyAwIC01MCAtNTcgLTk2IC0xMjZ6Ii8+DQogICAgICAgICAgICA8cGF0aCBkPSJNMzc2IDI5MSBjLTggLTEzIDE1NSAtMjYwIDE3MiAtMjYxIDYgMCAxMiAyIDEyIDUgMCA2IC0xNTcgMjQ0IC0xNzAgMjU4IC00IDUgLTExIDQgLTE0IC0yeiIvPg0KICAgICAgICAgICAgPHBhdGggZD0iTTE1MSAyMzYgYy0xMiAtMTggLTIxIC0zNiAtMjEgLTQwIDAgLTMgMzggLTYgODUgLTYgNjkgMCA4NSAtMyA4NSAtMTUgMCAtMjIgODMgLTE0NSA5OCAtMTQ1IDE4IDAgMTYgNSAtMzkgODcgLTQyIDYyIC00OSA3OSAtNDIgOTYgOSAxOSAxNyAxMSA3OCAtODEgMzcgLTU2IDc0IC0xMDIgODEgLTEwMiAxMCAwIDkgNyAtNCAyOCAtMTAgMTUgLTQyIDY1IC03MiAxMTIgLTMwIDQ3IC01NCA4OCAtNTIgOTIgMSA1IC0zOCA4IC04NyA4IGwtODkgMCAtMjEgLTM0eiIvPg0KICAgICAgICAgICAgPHBhdGggZD0iTTQzIDc1IGMtMTMgLTE5IC0yMyAtMzcgLTIzIC00MCAwIC0zIDM5IC01IDg4IC01IGw4NyAwIDIzIDM1IGMxMiAxOSAyMiAzNyAyMiA0MCAwIDMgLTM5IDUgLTg3IDUgbC04OCAwIC0yMiAtMzV6Ii8+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4NCg==",alt:"MIRA Safety",width:e,height:t})}),bt="_container_ziqwi_1";var xt,_t,St,Nt={},wt={},kt={};function Ct(){if(xt)return kt;function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(){}xt=1,kt.__esModule=!0,kt.default=function(t){var a="".concat(t,"Storage");return function(t){if("object"!==("undefined"==typeof self?"undefined":e(self))||!(t in self))return!1;try{var n=self[t],a="redux-persist ".concat(t," test");n.setItem(a,"test"),n.getItem(a),n.removeItem(a)}catch(r){return!1}return!0}(a)?self[a]:n};var n={getItem:t,setItem:t,removeItem:t};return kt}function It(){if(_t)return wt;_t=1,wt.__esModule=!0,wt.default=function(e){var n=(0,t.default)(e);return{getItem:function(e){return new Promise(function(t,a){t(n.getItem(e))})},setItem:function(e,t){return new Promise(function(a,r){a(n.setItem(e,t))})},removeItem:function(e){return new Promise(function(t,a){t(n.removeItem(e))})}}};var e,t=(e=Ct())&&e.__esModule?e:{default:e};return wt}const Tt=q(function(){if(St)return Nt;var e;St=1,Nt.__esModule=!0,Nt.default=void 0;var t=(0,((e=It())&&e.__esModule?e:{default:e}).default)("local");return Nt.default=t,Nt}());var Mt=class extends Error{constructor(e){super(e[0].message),t(this,"issues"),this.name="SchemaError",this.issues=e}},jt=(e=>(e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected",e))(jt||{});function Et(e){return{status:e,isUninitialized:"uninitialized"===e,isLoading:"pending"===e,isSuccess:"fulfilled"===e,isError:"rejected"===e}}var At=me;function Rt(e,t){if(e===t||!(At(e)&&At(t)||Array.isArray(e)&&Array.isArray(t)))return t;const n=Object.keys(t),a=Object.keys(e);let r=n.length===a.length;const s=Array.isArray(t)?[]:{};for(const i of n)s[i]=Rt(e[i],t[i]),r&&(r=e[i]===s[i]);return r?e:s}function Dt(e){let t=0;for(const n in e)t++;return t}var Lt=e=>[].concat(...e);function Pt(e){return null!=e}var Ft=class{constructor(e,t=void 0){this.value=e,this.meta=t}},Ot=ae("__rtkq/focused"),qt=ae("__rtkq/unfocused"),zt=ae("__rtkq/online"),$t=ae("__rtkq/offline");function Bt(e){return"query"===e.type}function Ut(e){return"infinitequery"===e.type}function Qt(e){return Bt(e)||Ut(e)}function Vt(e,t,n,a,r,s){return"function"==typeof e?e(t,n,a,r).filter(Pt).map(Ht).map(s):Array.isArray(e)?e.map(Ht).map(s):[]}function Ht(e){return"string"==typeof e?{type:e}:e}var Wt=Symbol("forceQueryFn"),Kt=e=>"function"==typeof e[Wt];var Gt=class extends Mt{constructor(e,t,n,a){super(e),this.value=t,this.schemaName=n,this._bqMeta=a}};async function Yt(e,t,n,a){const r=await e["~standard"].validate(t);if(r.issues)throw new Gt(r.issues,t,n,a);return r.value}function Zt(e){return e}var Xt=(e={})=>({...e,[he]:!0});function Jt(e,{pages:t,pageParams:n},a){const r=t.length-1;return e.getNextPageParam(t[r],t,n[r],n,a)}function en(e,{pages:t,pageParams:n},a){var r;return null==(r=e.getPreviousPageParam)?void 0:r.call(e,t[0],t,n[0],n,a)}function tn(e,t,n,a){return Vt(n[e.meta.arg.endpointName][t],de(e)?e.payload:void 0,ue(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,a)}function nn(e,t,n){const a=e[t];a&&n(a)}function an(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function rn(e,t,n){const a=e[an(t)];a&&n(a)}var sn={};function on({reducerPath:e,queryThunk:t,mutationThunk:n,serializeQueryArgs:a,context:{endpointDefinitions:r,apiUid:s,extractRehydrationInfo:i,hasRehydrationInfo:o},assertTagType:l,config:c}){const u=ae(`${e}/resetApiState`);function d(e,t,n,a){var s;e[s=t.queryCacheKey]??(e[s]={status:"uninitialized",endpointName:t.endpointName}),nn(e,t.queryCacheKey,e=>{e.status="pending",e.requestId=n&&e.requestId?e.requestId:a.requestId,void 0!==t.originalArgs&&(e.originalArgs=t.originalArgs),e.startedTimeStamp=a.startedTimeStamp;Ut(r[a.arg.endpointName])&&"direction"in t&&(e.direction=t.direction)})}function f(e,t,n,a){nn(e,t.arg.queryCacheKey,e=>{if(e.requestId!==t.requestId&&!a)return;const{merge:s}=r[t.arg.endpointName];if(e.status="fulfilled",s)if(void 0!==e.data){const{fulfilledTimeStamp:a,arg:r,baseQueryMeta:i,requestId:o}=t;let l=se(e.data,e=>s(e,n,{arg:r.originalArgs,baseQueryMeta:i,fulfilledTimeStamp:a,requestId:o}));e.data=l}else e.data=n;else e.data=r[t.arg.endpointName].structuralSharing??1?Rt(Ne(e.data)?we(e.data):e.data,n):n;delete e.error,e.fulfilledTimeStamp=t.fulfilledTimeStamp})}const p=oe({name:`${e}/queries`,initialState:sn,reducers:{removeQueryResult:{reducer(e,{payload:{queryCacheKey:t}}){delete e[t]},prepare:le()},cacheEntriesUpserted:{reducer(e,t){for(const n of t.payload){const{queryDescription:a,value:r}=n;d(e,a,!0,{arg:a,requestId:t.meta.requestId,startedTimeStamp:t.meta.timestamp}),f(e,{arg:a,requestId:t.meta.requestId,fulfilledTimeStamp:t.meta.timestamp,baseQueryMeta:{}},r,!0)}},prepare:e=>({payload:e.map(e=>{const{endpointName:t,arg:n,value:s}=e,i=r[t];return{queryDescription:{type:"query",endpointName:t,originalArgs:e.arg,queryCacheKey:a({queryArgs:n,endpointDefinition:i,endpointName:t})},value:s}}),meta:{[he]:!0,requestId:ee(),timestamp:Date.now()}})},queryResultPatched:{reducer(e,{payload:{queryCacheKey:t,patches:n}}){nn(e,t,e=>{e.data=fe(e.data,n.concat())})},prepare:le()}},extraReducers(e){e.addCase(t.pending,(e,{meta:t,meta:{arg:n}})=>{d(e,n,Kt(n),t)}).addCase(t.fulfilled,(e,{meta:t,payload:n})=>{f(e,t,n,Kt(t.arg))}).addCase(t.rejected,(e,{meta:{condition:t,arg:n,requestId:a},error:r,payload:s})=>{nn(e,n.queryCacheKey,e=>{if(t);else{if(e.requestId!==a)return;e.status="rejected",e.error=s??r}})}).addMatcher(o,(e,t)=>{const{queries:n}=i(t);for(const[a,r]of Object.entries(n))"fulfilled"!==(null==r?void 0:r.status)&&"rejected"!==(null==r?void 0:r.status)||(e[a]=r)})}}),m=oe({name:`${e}/mutations`,initialState:sn,reducers:{removeMutationResult:{reducer(e,{payload:t}){const n=an(t);n in e&&delete e[n]},prepare:le()}},extraReducers(e){e.addCase(n.pending,(e,{meta:t,meta:{requestId:n,arg:a,startedTimeStamp:r}})=>{a.track&&(e[an(t)]={requestId:n,status:"pending",endpointName:a.endpointName,startedTimeStamp:r})}).addCase(n.fulfilled,(e,{payload:t,meta:n})=>{n.arg.track&&rn(e,n,e=>{e.requestId===n.requestId&&(e.status="fulfilled",e.data=t,e.fulfilledTimeStamp=n.fulfilledTimeStamp)})}).addCase(n.rejected,(e,{payload:t,error:n,meta:a})=>{a.arg.track&&rn(e,a,e=>{e.requestId===a.requestId&&(e.status="rejected",e.error=t??n)})}).addMatcher(o,(e,t)=>{const{mutations:n}=i(t);for(const[a,r]of Object.entries(n))"fulfilled"!==(null==r?void 0:r.status)&&"rejected"!==(null==r?void 0:r.status)||a===(null==r?void 0:r.requestId)||(e[a]=r)})}}),h=oe({name:`${e}/invalidation`,initialState:{tags:{},keys:{}},reducers:{updateProvidedBy:{reducer(e,t){var n,a,r;for(const{queryCacheKey:s,providedTags:i}of t.payload){g(e,s);for(const{type:t,id:o}of i){const i=(a=(n=e.tags)[t]??(n[t]={}))[r=o||"__internal_without_id"]??(a[r]=[]);i.includes(s)||i.push(s)}e.keys[s]=i}},prepare:le()}},extraReducers(e){e.addCase(p.actions.removeQueryResult,(e,{payload:{queryCacheKey:t}})=>{g(e,t)}).addMatcher(o,(e,t)=>{var n,a,r;const{provided:s}=i(t);for(const[i,o]of Object.entries(s))for(const[t,s]of Object.entries(o)){const o=(a=(n=e.tags)[i]??(n[i]={}))[r=t||"__internal_without_id"]??(a[r]=[]);for(const e of s){o.includes(e)||o.push(e)}}}).addMatcher(ce(de(t),ue(t)),(e,t)=>{v(e,[t])}).addMatcher(p.actions.cacheEntriesUpserted.match,(e,t)=>{v(e,t.payload.map(({queryDescription:e,value:t})=>({type:"UNKNOWN",payload:t,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:e}})))})}});function g(e,t){var n;const a=e.keys[t]??[];for(const r of a){const a=r.type,s=r.id??"__internal_without_id",i=null==(n=e.tags[a])?void 0:n[s];i&&(e.tags[a][s]=i.filter(e=>e!==t))}delete e.keys[t]}function v(e,t){const n=t.map(e=>{const t=tn(e,"providesTags",r,l),{queryCacheKey:n}=e.meta.arg;return{queryCacheKey:n,providedTags:t}});h.caseReducers.updateProvidedBy(e,h.actions.updateProvidedBy(n))}const y=oe({name:`${e}/subscriptions`,initialState:sn,reducers:{updateSubscriptionOptions(e,t){},unsubscribeQueryResult(e,t){},internal_getRTKQSubscriptions(){}}}),b=oe({name:`${e}/internalSubscriptions`,initialState:sn,reducers:{subscriptionsUpdated:{reducer:(e,t)=>fe(e,t.payload),prepare:le()}}}),x=oe({name:`${e}/config`,initialState:{online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine,focused:"undefined"==typeof document||"hidden"!==document.visibilityState,middlewareRegistered:!1,...c},reducers:{middlewareRegistered(e,{payload:t}){e.middlewareRegistered="conflict"!==e.middlewareRegistered&&s===t||"conflict"}},extraReducers:e=>{e.addCase(zt,e=>{e.online=!0}).addCase($t,e=>{e.online=!1}).addCase(Ot,e=>{e.focused=!0}).addCase(qt,e=>{e.focused=!1}).addMatcher(o,e=>({...e}))}}),_=pe({queries:p.reducer,mutations:m.reducer,provided:h.reducer,subscriptions:b.reducer,config:x.reducer});return{reducer:(e,t)=>_(u.match(t)?void 0:e,t),actions:{...x.actions,...p.actions,...y.actions,...b.actions,...m.actions,...h.actions,resetApiState:u}}}var ln=Symbol.for("RTKQ/skipToken"),cn={status:"uninitialized"},un=se(cn,()=>{}),dn=se(cn,()=>{});var fn=WeakMap?new WeakMap:void 0,pn=({endpointName:e,queryArgs:t})=>{let n="";const a=null==fn?void 0:fn.get(t);if("string"==typeof a)n=a;else{const e=JSON.stringify(t,(e,t)=>(t="bigint"==typeof t?{$bigint:t.toString()}:t,t=me(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t));me(t)&&(null==fn||fn.set(t,e)),n=e}return`${e}(${n})`};function mn(...e){return function(t){const n=J(e=>{var n;return null==(n=t.extractRehydrationInfo)?void 0:n.call(t,e,{reducerPath:t.reducerPath??"api"})}),a={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...t,extractRehydrationInfo:n,serializeQueryArgs(e){let n=pn;if("serializeQueryArgs"in e.endpointDefinition){const t=e.endpointDefinition.serializeQueryArgs;n=e=>{const n=t(e);return"string"==typeof n?n:pn({...e,queryArgs:n})}}else t.serializeQueryArgs&&(n=t.serializeQueryArgs);return n(e)},tagTypes:[...t.tagTypes||[]]},r={endpointDefinitions:{},batch(e){e()},apiUid:ee(),extractRehydrationInfo:n,hasRehydrationInfo:J(e=>null!=n(e))},s={injectEndpoints:function(e){const t=e.endpoints({query:e=>({...e,type:"query"}),mutation:e=>({...e,type:"mutation"}),infiniteQuery:e=>({...e,type:"infinitequery"})});for(const[n,a]of Object.entries(t))if(!0!==e.overrideExisting&&n in r.endpointDefinitions){if("throw"===e.overrideExisting)throw new Error(te(39))}else{r.endpointDefinitions[n]=a;for(const e of i)e.injectEndpoint(n,a)}return s},enhanceEndpoints({addTagTypes:e,endpoints:t}){if(e)for(const n of e)a.tagTypes.includes(n)||a.tagTypes.push(n);if(t)for(const[n,a]of Object.entries(t))"function"==typeof a?a(r.endpointDefinitions[n]):Object.assign(r.endpointDefinitions[n]||{},a);return s}},i=e.map(e=>e.init(s,a,r));return s.injectEndpoints({endpoints:t.endpoints})}}function hn(e,...t){return Object.assign(e,...t)}var gn=({api:e,queryThunk:t,internalState:n})=>{const a=`${e.reducerPath}/subscriptions`;let r=null,s=null;const{updateSubscriptionOptions:i,unsubscribeQueryResult:o}=e.internalActions,l=()=>n.currentSubscriptions,c={getSubscriptions:l,getSubscriptionCount:e=>Dt(l()[e]??{}),isRequestSubscribed:(e,t)=>{var n;const a=l();return!!(null==(n=null==a?void 0:a[e])?void 0:n[t])}};return(l,u)=>{if(r||(r=JSON.parse(JSON.stringify(n.currentSubscriptions))),e.util.resetApiState.match(l))return r=n.currentSubscriptions={},s=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(l))return[!1,c];const d=((n,a)=>{var r,s,l;if(i.match(a)){const{queryCacheKey:e,requestId:t,options:s}=a.payload;return(null==(r=null==n?void 0:n[e])?void 0:r[t])&&(n[e][t]=s),!0}if(o.match(a)){const{queryCacheKey:e,requestId:t}=a.payload;return n[e]&&delete n[e][t],!0}if(e.internalActions.removeQueryResult.match(a))return delete n[a.payload.queryCacheKey],!0;if(t.pending.match(a)){const{meta:{arg:e,requestId:t}}=a,r=n[s=e.queryCacheKey]??(n[s]={});return r[`${t}_running`]={},e.subscribe&&(r[t]=e.subscriptionOptions??r[t]??{}),!0}let c=!1;if(t.fulfilled.match(a)||t.rejected.match(a)){const e=n[a.meta.arg.queryCacheKey]||{},t=`${a.meta.requestId}_running`;c||(c=!!e[t]),delete e[t]}if(t.rejected.match(a)){const{meta:{condition:e,arg:t,requestId:r}}=a;if(e&&t.subscribe){const e=n[l=t.queryCacheKey]??(n[l]={});e[r]=t.subscriptionOptions??e[r]??{},c=!0}}return c})(n.currentSubscriptions,l);let f=!0;if(d){s||(s=setTimeout(()=>{const t=JSON.parse(JSON.stringify(n.currentSubscriptions)),[,a]=xe(r,()=>t);u.next(e.internalActions.subscriptionsUpdated(a)),r=t,s=null},500));const i="string"==typeof l.type&&!!l.type.startsWith(a),o=t.rejected.match(l)&&l.meta.condition&&!!l.meta.arg.subscribe;f=!i&&!o}return[f,!1]}};var vn=({reducerPath:e,api:t,queryThunk:n,context:a,internalState:r,selectors:{selectQueryEntry:s,selectConfig:i}})=>{const{removeQueryResult:o,unsubscribeQueryResult:l,cacheEntriesUpserted:c}=t.internalActions,u=ce(l.match,n.fulfilled,n.rejected,c.match);function d(e){const t=r.currentSubscriptions[e];return!!t&&!function(e){for(const t in e)return!1;return!0}(t)}const f={};function p(e,t,n){const a=t.getState();for(const r of e){const e=s(a,r);m(r,null==e?void 0:e.endpointName,t,n)}}function m(e,t,n,r){const s=a.endpointDefinitions[t],i=(null==s?void 0:s.keepUnusedDataFor)??r.keepUnusedDataFor;if(i===1/0)return;const l=Math.max(0,Math.min(i,2147482.647));if(!d(e)){const t=f[e];t&&clearTimeout(t),f[e]=setTimeout(()=>{d(e)||n.dispatch(o({queryCacheKey:e})),delete f[e]},1e3*l)}}return(e,n,r)=>{const s=n.getState(),o=i(s);if(u(e)){let t;if(c.match(e))t=e.payload.map(e=>e.queryDescription.queryCacheKey);else{const{queryCacheKey:n}=l.match(e)?e.payload:e.meta.arg;t=[n]}p(t,n,o)}if(t.util.resetApiState.match(e))for(const[t,a]of Object.entries(f))a&&clearTimeout(a),delete f[t];if(a.hasRehydrationInfo(e)){const{queries:t}=a.extractRehydrationInfo(e);p(Object.keys(t),n,o)}}},yn=new Error("Promise never resolved before cacheEntryRemoved."),bn=({api:e,reducerPath:t,context:n,queryThunk:a,mutationThunk:r,internalState:s,selectors:{selectQueryEntry:i,selectApiState:o}})=>{const l=Se(a),c=Se(r),u=de(a,r),d={};function f(e,t,n){const a=d[e];(null==a?void 0:a.valueResolved)&&(a.valueResolved({data:t,meta:n}),delete a.valueResolved)}function p(e){const t=d[e];t&&(delete d[e],t.cacheEntryRemoved())}function m(t,a,r,s,i){const o=n.endpointDefinitions[t],l=null==o?void 0:o.onCacheEntryAdded;if(!l)return;const c={},u=new Promise(e=>{c.cacheEntryRemoved=e}),f=Promise.race([new Promise(e=>{c.valueResolved=e}),u.then(()=>{throw yn})]);f.catch(()=>{}),d[r]=c;const p=e.endpoints[t].select(Qt(o)?a:r),m=s.dispatch((e,t,n)=>n),h={...s,getCacheEntry:()=>p(s.getState()),requestId:i,extra:m,updateCachedData:Qt(o)?n=>s.dispatch(e.util.updateQueryData(t,a,n)):void 0,cacheDataLoaded:f,cacheEntryRemoved:u},g=l(a,h);Promise.resolve(g).catch(e=>{if(e!==yn)throw e})}return(n,s,o)=>{const h=function(t){if(l(t))return t.meta.arg.queryCacheKey;if(c(t))return t.meta.arg.fixedCacheKey??t.meta.requestId;return e.internalActions.removeQueryResult.match(t)?t.payload.queryCacheKey:e.internalActions.removeMutationResult.match(t)?an(t.payload):""}(n);function g(e,t,n,a){const r=i(o,t),l=i(s.getState(),t);!r&&l&&m(e,a,t,s,n)}if(a.pending.match(n))g(n.meta.arg.endpointName,h,n.meta.requestId,n.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(n))for(const{queryDescription:e,value:t}of n.payload){const{endpointName:a,originalArgs:r,queryCacheKey:s}=e;g(a,s,n.meta.requestId,r),f(s,t,{})}else if(r.pending.match(n)){s.getState()[t].mutations[h]&&m(n.meta.arg.endpointName,n.meta.arg.originalArgs,h,s,n.meta.requestId)}else if(u(n))f(h,n.payload,n.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(n)||e.internalActions.removeMutationResult.match(n))p(h);else if(e.util.resetApiState.match(n))for(const e of Object.keys(d))p(e)}},xn=({api:e,context:{apiUid:t},reducerPath:n})=>(n,a)=>{e.util.resetApiState.match(n)&&a.dispatch(e.internalActions.middlewareRegistered(t))},_n=({reducerPath:e,context:t,context:{endpointDefinitions:n},mutationThunk:a,queryThunk:r,api:s,assertTagType:i,refetchQuery:o,internalState:l})=>{const{removeQueryResult:c}=s.internalActions,u=ce(de(a),ue(a)),d=ce(de(a,r),ve(a,r));let f=[];function p(n,a){const r=a.getState(),i=r[e];if(f.push(...n),"delayed"===i.config.invalidationBehavior&&function(e){var t;const{queries:n,mutations:a}=e;for(const r of[n,a])for(const e in r)if("pending"===(null==(t=r[e])?void 0:t.status))return!0;return!1}(i))return;const u=f;if(f=[],0===u.length)return;const d=s.util.selectInvalidatedBy(r,u);t.batch(()=>{const e=Array.from(d.values());for(const{queryCacheKey:t}of e){const e=i.queries[t],n=l.currentSubscriptions[t]??{};e&&(0===Dt(n)?a.dispatch(c({queryCacheKey:t})):"uninitialized"!==e.status&&a.dispatch(o(e)))}})}return(e,t)=>{u(e)?p(tn(e,"invalidatesTags",n,i),t):d(e)?p([],t):s.util.invalidateTags.match(e)&&p(Vt(e.payload,void 0,void 0,void 0,void 0,i),t)}},Sn=({reducerPath:e,queryThunk:t,api:n,refetchQuery:a,internalState:r})=>{const s={};function i({queryCacheKey:t},n){const o=n.getState()[e],l=o.queries[t],u=r.currentSubscriptions[t];if(!l||"uninitialized"===l.status)return;const{lowestPollingInterval:d,skipPollingIfUnfocused:f}=c(u);if(!Number.isFinite(d))return;const p=s[t];(null==p?void 0:p.timeout)&&(clearTimeout(p.timeout),p.timeout=void 0);const m=Date.now()+d;s[t]={nextPollTimestamp:m,pollingInterval:d,timeout:setTimeout(()=>{!o.config.focused&&f||n.dispatch(a(l)),i({queryCacheKey:t},n)},d)}}function o({queryCacheKey:t},n){const a=n.getState()[e].queries[t],o=r.currentSubscriptions[t];if(!a||"uninitialized"===a.status)return;const{lowestPollingInterval:u}=c(o);if(!Number.isFinite(u))return void l(t);const d=s[t],f=Date.now()+u;(!d||f<d.nextPollTimestamp)&&i({queryCacheKey:t},n)}function l(e){const t=s[e];(null==t?void 0:t.timeout)&&clearTimeout(t.timeout),delete s[e]}function c(e={}){let t=!1,n=Number.POSITIVE_INFINITY;for(let a in e)e[a].pollingInterval&&(n=Math.min(e[a].pollingInterval,n),t=e[a].skipPollingIfUnfocused||t);return{lowestPollingInterval:n,skipPollingIfUnfocused:t}}return(e,a)=>{(n.internalActions.updateSubscriptionOptions.match(e)||n.internalActions.unsubscribeQueryResult.match(e))&&o(e.payload,a),(t.pending.match(e)||t.rejected.match(e)&&e.meta.condition)&&o(e.meta.arg,a),(t.fulfilled.match(e)||t.rejected.match(e)&&!e.meta.condition)&&i(e.meta.arg,a),n.util.resetApiState.match(e)&&function(){for(const e of Object.keys(s))l(e)}()}},Nn=({api:e,context:t,queryThunk:n,mutationThunk:a})=>{const r=ye(n,a),s=ve(n,a),i=de(n,a),o={};return(n,a)=>{var l,c;if(r(n)){const{requestId:r,arg:{endpointName:s,originalArgs:i}}=n.meta,l=t.endpointDefinitions[s],c=null==l?void 0:l.onQueryStarted;if(c){const t={},n=new Promise((e,n)=>{t.resolve=e,t.reject=n});n.catch(()=>{}),o[r]=t;const u=e.endpoints[s].select(Qt(l)?i:r),d=a.dispatch((e,t,n)=>n),f={...a,getCacheEntry:()=>u(a.getState()),requestId:r,extra:d,updateCachedData:Qt(l)?t=>a.dispatch(e.util.updateQueryData(s,i,t)):void 0,queryFulfilled:n};c(i,f)}}else if(i(n)){const{requestId:e,baseQueryMeta:t}=n.meta;null==(l=o[e])||l.resolve({data:n.payload,meta:t}),delete o[e]}else if(s(n)){const{requestId:e,rejectedWithValue:t,baseQueryMeta:a}=n.meta;null==(c=o[e])||c.reject({error:n.payload??n.error,isUnhandledError:!t,meta:a}),delete o[e]}}};function wn(e){const{reducerPath:t,queryThunk:n,api:a,context:r}=e,{apiUid:s}=r,i={invalidateTags:ae(`${t}/invalidateTags`)},o=e=>e.type.startsWith(`${t}/`),l=[xn,vn,_n,Sn,bn,Nn];return{middleware:n=>{let i=!1;const u={...e,internalState:{currentSubscriptions:{}},refetchQuery:c,isThisApiSliceAction:o},d=l.map(e=>e(u)),f=gn(u),p=(({reducerPath:e,context:t,api:n,refetchQuery:a,internalState:r})=>{const{removeQueryResult:s}=n.internalActions;function i(n,i){const o=n.getState()[e],l=o.queries,c=r.currentSubscriptions;t.batch(()=>{for(const e of Object.keys(c)){const t=l[e],r=c[e];r&&t&&((Object.values(r).some(e=>!0===e[i])||Object.values(r).every(e=>void 0===e[i])&&o.config[i])&&(0===Dt(r)?n.dispatch(s({queryCacheKey:e})):"uninitialized"!==t.status&&n.dispatch(a(t))))}})}return(e,t)=>{Ot.match(e)&&i(t,"refetchOnFocus"),zt.match(e)&&i(t,"refetchOnReconnect")}})(u);return e=>l=>{if(!_e(l))return e(l);i||(i=!0,n.dispatch(a.internalActions.middlewareRegistered(s)));const c={...n,next:e},u=n.getState(),[m,h]=f(l,c,u);let g;if(g=m?e(l):h,n.getState()[t]&&(p(l,c,u),o(l)||r.hasRehydrationInfo(l)))for(const e of d)e(l,c,u);return g}},actions:i};function c(t){return e.api.endpoints[t.endpointName].initiate(t.originalArgs,{subscribe:!1,forceRefetch:!0})}}var kn=Symbol(),Cn=({createSelector:e=re}={})=>({name:kn,init(t,{baseQuery:n,tagTypes:a,reducerPath:r,serializeQueryArgs:s,keepUnusedDataFor:i,refetchOnMountOrArgChange:o,refetchOnFocus:l,refetchOnReconnect:c,invalidationBehavior:u,onSchemaFailure:d,catchSchemaFailure:f,skipSchemaValidation:p},m){ne();const h=e=>e;Object.assign(t,{reducerPath:r,endpoints:{},internalActions:{onOnline:zt,onOffline:$t,onFocus:Ot,onFocusLost:qt},util:{}});const g=function({serializeQueryArgs:e,reducerPath:t,createSelector:n}){const a=e=>un,r=e=>dn;return{buildQuerySelector:function(e,t){return c(e,t,s)},buildInfiniteQuerySelector:function(e,t){const{infiniteQueryOptions:n}=t;return c(e,t,function(e){const t={...e,...Et(e.status)},{isLoading:a,isError:r,direction:s}=t,i="forward"===s,o="backward"===s;return{...t,hasNextPage:u(n,t.data,t.originalArgs),hasPreviousPage:d(n,t.data,t.originalArgs),isFetchingNextPage:a&&i,isFetchingPreviousPage:a&&o,isFetchNextPageError:r&&i,isFetchPreviousPageError:r&&o}})},buildMutationSelector:function(){return e=>{let t;return t="object"==typeof e?an(e)??ln:e,n(t===ln?r:e=>{var n,a;return(null==(a=null==(n=i(e))?void 0:n.mutations)?void 0:a[t])??dn},s)}},selectInvalidatedBy:function(e,n){const a=e[t],r=new Set;for(const t of n.filter(Pt).map(Ht)){const e=a.provided.tags[t.type];if(!e)continue;let n=(void 0!==t.id?e[t.id]:Lt(Object.values(e)))??[];for(const t of n)r.add(t)}return Lt(Array.from(r.values()).map(e=>{const t=a.queries[e];return t?[{queryCacheKey:e,endpointName:t.endpointName,originalArgs:t.originalArgs}]:[]}))},selectCachedArgsForQuery:function(e,t){return Object.values(o(e)).filter(e=>(null==e?void 0:e.endpointName)===t&&"uninitialized"!==e.status).map(e=>e.originalArgs)},selectApiState:i,selectQueries:o,selectMutations:function(e){var t;return null==(t=i(e))?void 0:t.mutations},selectQueryEntry:l,selectConfig:function(e){var t;return null==(t=i(e))?void 0:t.config}};function s(e){return{...e,...Et(e.status)}}function i(e){return e[t]}function o(e){var t;return null==(t=i(e))?void 0:t.queries}function l(e,t){var n;return null==(n=o(e))?void 0:n[t]}function c(t,r,s){return i=>{if(i===ln)return n(a,s);const o=e({queryArgs:i,endpointDefinition:r,endpointName:t});return n(e=>l(e,o)??un,s)}}function u(e,t,n){return!!t&&null!=Jt(e,t,n)}function d(e,t,n){return!(!t||!e.getPreviousPageParam)&&null!=en(e,t,n)}}({serializeQueryArgs:s,reducerPath:r,createSelector:e}),{selectInvalidatedBy:v,selectCachedArgsForQuery:y,buildQuerySelector:b,buildInfiniteQuerySelector:x,buildMutationSelector:_}=g;hn(t.util,{selectInvalidatedBy:v,selectCachedArgsForQuery:y});const{queryThunk:S,infiniteQueryThunk:N,mutationThunk:w,patchQueryData:k,updateQueryData:C,upsertQueryData:I,prefetch:T,buildMatchThunkActions:M}=function({reducerPath:e,baseQuery:t,context:{endpointDefinitions:n},serializeQueryArgs:a,api:r,assertTagType:s,selectors:i,onSchemaFailure:o,catchSchemaFailure:l,skipSchemaValidation:c}){function u(e,t,n=0){const a=[t,...e];return n&&a.length>n?a.slice(0,-1):a}function d(e,t,n=0){const a=[...e,t];return n&&a.length>n?a.slice(1):a}const f=(e,t)=>e.query&&e[t]?e[t]:Zt,p=async(e,{signal:a,abort:r,rejectWithValue:s,fulfillWithValue:p,dispatch:h,getState:g,extra:v})=>{var y,b;const x=n[e.endpointName],{metaSchema:_,skipSchemaValidation:S=c}=x;try{let k=f(x,"transformResponse");const C={signal:a,abort:r,dispatch:h,getState:g,extra:v,endpoint:e.endpointName,type:e.type,forced:"query"===e.type?m(e,g()):void 0,queryCacheKey:"query"===e.type?e.queryCacheKey:void 0},I="query"===e.type?e[Wt]:void 0;let T;const M=async(t,n,a,r)=>{if(null==n&&t.pages.length)return Promise.resolve({data:t});const s={queryArg:e.originalArgs,pageParam:n},i=await j(s),o=r?u:d;return{data:{pages:o(t.pages,i.data,a),pageParams:o(t.pageParams,n,a)},meta:i.meta}};async function j(e){let n;const{extraOptions:a,argSchema:r,rawResponseSchema:s,responseSchema:i}=x;if(r&&!S&&(e=await Yt(r,e,"argSchema",{})),n=I?I():x.query?await t(x.query(e),C,a):await x.queryFn(e,C,a,e=>t(e,C,a)),n.error)throw new Ft(n.error,n.meta);let{data:o}=n;s&&!S&&(o=await Yt(s,n.data,"rawResponseSchema",n.meta));let l=await k(o,n.meta,e);return i&&!S&&(l=await Yt(i,l,"responseSchema",n.meta)),{...n,data:l}}if("query"===e.type&&"infiniteQueryOptions"in x){const{infiniteQueryOptions:E}=x,{maxPages:A=1/0}=E;let R;const D={pages:[],pageParams:[]},L=null==(y=i.selectQueryEntry(g(),e.queryCacheKey))?void 0:y.data,P=m(e,g())&&!e.direction||!L?D:L;if("direction"in e&&e.direction&&P.pages.length){const F="backward"===e.direction,O=(F?en:Jt)(E,P,e.originalArgs);R=await M(P,O,A,F)}else{const{initialPageParam:q=E.initialPageParam}=e,z=(null==L?void 0:L.pageParams)??[],$=z[0]??q,B=z.length;R=await M(P,$,A),I&&(R={data:R.data.pages[0]});for(let U=1;U<B;U++){const Q=Jt(E,R.data,e.originalArgs);R=await M(R.data,Q,A)}}T=R}else T=await j(e.originalArgs);return _&&!S&&T.meta&&(T.meta=await Yt(_,T.meta,"metaSchema",T.meta)),p(T.data,Xt({fulfilledTimeStamp:Date.now(),baseQueryMeta:T.meta}))}catch(N){let V=N;if(V instanceof Ft){let H=f(x,"transformErrorResponse");const{rawErrorResponseSchema:W,errorResponseSchema:K}=x;let{value:G,meta:Y}=V;try{W&&!S&&(G=await Yt(W,G,"rawErrorResponseSchema",Y)),_&&!S&&(Y=await Yt(_,Y,"metaSchema",Y));let Z=await H(G,Y,e.originalArgs);return K&&!S&&(Z=await Yt(K,Z,"errorResponseSchema",Y)),s(Z,Xt({baseQueryMeta:Y}))}catch(w){V=w}}try{if(V instanceof Gt){const X={endpoint:e.endpointName,arg:e.originalArgs,type:e.type,queryCacheKey:"query"===e.type?e.queryCacheKey:void 0};null==(b=x.onSchemaFailure)||b.call(x,V,X),null==o||o(V,X);const{catchSchemaFailure:J=l}=x;if(J)return s(J(V,X),Xt({baseQueryMeta:V._bqMeta}))}}catch(w){V=w}throw V}};function m(e,t){const n=i.selectQueryEntry(t,e.queryCacheKey),a=i.selectConfig(t).refetchOnMountOrArgChange,r=null==n?void 0:n.fulfilledTimeStamp,s=e.forceRefetch??(e.subscribe&&a);return!!s&&(!0===s||(Number(new Date)-Number(r))/1e3>=s)}const h=()=>ie(`${e}/executeQuery`,p,{getPendingMeta({arg:e}){const t=n[e.endpointName];return Xt({startedTimeStamp:Date.now(),...Ut(t)?{direction:e.direction}:{}})},condition(e,{getState:t}){var a;const r=t(),s=i.selectQueryEntry(r,e.queryCacheKey),o=null==s?void 0:s.fulfilledTimeStamp,l=e.originalArgs,c=null==s?void 0:s.originalArgs,u=n[e.endpointName],d=e.direction;return!(!Kt(e)&&("pending"===(null==s?void 0:s.status)||!m(e,r)&&(!Bt(u)||!(null==(a=null==u?void 0:u.forceRefetch)?void 0:a.call(u,{currentArg:l,previousArg:c,endpointState:s,state:r})))&&o&&!d))},dispatchConditionRejection:!0}),g=h(),v=h(),y=ie(`${e}/executeMutation`,p,{getPendingMeta:()=>Xt({startedTimeStamp:Date.now()})});function b(e){return t=>{var n,a;return(null==(a=null==(n=null==t?void 0:t.meta)?void 0:n.arg)?void 0:a.endpointName)===e}}return{queryThunk:g,mutationThunk:y,infiniteQueryThunk:v,prefetch:(e,t,n)=>(a,s)=>{const i=(e=>"force"in e)(n)&&n.force,o=(e=>"ifOlderThan"in e)(n)&&n.ifOlderThan,l=(n=!0)=>{const a={forceRefetch:n,isPrefetch:!0};return r.endpoints[e].initiate(t,a)},c=r.endpoints[e].select(t)(s());if(i)a(l());else if(o){const e=null==c?void 0:c.fulfilledTimeStamp;if(!e)return void a(l());(Number(new Date)-Number(new Date(e)))/1e3>=o&&a(l())}else a(l(!1))},updateQueryData:(e,t,n,a=!0)=>(s,i)=>{const o=r.endpoints[e].select(t)(i()),l={patches:[],inversePatches:[],undo:()=>s(r.util.patchQueryData(e,t,l.inversePatches,a))};if("uninitialized"===o.status)return l;let c;if("data"in o)if(be(o.data)){const[e,t,a]=xe(o.data,n);l.patches.push(...t),l.inversePatches.push(...a),c=e}else c=n(o.data),l.patches.push({op:"replace",path:[],value:c}),l.inversePatches.push({op:"replace",path:[],value:o.data});return 0===l.patches.length||s(r.util.patchQueryData(e,t,l.patches,a)),l},upsertQueryData:(e,t,n)=>a=>a(r.endpoints[e].initiate(t,{subscribe:!1,forceRefetch:!0,[Wt]:()=>({data:n})})),patchQueryData:(e,t,i,o)=>(l,c)=>{const u=n[e],d=a({queryArgs:t,endpointDefinition:u,endpointName:e});if(l(r.internalActions.queryResultPatched({queryCacheKey:d,patches:i})),!o)return;const f=r.endpoints[e].select(t)(c()),p=Vt(u.providesTags,f.data,void 0,t,{},s);l(r.internalActions.updateProvidedBy([{queryCacheKey:d,providedTags:p}]))},buildMatchThunkActions:function(e,t){return{matchPending:ge(ye(e),b(t)),matchFulfilled:ge(de(e),b(t)),matchRejected:ge(ve(e),b(t))}}}}({baseQuery:n,reducerPath:r,context:m,api:t,serializeQueryArgs:s,assertTagType:h,selectors:g,onSchemaFailure:d,catchSchemaFailure:f,skipSchemaValidation:p}),{reducer:j,actions:E}=on({context:m,queryThunk:S,mutationThunk:w,serializeQueryArgs:s,reducerPath:r,assertTagType:h,config:{refetchOnFocus:l,refetchOnReconnect:c,refetchOnMountOrArgChange:o,keepUnusedDataFor:i,reducerPath:r,invalidationBehavior:u}});hn(t.util,{patchQueryData:k,updateQueryData:C,upsertQueryData:I,prefetch:T,resetApiState:E.resetApiState,upsertQueryEntries:E.cacheEntriesUpserted}),hn(t.internalActions,E);const{middleware:A,actions:R}=wn({reducerPath:r,context:m,queryThunk:S,mutationThunk:w,infiniteQueryThunk:N,api:t,assertTagType:h,selectors:g});hn(t.util,R),hn(t,{reducer:j,middleware:A});const{buildInitiateQuery:D,buildInitiateInfiniteQuery:L,buildInitiateMutation:P,getRunningMutationThunk:F,getRunningMutationsThunk:O,getRunningQueriesThunk:q,getRunningQueryThunk:z}=function({serializeQueryArgs:e,queryThunk:t,infiniteQueryThunk:n,mutationThunk:a,api:r,context:s}){const i=new Map,o=new Map,{unsubscribeQueryResult:l,removeMutationResult:c,updateSubscriptionOptions:u}=r.internalActions;return{buildInitiateQuery:function(e,t){return d(e,t)},buildInitiateInfiniteQuery:function(e,t){return d(e,t)},buildInitiateMutation:function(e){return(t,{track:n=!0,fixedCacheKey:r}={})=>(s,i)=>{const l=a({type:"mutation",endpointName:e,originalArgs:t,track:n,fixedCacheKey:r}),u=s(l),{requestId:d,abort:f,unwrap:p}=u,m=(h=e=>({error:e}),u.unwrap().then(e=>({data:e})).catch(h));var h;const g=Object.assign(m,{arg:u.arg,requestId:d,abort:f,unwrap:p,reset:()=>{s(c({requestId:d,fixedCacheKey:r}))}}),v=o.get(s)||{};return o.set(s,v),v[d]=g,g.then(()=>{delete v[d],Dt(v)||o.delete(s)}),r&&(v[r]=g,g.then(()=>{v[r]===g&&(delete v[r],Dt(v)||o.delete(s))})),g}},getRunningQueryThunk:function(t,n){return a=>{var r;const o=s.endpointDefinitions[t],l=e({queryArgs:n,endpointDefinition:o,endpointName:t});return null==(r=i.get(a))?void 0:r[l]}},getRunningMutationThunk:function(e,t){return e=>{var n;return null==(n=o.get(e))?void 0:n[t]}},getRunningQueriesThunk:function(){return e=>Object.values(i.get(e)||{}).filter(Pt)},getRunningMutationsThunk:function(){return e=>Object.values(o.get(e)||{}).filter(Pt)}};function d(a,s){const o=(c,{subscribe:d=!0,forceRefetch:f,subscriptionOptions:p,[Wt]:m,...h}={})=>(g,v)=>{var y;const b=e({queryArgs:c,endpointDefinition:s,endpointName:a});let x;const _={...h,type:"query",subscribe:d,forceRefetch:f,subscriptionOptions:p,endpointName:a,originalArgs:c,queryCacheKey:b,[Wt]:m};if(Bt(s))x=t(_);else{const{direction:e,initialPageParam:t}=h;x=n({..._,direction:e,initialPageParam:t})}const S=r.endpoints[a].select(c),N=g(x),w=S(v()),{requestId:k,abort:C}=N,I=w.requestId!==k,T=null==(y=i.get(g))?void 0:y[b],M=()=>S(v()),j=Object.assign(m?N.then(M):I&&!T?Promise.resolve(w):Promise.all([T,N]).then(M),{arg:c,requestId:k,subscriptionOptions:p,queryCacheKey:b,abort:C,async unwrap(){const e=await j;if(e.isError)throw e.error;return e.data},refetch:()=>g(o(c,{subscribe:!1,forceRefetch:!0})),unsubscribe(){d&&g(l({queryCacheKey:b,requestId:k}))},updateSubscriptionOptions(e){j.subscriptionOptions=e,g(u({endpointName:a,requestId:k,queryCacheKey:b,options:e}))}});if(!T&&!I&&!m){const e=(A=g,R={},(E=i).has(A)?E.get(A):E.set(A,R).get(A));e[b]=j,j.then(()=>{delete e[b],Dt(e)||i.delete(g)})}var E,A,R;return j};return o}}({queryThunk:S,mutationThunk:w,infiniteQueryThunk:N,api:t,serializeQueryArgs:s,context:m});return hn(t.util,{getRunningMutationThunk:F,getRunningMutationsThunk:O,getRunningQueryThunk:z,getRunningQueriesThunk:q}),{name:kn,injectEndpoint(e,n){var a;const r=(a=t.endpoints)[e]??(a[e]={});Bt(n)&&hn(r,{name:e,select:b(e,n),initiate:D(e,n)},M(S,e)),"mutation"===n.type&&hn(r,{name:e,select:_(),initiate:P(e)},M(w,e)),Ut(n)&&hn(r,{name:e,select:x(e,n),initiate:L(e,n)},M(S,e))}}}});function In(e){return e.replace(e[0],e[0].toUpperCase())}function Tn(e){return"infinitequery"===e.type}function Mn(e,...t){return Object.assign(e,...t)}Cn();var jn=Symbol();function En(e,t,n,a){const r=$.useMemo(()=>({queryArgs:e,serialized:"object"==typeof e?t({queryArgs:e,endpointDefinition:n,endpointName:a}):e}),[e,t,n,a]),s=$.useRef(r);return $.useEffect(()=>{s.current.serialized!==r.serialized&&(s.current=r)},[r]),s.current.serialized===r.serialized?s.current.queryArgs:e}function An(e){const t=$.useRef(e);return $.useEffect(()=>{Me(t.current,e)||(t.current=e)},[e]),Me(t.current,e)?t.current:e}var Rn=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),Dn=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),Ln=(()=>Rn||Dn?$.useLayoutEffect:$.useEffect)(),Pn=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:void 0===e.data,status:jt.pending}:e;function Fn(e,...t){const n={};return t.forEach(t=>{n[t]=e[t]}),n}var On=["data","status","isLoading","isSuccess","isError","error"];var qn=Symbol(),zn=mn(Cn(),(({batch:e=ke,hooks:t={useDispatch:Te,useSelector:Ie,useStore:Ce},createSelector:n=re,unstable__sideEffectsInRender:a=!1,...r}={})=>({name:qn,init(r,{serializeQueryArgs:s},i){const o=r,{buildQueryHooks:l,buildInfiniteQueryHooks:c,buildMutationHook:u,usePrefetch:d}=function({api:e,moduleOptions:{batch:t,hooks:{useDispatch:n,useSelector:a,useStore:r},unstable__sideEffectsInRender:s,createSelector:i},serializeQueryArgs:o,context:l}){const c=s?e=>e():$.useEffect;return{buildQueryHooks:function(a){const r=(e,t={})=>{const[n]=f(a,e,t);return m(n),$.useMemo(()=>({refetch:()=>h(n)}),[n])},s=({refetchOnReconnect:r,refetchOnFocus:s,pollingInterval:i=0,skipPollingIfUnfocused:o=!1}={})=>{const{initiate:l}=e.endpoints[a],u=n(),[d,f]=$.useState(jn),p=$.useRef(void 0),m=An({refetchOnReconnect:r,refetchOnFocus:s,pollingInterval:i,skipPollingIfUnfocused:o});c(()=>{var e,t;const n=null==(e=p.current)?void 0:e.subscriptionOptions;m!==n&&(null==(t=p.current)||t.updateSubscriptionOptions(m))},[m]);const h=$.useRef(m);c(()=>{h.current=m},[m]);const g=$.useCallback(function(e,n=!1){let a;return t(()=>{var t;null==(t=p.current)||t.unsubscribe(),p.current=a=u(l(e,{subscriptionOptions:h.current,forceRefetch:!n})),f(e)}),a},[u,l]),v=$.useCallback(()=>{var t,n;(null==(t=p.current)?void 0:t.queryCacheKey)&&u(e.internalActions.removeQueryResult({queryCacheKey:null==(n=p.current)?void 0:n.queryCacheKey}))},[u]);return $.useEffect(()=>()=>{var e;null==(e=null==p?void 0:p.current)||e.unsubscribe()},[]),$.useEffect(()=>{d===jn||p.current||g(d,!0)},[d,g]),$.useMemo(()=>[g,d,{reset:v}],[g,d,v])},i=p(a,u);return{useQueryState:i,useQuerySubscription:r,useLazyQuerySubscription:s,useLazyQuery(e){const[t,n,{reset:a}]=s(e),r=i(n,{...e,skip:n===jn}),o=$.useMemo(()=>({lastArg:n}),[n]);return $.useMemo(()=>[t,{...r,reset:a},o],[t,r,a,o])},useQuery(e,t){const n=r(e,t),a=i(e,{selectFromResult:e===ln||(null==t?void 0:t.skip)?void 0:Pn,...t}),s=Fn(a,...On);return $.useDebugValue(s),$.useMemo(()=>({...a,...n}),[a,n])}}},buildInfiniteQueryHooks:function(e){const n=(n,a={})=>{const[r,s,i,o]=f(e,n,a),u=$.useRef(o);c(()=>{u.current=o},[o]);const d=$.useCallback(function(e,n){let a;return t(()=>{var t;null==(t=r.current)||t.unsubscribe(),r.current=a=s(i(e,{subscriptionOptions:u.current,direction:n}))}),a},[r,s,i]);m(r);const p=En(a.skip?ln:n,pn,l.endpointDefinitions[e],e),g=$.useCallback(()=>h(r),[r]);return $.useMemo(()=>({trigger:d,refetch:g,fetchNextPage:()=>d(p,"forward"),fetchPreviousPage:()=>d(p,"backward")}),[g,d,p])},a=p(e,d);return{useInfiniteQueryState:a,useInfiniteQuerySubscription:n,useInfiniteQuery(e,t){const{refetch:r,fetchNextPage:s,fetchPreviousPage:i}=n(e,t),o=a(e,{selectFromResult:e===ln||(null==t?void 0:t.skip)?void 0:Pn,...t}),l=Fn(o,...On,"hasNextPage","hasPreviousPage");return $.useDebugValue(l),$.useMemo(()=>({...o,fetchNextPage:s,fetchPreviousPage:i,refetch:r}),[o,s,i,r])}}},buildMutationHook:function(r){return({selectFromResult:s,fixedCacheKey:o}={})=>{const{select:l,initiate:c}=e.endpoints[r],u=n(),[d,f]=$.useState();$.useEffect(()=>()=>{(null==d?void 0:d.arg.fixedCacheKey)||null==d||d.reset()},[d]);const p=$.useCallback(function(e){const t=u(c(e,{fixedCacheKey:o}));return f(t),t},[u,c,o]),{requestId:m}=d||{},h=$.useMemo(()=>l({fixedCacheKey:o,requestId:null==d?void 0:d.requestId}),[o,d,l]),g=$.useMemo(()=>s?i([h],s):h,[s,h]),v=a(g,Me),y=null==o?null==d?void 0:d.arg.originalArgs:void 0,b=$.useCallback(()=>{t(()=>{d&&f(void 0),o&&u(e.internalActions.removeMutationResult({requestId:m,fixedCacheKey:o}))})},[u,o,d,m]),x=Fn(v,...On,"endpointName");$.useDebugValue(x);const _=$.useMemo(()=>({...v,originalArgs:y,reset:b}),[v,y,b]);return $.useMemo(()=>[p,_],[p,_])}},usePrefetch:function(t,a){const r=n(),s=An(a);return $.useCallback((n,a)=>r(e.util.prefetch(t,n,{...s,...a})),[t,r,s])}};function u(e,t,n){if((null==t?void 0:t.endpointName)&&e.isUninitialized){const{endpointName:e}=t,a=l.endpointDefinitions[e];n!==ln&&o({queryArgs:t.originalArgs,endpointDefinition:a,endpointName:e})===o({queryArgs:n,endpointDefinition:a,endpointName:e})&&(t=void 0)}let a=e.isSuccess?e.data:null==t?void 0:t.data;void 0===a&&(a=e.data);const r=void 0!==a,s=e.isLoading,i=(!t||t.isLoading||t.isUninitialized)&&!r&&s,c=e.isSuccess||r&&(s&&!(null==t?void 0:t.isError)||e.isUninitialized);return{...e,data:a,currentData:e.data,isFetching:s,isLoading:i,isSuccess:c}}function d(e,t,n){if((null==t?void 0:t.endpointName)&&e.isUninitialized){const{endpointName:e}=t,a=l.endpointDefinitions[e];n!==ln&&o({queryArgs:t.originalArgs,endpointDefinition:a,endpointName:e})===o({queryArgs:n,endpointDefinition:a,endpointName:e})&&(t=void 0)}let a=e.isSuccess?e.data:null==t?void 0:t.data;void 0===a&&(a=e.data);const r=void 0!==a,s=e.isLoading,i=(!t||t.isLoading||t.isUninitialized)&&!r&&s,c=e.isSuccess||s&&r;return{...e,data:a,currentData:e.data,isFetching:s,isLoading:i,isSuccess:c}}function f(t,a,{refetchOnReconnect:r,refetchOnFocus:s,refetchOnMountOrArgChange:i,skip:o=!1,pollingInterval:u=0,skipPollingIfUnfocused:d=!1,...f}={}){const{initiate:p}=e.endpoints[t],m=n(),h=$.useRef(void 0);if(!h.current){const t=m(e.internalActions.internal_getRTKQSubscriptions());h.current=t}const g=En(o?ln:a,pn,l.endpointDefinitions[t],t),v=An({refetchOnReconnect:r,refetchOnFocus:s,pollingInterval:u,skipPollingIfUnfocused:d}),y=An(f.initialPageParam),b=$.useRef(void 0);let{queryCacheKey:x,requestId:_}=b.current||{},S=!1;x&&_&&(S=h.current.isRequestSubscribed(x,_));const N=!S&&void 0!==b.current;return c(()=>{N&&(b.current=void 0)},[N]),c(()=>{var e;const n=b.current;if(g===ln)return null==n||n.unsubscribe(),void(b.current=void 0);const a=null==(e=b.current)?void 0:e.subscriptionOptions;if(n&&n.arg===g)v!==a&&n.updateSubscriptionOptions(v);else{null==n||n.unsubscribe();const e=m(p(g,{subscriptionOptions:v,forceRefetch:i,...Tn(l.endpointDefinitions[t])?{initialPageParam:y}:{}}));b.current=e}},[m,p,i,g,v,N,y,t]),[b,m,p,v]}function p(t,n){return(s,{skip:c=!1,selectFromResult:u}={})=>{const{select:d}=e.endpoints[t],f=En(c?ln:s,o,l.endpointDefinitions[t],t),p=$.useRef(void 0),m=$.useMemo(()=>i([d(f),(e,t)=>t,e=>f],n,{memoizeOptions:{resultEqualityCheck:Me}}),[d,f]),h=$.useMemo(()=>u?i([m],u,{devModeChecks:{identityFunctionCheck:"never"}}):m,[m,u]),g=a(e=>h(e,p.current),Me),v=r(),y=m(v.getState(),p.current);return Ln(()=>{p.current=y},[y]),g}}function m(e){$.useEffect(()=>()=>{var t,n;null==(n=null==(t=e.current)?void 0:t.unsubscribe)||n.call(t),e.current=void 0},[e])}function h(e){if(!e.current)throw new Error(te(38));return e.current.refetch()}}({api:r,moduleOptions:{batch:e,hooks:t,unstable__sideEffectsInRender:a,createSelector:n},serializeQueryArgs:s,context:i});return Mn(o,{usePrefetch:d}),Mn(i,{batch:e}),{injectEndpoint(e,t){if("query"===t.type){const{useQuery:t,useLazyQuery:n,useLazyQuerySubscription:a,useQueryState:s,useQuerySubscription:i}=l(e);Mn(o.endpoints[e],{useQuery:t,useLazyQuery:n,useLazyQuerySubscription:a,useQueryState:s,useQuerySubscription:i}),r[`use${In(e)}Query`]=t,r[`useLazy${In(e)}Query`]=n}if(function(e){return"mutation"===e.type}(t)){const t=u(e);Mn(o.endpoints[e],{useMutation:t}),r[`use${In(e)}Mutation`]=t}else if(Tn(t)){const{useInfiniteQuery:t,useInfiniteQuerySubscription:n,useInfiniteQueryState:a}=c(e);Mn(o.endpoints[e],{useInfiniteQuery:t,useInfiniteQuerySubscription:n,useInfiniteQueryState:a}),r[`use${In(e)}InfiniteQuery`]=t}}}}}))());const $n={retries:3,retryDelay:(e,t)=>{const n=De.exponentialDelay(e,t);return Math.max(n,500)},shouldResetTimeout:!0,retryCondition:e=>{var t;const n=((null==(t=null==e?void 0:e.config)?void 0:t.method)||"").toUpperCase();if(!("GET"===n||"HEAD"===n||"OPTIONS"===n||"PUT"===n||"DELETE"===n))return!1;if(!(null==e?void 0:e.response))return!0;const a=e.response.status;return 429===a||a>=500&&a<=599}};const Bn=q(Le()),Un=e=>Bn.stringify(e,{arrayFormat:"repeat",skipNulls:!0,encodeValuesOnly:!0,serializeDate:e=>e.toISOString()}),Qn=Pe.create({baseURL:"https://192.168.2.80:5001",withCredentials:!0,paramsSerializer:Un,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json","X-Client-Type":"web"}});De(Qn,$n);const Vn=oe({name:"ui",initialState:{pending:0,lockUi:!1},reducers:{incPending(e){e.pending+=1,e.lockUi=e.pending>0},decPending(e){e.pending=Math.max(0,e.pending-1),e.lockUi=e.pending>0}}}),{incPending:Hn,decPending:Wn}=Vn.actions,Kn=Vn.reducer,Gn=e=>e.ui.lockUi;function Yn(e){var t;if(!e)return"Request failed";if("string"==typeof e)return e;const n=e;if(n.data&&"object"==typeof n.data){if("string"==typeof n.data.errorMessage&&n.data.errorMessage)return n.data.errorMessage;if("string"==typeof n.data.message&&n.data.message)return n.data.message}if("string"==typeof n.errorMessage&&n.errorMessage)return n.errorMessage;if("string"==typeof n.message&&n.message)return n.message;if(null==(t=n.response)?void 0:t.data)return Yn(n.response.data);try{const t=JSON.stringify(e);return"{}"===t||"null"===t?"Request failed":t}catch{return"Request failed"}}function Zn(e){if(void 0!==e)return"string"==typeof e?{text:e}:e}const Xn={show:(e,t)=>a(e,t),success:(e,t)=>a.success(e,t),error:(e,t)=>a.error(e,t),loading:(e,t)=>a.loading(e,t),dismiss:e=>e?a.dismiss(e):a.dismiss(),async run(e,t={},n){const{id:r,silent:s,toastOptions:i}=n??{},o=Zn(t.loading),l=Zn(t.success),c=Zn(t.error);if(!s&&(null==o?void 0:o.text)){const e={duration:1/0,...i,...o.toastOptions,id:r};a.loading(o.text,e)}try{const t=await e;if(!s&&l)if(l.text){const e={...i,...l.toastOptions,id:r};a.success(l.text,e)}else(null==o?void 0:o.text)&&a.dismiss(r);else!s&&(null==o?void 0:o.text)&&a.dismiss(r);return t}catch(u){if(!s){if("error"in t&&void 0!==c){const e=void 0!==c.text&&""!==c.text?c.text:Yn(u),t={...i,...c.toastOptions,id:r};a.error(e,t)}else(null==o?void 0:o.text)&&a.dismiss(r)}throw u}}},Jn=e=>!!e&&"object"==typeof e&&"success"in e&&"boolean"==typeof e.success,ea=e=>{const{status:t,data:n}=e;return{error:void 0===t?{data:n}:{status:t,data:n}}},ta=e=>({data:e}),na=()=>async(e,t)=>{var n,a,r;const s=e.method??"get",{url:i,data:o,params:l,headers:c,lockUi:u=!1}=e;u&&t.dispatch(Hn());try{const e={...c??{}};void 0===o||e["Content-Type"]||(e["Content-Type"]="application/json");const n={url:i,method:s,withCredentials:!0,signal:t.signal,...void 0!==o?{data:o}:{},...void 0!==l?{params:l}:{},...e&&Object.keys(e).length?{headers:e}:{}},a=await Qn.request(n),r=a.data;return Jn(r)?r.success?ta(r.data):ea({status:a.status,data:r}):ta(r)}catch(d){const e=d,t=(null==(n=e.response)?void 0:n.data)??e.message;Xn.error(Yn(t));const s=null==(a=e.response)?void 0:a.status,i=(null==(r=e.response)?void 0:r.data)??e.message;return ea({status:s,data:i})}finally{u&&t.dispatch(Wn())}},aa={CHARTS:{MULTI:"/charts/multi"},DATABASES:{ENTITIES:"metadata/database/entities",FIELDS:"metadata/database/fields",All:"metadata/databases/all",CREATE:"metadata/databases/create",UPDATE:e=>`metadata/databases/update/${e}`,DELETE:e=>`metadata/databases/delete/${e}`},TEMPLATES:{All:"/templates/all",CREATE:"/templates/create",UPDATE:e=>`/templates/update/${e}`,DELETE:e=>`/templates/delete/${e}`},WORKFLOW:{BASE:"/baseApi/workflow",RUN:e=>`/api/workflow/run/${e}`,SCENARIO_PAUSE:"/api/workflow/scenario/pause",SCENARIO_RESUME:"/api/workflow/scenario/resume",SCENARIO_STOP:"/api/workflow/scenario/stop",BRANCH_PAUSE:"/api/workflow/branch/pause",BRANCH_RESUME:"/api/workflow/branch/resume",BRANCH_STOP:"/api/workflow/branch/stop"},BRANCH:{GET_BY_ID:e=>`/api/branches/${e}`,GET_BY_PARALLEL_STEP:e=>`/api/branches/by-step/${e}`,CREATE:"/api/branches/create",UPDATE:e=>`/api/branches/update/${e}`,DELETE:e=>`/api/branches/delete/${e}`},SCENARIO:{ALL:"/api/scenario/all",BY_ID:e=>`/api/scenario/${e}`,CREATE:"/api/scenario/add",UPDATE:e=>`/api/scenario/update/${e}`,DELETE:e=>`/api/scenario/delete/${e}`,CHANGE:e=>`/api/scenario/change/${e}`},STEP:{ALL:e=>`/api/steps/by-branch/${e}`,BY_ID:e=>`/api/steps/${e}`,CREATE:"/api/steps/create",UPDATE:e=>`/api/steps/update/${e}`,DELETE:e=>`/api/steps/delete/${e}`},STEP_RELATION:{ALL:"/api/step-relation/all",CREATE:"/api/step-relation/create",UPDATE:e=>`/api/step-relation/update/${e}`,DELETE:e=>`/api/step-relation/delete/${e}`},USER:{LOGIN:"/api/user/login",LOGOUT:"/api/user/logout",REGISTER:"/api/user/register",RESET_PASSWORD:"/api/user/reset-password",INITIATE_PASSWORD_RESET:"/api/user/initiate-password-reset",ME:"/api/user/me"}},ra=zn({reducerPath:"authApi",baseQuery:na(),endpoints:e=>({login:e.mutation({query:e=>({url:aa.USER.LOGIN,method:"post",data:e})}),logout:e.mutation({query:()=>({url:aa.USER.LOGOUT,method:"post"})}),me:e.query({query:()=>({url:aa.USER.ME,method:"get"})}),register:e.mutation({query:e=>({url:aa.USER.REGISTER,method:"post",data:e})}),initiatePasswordReset:e.mutation({query:e=>({url:aa.USER.INITIATE_PASSWORD_RESET,method:"post",data:e})}),resetPassword:e.mutation({query:e=>({url:aa.USER.RESET_PASSWORD,method:"post",data:e})})})}),{useLoginMutation:sa,useLogoutMutation:ia}=ra,oa=oe({name:"auth",initialState:{user:null,isAuthenticated:!1},reducers:{setCredentials:(e,t)=>{e.user=t.payload??null,e.isAuthenticated=!!t.payload},resetAuthState:e=>{e.user=null,e.isAuthenticated=!1}},extraReducers:e=>{e.addMatcher(ra.endpoints.logout.matchFulfilled,e=>{e.user=null,e.isAuthenticated=!1})}}),{setCredentials:la,resetAuthState:ca}=oa.actions,ua=e=>e.auth.isAuthenticated,da=e=>{var t,n;return(null==(t=e.auth.user)?void 0:t.fullName)??(null==(n=e.auth.user)?void 0:n.email)??null},fa=je({key:"auth",storage:Tt,whitelist:["user","isAuthenticated"]},oa.reducer),pa="_btnSend_1dweq_3",ma=Te.withTypes(),ha=Ie.withTypes(),ga=()=>{const e=ma(),t=z(),[a]=ia();return n.jsx("button",{className:pa,onClick:async()=>{try{await a().unwrap()}catch(n){}e(ca()),t(mt,{replace:!0})},children:""})},va="_btnSend_3uqwi_3",ya=()=>n.jsx("button",{className:va,children:n.jsx(U,{to:mt,children:n.jsx("span",{children:""})})}),ba=$.createContext({theme:"dark",setTheme:()=>{}}),xa=({children:e})=>{const[t,a]=$.useState(()=>localStorage.getItem("theme")||"system"),r=e=>{const t="system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e,n=document.documentElement;n.setAttribute("shared-theme",t),n.classList.toggle("dark","dark"===t)};return $.useEffect(()=>{r(t);const e=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>{"system"===t&&r("system")};return e.addEventListener("change",n),()=>e.removeEventListener("change",n)},[t]),n.jsx(ba.Provider,{value:{theme:t,setTheme:e=>{localStorage.setItem("theme",e),a(e),r(e)}},children:e})},_a=()=>$.useContext(ba),Sa="_switch_1ehdt_1",Na="_moon_1ehdt_69",wa="_icons_1ehdt_99",ka="_icon_1ehdt_99",Ca="_sun_1ehdt_133",Ia="_thumb_1ehdt_153";function Ta(e){return n.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...e,children:[n.jsx("circle",{cx:"12",cy:"12",r:"5",fill:"currentColor"}),n.jsxs("g",{stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:[n.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"4"}),n.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"23"}),n.jsx("line",{x1:"1",y1:"12",x2:"4",y2:"12"}),n.jsx("line",{x1:"20",y1:"12",x2:"23",y2:"12"}),n.jsx("line",{x1:"4.22",y1:"4.22",x2:"6.34",y2:"6.34"}),n.jsx("line",{x1:"17.66",y1:"17.66",x2:"19.78",y2:"19.78"}),n.jsx("line",{x1:"4.22",y1:"19.78",x2:"6.34",y2:"17.66"}),n.jsx("line",{x1:"17.66",y1:"6.34",x2:"19.78",y2:"4.22"})]})]})}function Ma(e){return n.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...e,children:n.jsx("path",{fill:"currentColor",d:"M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"})})}function ja({className:e}){const{theme:t,setTheme:a}=_a(),r="dark"===t;return n.jsx(n.Fragment,{children:n.jsxs("button",{type:"button",role:"switch","aria-checked":r,"aria-label":" ","data-checked":r?"true":"false",className:`${Sa} ${e??""}`,onClick:()=>a(r?"light":"dark"),children:[n.jsxs("span",{className:wa,"aria-hidden":"true",children:[n.jsx(Ta,{className:`${ka} ${Ca}`}),n.jsx(Ma,{className:`${ka} ${Na}`})]}),n.jsx("span",{className:Ia,"aria-hidden":"true"})]})})}const Ea=({className:e})=>{const t=Ie(ua);return n.jsxs("header",{className:`${bt} ${e}`,children:[t&&n.jsx(ga,{}),!t&&n.jsx(ya,{}),n.jsx(ja,{})]})},Aa=({className:e})=>{const{theme:t}=_a(),a=Ie(ua),r=Ie(da);return n.jsxs("header",{className:`${ct} ${e}`,"data-theme":t,children:[a&&n.jsx("div",{className:dt,children:n.jsx("span",{children:r})}),n.jsx(yt,{}),n.jsx(Ea,{className:ut})]})},Ra="_container_6joxe_3",Da="_infoBlock_6joxe_49",La="_safetyText_6joxe_63",Pa=({className:e})=>{const{theme:t}=_a();return n.jsxs("div",{className:`${Ra} ${e}`,"data-theme":t,children:[n.jsx(yt,{}),n.jsxs("div",{className:Da,children:[n.jsxs("span",{children:["MIRAX ",n.jsx("span",{className:La,children:"safety"})]}),n.jsx("span",{children:"+7 (342) 259 88 55"}),n.jsx("span",{children:"info@mirax-safety.com"})]})]})},Fa="_topNav_1445s_1",Oa="_topNav__content_1445s_45",qa="_nav_1445s_57",za="_link_1445s_67",$a="_active_1445s_123",Ba=[{to:pt,label:"",end:!0},{to:gt,label:""}];function Ua(){const{theme:e}=_a();return n.jsx("nav",{className:Fa,"data-theme":e,children:n.jsx("div",{className:Oa,children:n.jsx("nav",{className:qa,"aria-label":" ",children:Ba.map(({to:e,label:t,end:a})=>n.jsx(U,{to:e,...a?{end:!0}:{},className:({isActive:e})=>e?`${za} ${$a}`:za,children:t},e))})})})}const Qa=()=>n.jsxs("div",{className:ot,children:[n.jsx(Aa,{}),n.jsx(Ua,{}),n.jsx("main",{className:lt,children:n.jsx(Q,{})}),n.jsx(Pa,{})]});var Va=e=>"checkbox"===e.type,Ha=e=>e instanceof Date,Wa=e=>null==e;const Ka=e=>"object"==typeof e;var Ga=e=>!Wa(e)&&!Array.isArray(e)&&Ka(e)&&!Ha(e),Ya="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function Za(e){let t;const n=Array.isArray(e),a="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(Ya&&(e instanceof Blob||a)||!n&&!Ga(e))return e;if(t=n?[]:Object.create(Object.getPrototypeOf(e)),n||(e=>{const t=e.constructor&&e.constructor.prototype;return Ga(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=Za(e[n]));else t=e}return t}var Xa=e=>/^\w*$/.test(e),Ja=e=>void 0===e,er=e=>Array.isArray(e)?e.filter(Boolean):[],tr=e=>er(e.replace(/["|']|\]/g,"").split(/\.|\[/)),nr=(e,t,n)=>{if(!t||!Ga(e))return n;const a=(Xa(t)?[t]:tr(t)).reduce((e,t)=>Wa(e)?e:e[t],e);return Ja(a)||a===e?Ja(e[t])?n:e[t]:a},ar=e=>"boolean"==typeof e,rr=(e,t,n)=>{let a=-1;const r=Xa(t)?[t]:tr(t),s=r.length,i=s-1;for(;++a<s;){const t=r[a];let s=n;if(a!==i){const n=e[t];s=Ga(n)||Array.isArray(n)?n:isNaN(+r[a+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=s,e=e[t]}};const sr="blur",ir="focusout",or="onBlur",lr="onChange",cr="onSubmit",ur="onTouched",dr="all",fr="max",pr="min",mr="maxLength",hr="minLength",gr="pattern",vr="required",yr="validate";V.createContext(null).displayName="HookFormContext";const br="undefined"!=typeof window?V.useLayoutEffect:V.useEffect;var xr=e=>"string"==typeof e,_r=e=>Wa(e)||!Ka(e);function Sr(e,t,n=new WeakSet){if(_r(e)||_r(t))return e===t;if(Ha(e)&&Ha(t))return e.getTime()===t.getTime();const a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const s of a){const a=e[s];if(!r.includes(s))return!1;if("ref"!==s){const e=t[s];if(Ha(a)&&Ha(e)||Ga(a)&&Ga(e)||Array.isArray(a)&&Array.isArray(e)?!Sr(a,e,n):a!==e)return!1}}return!0}var Nr=(e,t,n,a,r)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[a]:r||!0}}:{},wr=e=>Array.isArray(e)?e:[e],kr=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},Cr=e=>Ga(e)&&!Object.keys(e).length,Ir=e=>"file"===e.type,Tr=e=>"function"==typeof e,Mr=e=>{if(!Ya)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},jr=e=>"select-multiple"===e.type,Er=e=>"radio"===e.type,Ar=e=>Mr(e)&&e.isConnected;function Rr(e,t){const n=Array.isArray(t)?t:Xa(t)?[t]:tr(t),a=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let a=0;for(;a<n;)e=Ja(e)?a++:e[t[a++]];return e}(e,n),r=n.length-1,s=n[r];return a&&delete a[s],0!==r&&(Ga(a)&&Cr(a)||Array.isArray(a)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ja(e[t]))return!1;return!0}(a))&&Rr(e,n.slice(0,-1)),e}var Dr=e=>{for(const t in e)if(Tr(e[t]))return!0;return!1};function Lr(e,t={}){const n=Array.isArray(e);if(Ga(e)||n)for(const a in e)Array.isArray(e[a])||Ga(e[a])&&!Dr(e[a])?(t[a]=Array.isArray(e[a])?[]:{},Lr(e[a],t[a])):Wa(e[a])||(t[a]=!0);return t}function Pr(e,t,n){const a=Array.isArray(e);if(Ga(e)||a)for(const r in e)Array.isArray(e[r])||Ga(e[r])&&!Dr(e[r])?Ja(t)||_r(n[r])?n[r]=Array.isArray(e[r])?Lr(e[r],[]):{...Lr(e[r])}:Pr(e[r],Wa(t)?{}:t[r],n[r]):n[r]=!Sr(e[r],t[r]);return n}var Fr=(e,t)=>Pr(e,t,Lr(t));const Or={value:!1,isValid:!1},qr={value:!0,isValid:!0};var zr=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ja(e[0].attributes.value)?Ja(e[0].value)||""===e[0].value?qr:{value:e[0].value,isValid:!0}:qr:Or}return Or},$r=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:a})=>Ja(e)?e:t?""===e?NaN:e?+e:e:n&&xr(e)?new Date(e):a?a(e):e;const Br={isValid:!1,value:null};var Ur=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Br):Br;function Qr(e){const t=e.ref;return Ir(t)?t.files:Er(t)?Ur(e.refs).value:jr(t)?[...t.selectedOptions].map(({value:e})=>e):Va(t)?zr(e.refs).value:$r(Ja(t.value)?e.ref.value:t.value,e)}var Vr=e=>e instanceof RegExp,Hr=e=>Ja(e)?e:Vr(e)?e.source:Ga(e)?Vr(e.value)?e.value.source:e.value:e,Wr=e=>({isOnSubmit:!e||e===cr,isOnBlur:e===or,isOnChange:e===lr,isOnAll:e===dr,isOnTouch:e===ur});const Kr="AsyncFunction";var Gr=e=>!!e&&!!e.validate&&!!(Tr(e.validate)&&e.validate.constructor.name===Kr||Ga(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===Kr)),Yr=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const Zr=(e,t,n,a)=>{for(const r of n||Object.keys(e)){const n=nr(e,r);if(n){const{_f:e,...s}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],r)&&!a)return!0;if(e.ref&&t(e.ref,e.name)&&!a)return!0;if(Zr(s,t))break}else if(Ga(s)&&Zr(s,t))break}}};function Xr(e,t,n){const a=nr(e,n);if(a||Xa(n))return{error:a,name:n};const r=n.split(".");for(;r.length;){const a=r.join("."),s=nr(t,a),i=nr(e,a);if(s&&!Array.isArray(s)&&n!==a)return{name:n};if(i&&i.type)return{name:a,error:i};if(i&&i.root&&i.root.type)return{name:`${a}.root`,error:i.root};r.pop()}return{name:n}}var Jr=(e,t,n)=>{const a=wr(nr(e,n));return rr(a,"root",t[n]),rr(e,n,a),e},es=e=>xr(e);function ts(e,t,n="validate"){if(es(e)||Array.isArray(e)&&e.every(es)||ar(e)&&!e)return{type:n,message:es(e)?e:"",ref:t}}var ns=e=>Ga(e)&&!Vr(e)?e:{value:e,message:""},as=async(e,t,n,a,r,s)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:p,validate:m,name:h,valueAsNumber:g,mount:v}=e._f,y=nr(n,h);if(!v||t.has(h))return{};const b=o?o[0]:i,x=e=>{r&&b.reportValidity&&(b.setCustomValidity(ar(e)?"":e||""),b.reportValidity())},_={},S=Er(i),N=Va(i),w=S||N,k=(g||Ir(i))&&Ja(i.value)&&Ja(y)||Mr(i)&&""===i.value||""===y||Array.isArray(y)&&!y.length,C=Nr.bind(null,h,a,_),I=(e,t,n,a=mr,r=hr)=>{const s=e?t:n;_[h]={type:e?a:r,message:s,ref:i,...C(e?a:r,s)}};if(s?!Array.isArray(y)||!y.length:l&&(!w&&(k||Wa(y))||ar(y)&&!y||N&&!zr(o).isValid||S&&!Ur(o).isValid)){const{value:e,message:t}=es(l)?{value:!!l,message:l}:ns(l);if(e&&(_[h]={type:vr,message:t,ref:b,...C(vr,t)},!a))return x(t),_}if(!(k||Wa(d)&&Wa(f))){let e,t;const n=ns(f),r=ns(d);if(Wa(y)||isNaN(y)){const a=i.valueAsDate||new Date(y),s=e=>new Date((new Date).toDateString()+" "+e),o="time"==i.type,l="week"==i.type;xr(n.value)&&y&&(e=o?s(y)>s(n.value):l?y>n.value:a>new Date(n.value)),xr(r.value)&&y&&(t=o?s(y)<s(r.value):l?y<r.value:a<new Date(r.value))}else{const a=i.valueAsNumber||(y?+y:y);Wa(n.value)||(e=a>n.value),Wa(r.value)||(t=a<r.value)}if((e||t)&&(I(!!e,n.message,r.message,fr,pr),!a))return x(_[h].message),_}if((c||u)&&!k&&(xr(y)||s&&Array.isArray(y))){const e=ns(c),t=ns(u),n=!Wa(e.value)&&y.length>+e.value,r=!Wa(t.value)&&y.length<+t.value;if((n||r)&&(I(n,e.message,t.message),!a))return x(_[h].message),_}if(p&&!k&&xr(y)){const{value:e,message:t}=ns(p);if(Vr(e)&&!y.match(e)&&(_[h]={type:gr,message:t,ref:i,...C(gr,t)},!a))return x(t),_}if(m)if(Tr(m)){const e=ts(await m(y,n),b);if(e&&(_[h]={...e,...C(yr,e.message)},!a))return x(e.message),_}else if(Ga(m)){let e={};for(const t in m){if(!Cr(e)&&!a)break;const r=ts(await m[t](y,n),b,t);r&&(e={...r,...C(t,r.message)},x(r.message),a&&(_[h]=e))}if(!Cr(e)&&(_[h]={ref:b,...e},!a))return _}return x(!0),_};const rs={mode:cr,reValidateMode:lr,shouldFocusError:!0};function ss(e={}){let t,n={...rs,...e},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:Tr(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},r={},s=(Ga(n.defaultValues)||Ga(n.values))&&Za(n.defaultValues||n.values)||{},i=n.shouldUnregister?{}:Za(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const f={array:kr(),state:kr()},p=n.criteriaMode===dr,m=async e=>{if(!n.disabled&&(u.isValid||d.isValid||e)){const e=n.resolver?Cr((await b()).errors):await x(r,!0);e!==a.isValid&&f.state.next({isValid:e})}},h=(e,t)=>{!n.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((e||Array.from(l.mount)).forEach(e=>{e&&(t?rr(a.validatingFields,e,t):Rr(a.validatingFields,e))}),f.state.next({validatingFields:a.validatingFields,isValidating:!Cr(a.validatingFields)}))},g=(e,t,n,a)=>{const l=nr(r,e);if(l){const r=nr(i,e,Ja(n)?nr(s,e):n);Ja(r)||a&&a.defaultChecked||t?rr(i,e,t?r:Qr(l._f)):N(e,r),o.mount&&m()}},v=(e,t,r,i,o)=>{let l=!1,c=!1;const p={name:e};if(!n.disabled){if(!r||i){(u.isDirty||d.isDirty)&&(c=a.isDirty,a.isDirty=p.isDirty=_(),l=c!==p.isDirty);const n=Sr(nr(s,e),t);c=!!nr(a.dirtyFields,e),n?Rr(a.dirtyFields,e):rr(a.dirtyFields,e,!0),p.dirtyFields=a.dirtyFields,l=l||(u.dirtyFields||d.dirtyFields)&&c!==!n}if(r){const t=nr(a.touchedFields,e);t||(rr(a.touchedFields,e,r),p.touchedFields=a.touchedFields,l=l||(u.touchedFields||d.touchedFields)&&t!==r)}l&&o&&f.state.next(p)}return l?p:{}},y=(e,r,s,i)=>{const o=nr(a.errors,e),l=(u.isValid||d.isValid)&&ar(r)&&a.isValid!==r;var p;if(n.delayError&&s?(p=()=>((e,t)=>{rr(a.errors,e,t),f.state.next({errors:a.errors})})(e,s),t=e=>{clearTimeout(c),c=setTimeout(p,e)},t(n.delayError)):(clearTimeout(c),t=null,s?rr(a.errors,e,s):Rr(a.errors,e)),(s?!Sr(o,s):o)||!Cr(i)||l){const t={...i,...l&&ar(r)?{isValid:r}:{},errors:a.errors,name:e};a={...a,...t},f.state.next(t)}},b=async e=>{h(e,!0);const t=await n.resolver(i,n.context,((e,t,n,a)=>{const r={};for(const s of e){const e=nr(t,s);e&&rr(r,s,e._f)}return{criteriaMode:n,names:[...e],fields:r,shouldUseNativeValidation:a}})(e||l.mount,r,n.criteriaMode,n.shouldUseNativeValidation));return h(e),t},x=async(e,t,r={valid:!0})=>{for(const s in e){const o=e[s];if(o){const{_f:e,...c}=o;if(e){const c=l.array.has(e.name),d=o._f&&Gr(o._f);d&&u.validatingFields&&h([s],!0);const f=await as(o,l.disabled,i,p,n.shouldUseNativeValidation&&!t,c);if(d&&u.validatingFields&&h([s]),f[e.name]&&(r.valid=!1,t))break;!t&&(nr(f,e.name)?c?Jr(a.errors,f,e.name):rr(a.errors,e.name,f[e.name]):Rr(a.errors,e.name))}!Cr(c)&&await x(c,t,r)}}return r.valid},_=(e,t)=>!n.disabled&&(e&&t&&rr(i,e,t),!Sr(M(),s)),S=(e,t,n)=>((e,t,n,a,r)=>xr(e)?(a&&t.watch.add(e),nr(n,e,r)):Array.isArray(e)?e.map(e=>(a&&t.watch.add(e),nr(n,e))):(a&&(t.watchAll=!0),n))(e,l,{...o.mount?i:Ja(t)?s:xr(e)?{[e]:t}:t},n,t),N=(e,t,n={})=>{const a=nr(r,e);let s=t;if(a){const n=a._f;n&&(!n.disabled&&rr(i,e,$r(t,n)),s=Mr(n.ref)&&Wa(t)?"":t,jr(n.ref)?[...n.ref.options].forEach(e=>e.selected=s.includes(e.value)):n.refs?Va(n.ref)?n.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(s)?e.checked=!!s.find(t=>t===e.value):e.checked=s===e.value||!!s)}):n.refs.forEach(e=>e.checked=e.value===s):Ir(n.ref)?n.ref.value="":(n.ref.value=s,n.ref.type||f.state.next({name:e,values:Za(i)})))}(n.shouldDirty||n.shouldTouch)&&v(e,s,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&T(e)},w=(e,t,n)=>{for(const a in t){if(!t.hasOwnProperty(a))return;const s=t[a],i=e+"."+a,o=nr(r,i);(l.array.has(e)||Ga(s)||o&&!o._f)&&!Ha(s)?w(i,s,n):N(i,s,n)}},k=(e,t,n={})=>{const c=nr(r,e),p=l.array.has(e),m=Za(t);rr(i,e,m),p?(f.array.next({name:e,values:Za(i)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&n.shouldDirty&&f.state.next({name:e,dirtyFields:Fr(s,i),isDirty:_(e,m)})):!c||c._f||Wa(m)?N(e,m,n):w(e,m,n),Yr(e,l)&&f.state.next({...a,name:e}),f.state.next({name:o.mount?e:void 0,values:Za(i)})},C=async e=>{o.mount=!0;const s=e.target;let c=s.name,g=!0;const _=nr(r,c),S=e=>{g=Number.isNaN(e)||Ha(e)&&isNaN(e.getTime())||Sr(e,nr(i,c,e))},N=Wr(n.mode),w=Wr(n.reValidateMode);if(_){let o,C;const I=s.type?Qr(_._f):(e=>Ga(e)&&e.target?Va(e.target)?e.target.checked:e.target.value:e)(e),M=e.type===sr||e.type===ir,j=!((k=_._f).mount&&(k.required||k.min||k.max||k.maxLength||k.minLength||k.pattern||k.validate)||n.resolver||nr(a.errors,c)||_._f.deps)||((e,t,n,a,r)=>!r.isOnAll&&(!n&&r.isOnTouch?!(t||e):(n?a.isOnBlur:r.isOnBlur)?!e:!(n?a.isOnChange:r.isOnChange)||e))(M,nr(a.touchedFields,c),a.isSubmitted,w,N),E=Yr(c,l,M);rr(i,c,I),M?s&&s.readOnly||(_._f.onBlur&&_._f.onBlur(e),t&&t(0)):_._f.onChange&&_._f.onChange(e);const A=v(c,I,M),R=!Cr(A)||E;if(!M&&f.state.next({name:c,type:e.type,values:Za(i)}),j)return(u.isValid||d.isValid)&&("onBlur"===n.mode?M&&m():M||m()),R&&f.state.next({name:c,...E?{}:A});if(!M&&E&&f.state.next({...a}),n.resolver){const{errors:e}=await b([c]);if(S(I),g){const t=Xr(a.errors,r,c),n=Xr(e,r,t.name||c);o=n.error,c=n.name,C=Cr(e)}}else h([c],!0),o=(await as(_,l.disabled,i,p,n.shouldUseNativeValidation))[c],h([c]),S(I),g&&(o?C=!1:(u.isValid||d.isValid)&&(C=await x(r,!0)));g&&(_._f.deps&&T(_._f.deps),y(c,C,o,A))}var k},I=(e,t)=>{if(nr(a.errors,t)&&e.focus)return e.focus(),1},T=async(e,t={})=>{let s,i;const o=wr(e);if(n.resolver){const t=await(async e=>{const{errors:t}=await b(e);if(e)for(const n of e){const e=nr(t,n);e?rr(a.errors,n,e):Rr(a.errors,n)}else a.errors=t;return t})(Ja(e)?e:o);s=Cr(t),i=e?!o.some(e=>nr(t,e)):s}else e?(i=(await Promise.all(o.map(async e=>{const t=nr(r,e);return await x(t&&t._f?{[e]:t}:t)}))).every(Boolean),(i||a.isValid)&&m()):i=s=await x(r);return f.state.next({...!xr(e)||(u.isValid||d.isValid)&&s!==a.isValid?{}:{name:e},...n.resolver||!e?{isValid:s}:{},errors:a.errors}),t.shouldFocus&&!i&&Zr(r,I,e?o:l.mount),i},M=e=>{const t={...o.mount?i:s};return Ja(e)?t:xr(e)?nr(t,e):e.map(e=>nr(t,e))},j=(e,t)=>({invalid:!!nr((t||a).errors,e),isDirty:!!nr((t||a).dirtyFields,e),error:nr((t||a).errors,e),isValidating:!!nr(a.validatingFields,e),isTouched:!!nr((t||a).touchedFields,e)}),E=(e,t,n)=>{const s=(nr(r,e,{_f:{}})._f||{}).ref,i=nr(a.errors,e)||{},{ref:o,message:l,type:c,...u}=i;rr(a.errors,e,{...u,...t,ref:s}),f.state.next({name:e,errors:a.errors,isValid:!1}),n&&n.shouldFocus&&s&&s.focus&&s.focus()},A=e=>f.state.subscribe({next:t=>{var n,r,o;n=e.name,r=t.name,o=e.exact,n&&r&&n!==r&&!wr(n).some(e=>e&&(o?e===r:e.startsWith(r)||r.startsWith(e)))||!((e,t,n,a)=>{n(e);const{name:r,...s}=e;return Cr(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(e=>t[e]===(!a||dr))})(t,e.formState||u,z,e.reRenderRoot)||e.callback({values:{...i},...a,...t,defaultValues:s})}}).unsubscribe,R=(e,t={})=>{for(const o of e?wr(e):l.mount)l.mount.delete(o),l.array.delete(o),t.keepValue||(Rr(r,o),Rr(i,o)),!t.keepError&&Rr(a.errors,o),!t.keepDirty&&Rr(a.dirtyFields,o),!t.keepTouched&&Rr(a.touchedFields,o),!t.keepIsValidating&&Rr(a.validatingFields,o),!n.shouldUnregister&&!t.keepDefaultValue&&Rr(s,o);f.state.next({values:Za(i)}),f.state.next({...a,...t.keepDirty?{isDirty:_()}:{}}),!t.keepIsValid&&m()},D=({disabled:e,name:t})=>{(ar(e)&&o.mount||e||l.disabled.has(t))&&(e?l.disabled.add(t):l.disabled.delete(t))},L=(e,t={})=>{let a=nr(r,e);const i=ar(t.disabled)||ar(n.disabled);return rr(r,e,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:e}},name:e,mount:!0,...t}}),l.mount.add(e),a?D({disabled:ar(t.disabled)?t.disabled:n.disabled,name:e}):g(e,!0,t.value),{...i?{disabled:t.disabled||n.disabled}:{},...n.progressive?{required:!!t.required,min:Hr(t.min),max:Hr(t.max),minLength:Hr(t.minLength),maxLength:Hr(t.maxLength),pattern:Hr(t.pattern)}:{},name:e,onChange:C,onBlur:C,ref:i=>{if(i){L(e,t),a=nr(r,e);const n=Ja(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,o=(e=>Er(e)||Va(e))(n),l=a._f.refs||[];if(o?l.find(e=>e===n):n===a._f.ref)return;rr(r,e,{_f:{...a._f,...o?{refs:[...l.filter(Ar),n,...Array.isArray(nr(s,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),g(e,!1,void 0,n)}else a=nr(r,e,{}),a._f&&(a._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!((e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)))(l.array,e)||!o.action)&&l.unMount.add(e)}}},P=()=>n.shouldFocusError&&Zr(r,I,l.mount),F=(e,t)=>async s=>{let o;s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist());let c=Za(i);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await b();a.errors=e,c=Za(t)}else await x(r);if(l.disabled.size)for(const e of l.disabled)Rr(c,e);if(Rr(a.errors,"root"),Cr(a.errors)){f.state.next({errors:{}});try{await e(c,s)}catch(u){o=u}}else t&&await t({...a.errors},s),P(),setTimeout(P);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Cr(a.errors)&&!o,submitCount:a.submitCount+1,errors:a.errors}),o)throw o},O=(e,t={})=>{const c=e?Za(e):s,d=Za(c),p=Cr(e),m=p?s:d;if(t.keepDefaultValues||(s=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(Fr(s,i))]);for(const t of Array.from(e))nr(a.dirtyFields,t)?rr(m,t,nr(i,t)):k(t,nr(m,t))}else{if(Ya&&Ja(e))for(const e of l.mount){const t=nr(r,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Mr(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of l.mount)k(e,nr(m,e));else r={}}i=n.shouldUnregister?t.keepDefaultValues?Za(s):{}:Za(m),f.array.next({values:{...m}}),f.state.next({values:{...m}})}l={mount:t.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!t.keepIsValid||!!t.keepDirtyValues,o.watch=!!n.shouldUnregister,f.state.next({submitCount:t.keepSubmitCount?a.submitCount:0,isDirty:!p&&(t.keepDirty?a.isDirty:!(!t.keepDefaultValues||Sr(e,s))),isSubmitted:!!t.keepIsSubmitted&&a.isSubmitted,dirtyFields:p?{}:t.keepDirtyValues?t.keepDefaultValues&&i?Fr(s,i):a.dirtyFields:t.keepDefaultValues&&e?Fr(s,e):t.keepDirty?a.dirtyFields:{},touchedFields:t.keepTouched?a.touchedFields:{},errors:t.keepErrors?a.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&a.isSubmitSuccessful,isSubmitting:!1,defaultValues:s})},q=(e,t)=>O(Tr(e)?e(i):e,t),z=e=>{a={...a,...e}},$={control:{register:L,unregister:R,getFieldState:j,handleSubmit:F,setError:E,_subscribe:A,_runSchema:b,_focusError:P,_getWatch:S,_getDirty:_,_setValid:m,_setFieldArray:(e,t=[],l,c,p=!0,m=!0)=>{if(c&&l&&!n.disabled){if(o.action=!0,m&&Array.isArray(nr(r,e))){const t=l(nr(r,e),c.argA,c.argB);p&&rr(r,e,t)}if(m&&Array.isArray(nr(a.errors,e))){const t=l(nr(a.errors,e),c.argA,c.argB);p&&rr(a.errors,e,t),((e,t)=>{!er(nr(e,t)).length&&Rr(e,t)})(a.errors,e)}if((u.touchedFields||d.touchedFields)&&m&&Array.isArray(nr(a.touchedFields,e))){const t=l(nr(a.touchedFields,e),c.argA,c.argB);p&&rr(a.touchedFields,e,t)}(u.dirtyFields||d.dirtyFields)&&(a.dirtyFields=Fr(s,i)),f.state.next({name:e,isDirty:_(e,t),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else rr(i,e,t)},_setDisabledField:D,_setErrors:e=>{a.errors=e,f.state.next({errors:a.errors,isValid:!1})},_getFieldArray:e=>er(nr(o.mount?i:s,e,n.shouldUnregister?nr(s,e,[]):[])),_reset:O,_resetDefaultValues:()=>Tr(n.defaultValues)&&n.defaultValues().then(e=>{q(e,n.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of l.unMount){const t=nr(r,e);t&&(t._f.refs?t._f.refs.every(e=>!Ar(e)):!Ar(t._f.ref))&&R(e)}l.unMount=new Set},_disableForm:e=>{ar(e)&&(f.state.next({disabled:e}),Zr(r,(t,n)=>{const a=nr(r,n);a&&(t.disabled=a._f.disabled||e,Array.isArray(a._f.refs)&&a._f.refs.forEach(t=>{t.disabled=a._f.disabled||e}))},0,!1))},_subjects:f,_proxyFormState:u,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(e){o=e},get _defaultValues(){return s},get _names(){return l},set _names(e){l=e},get _formState(){return a},get _options(){return n},set _options(e){n={...n,...e}}},subscribe:e=>(o.mount=!0,d={...d,...e.formState},A({...e,formState:d})),trigger:T,register:L,handleSubmit:F,watch:(e,t)=>Tr(e)?f.state.subscribe({next:n=>"values"in n&&e(S(void 0,t),n)}):S(e,t,!0),setValue:k,getValues:M,reset:q,resetField:(e,t={})=>{nr(r,e)&&(Ja(t.defaultValue)?k(e,Za(nr(s,e))):(k(e,t.defaultValue),rr(s,e,Za(t.defaultValue))),t.keepTouched||Rr(a.touchedFields,e),t.keepDirty||(Rr(a.dirtyFields,e),a.isDirty=t.defaultValue?_(e,Za(nr(s,e))):_()),t.keepError||(Rr(a.errors,e),u.isValid&&m()),f.state.next({...a}))},clearErrors:e=>{e&&wr(e).forEach(e=>Rr(a.errors,e)),f.state.next({errors:e?a.errors:{}})},unregister:R,setError:E,setFocus:(e,t={})=>{const n=nr(r,e),a=n&&n._f;if(a){const e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),t.shouldSelect&&Tr(e.select)&&e.select())}},getFieldState:j};return{...$,formControl:$}}function is(e={}){const t=V.useRef(void 0),n=V.useRef(void 0),[a,r]=V.useState({isDirty:!1,isValidating:!1,isLoading:Tr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Tr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:a},e.defaultValues&&!Tr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:n,...r}=ss(e);t.current={...r,formState:a}}const s=t.current.control;return s._options=e,br(()=>{const e=s._subscribe({formState:s._proxyFormState,callback:()=>r({...s._formState}),reRenderRoot:!0});return r(e=>({...e,isReady:!0})),s._formState.isReady=!0,e},[s]),V.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),V.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),V.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),V.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),V.useEffect(()=>{if(s._proxyFormState.isDirty){const e=s._getDirty();e!==a.isDirty&&s._subjects.state.next({isDirty:e})}},[s,a.isDirty]),V.useEffect(()=>{e.values&&!Sr(e.values,n.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=e.values,r(e=>({...e}))):s._resetDefaultValues()},[s,e.values]),V.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=((e,t,n,a=!0)=>{const r={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(r,s,{get:()=>{const n=s;return t._proxyFormState[n]!==dr&&(t._proxyFormState[n]=!a||dr),e[n]}});return r})(a,s),t.current}const os=(e,t,n)=>{if(e&&"reportValidity"in e){const a=nr(n,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},ls=(e,t)=>{for(const n in t.fields){const a=t.fields[n];a&&a.ref&&"reportValidity"in a.ref?os(a.ref,n,e):a&&a.refs&&a.refs.forEach(t=>os(t,n,e))}},cs=(e,t)=>{t.shouldUseNativeValidation&&ls(e,t);const n={};for(const a in e){const r=nr(t.fields,a),s=Object.assign(e[a]||{},{ref:r&&r.ref});if(us(t.names||Object.keys(e),a)){const e=Object.assign({},nr(n,a));rr(e,"root",s),rr(n,a,e)}else rr(n,a,s)}return n},us=(e,t)=>{const n=ds(t);return e.some(e=>ds(e).match(`^${n}\\.\\d+`))};function ds(e){return e.replace(/\]|\[/g,"")}function fs(e,t){try{var n=e()}catch(a){return t(a)}return n&&n.then?n.then(void 0,t):n}function ps(e,t){for(var n={};e.length;){var a=e[0],r=a.code,s=a.message,i=a.path.join(".");if(!n[i])if("unionErrors"in a){var o=a.unionErrors[0].errors[0];n[i]={message:o.message,type:o.code}}else n[i]={message:s,type:r};if("unionErrors"in a&&a.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var l=n[i].types,c=l&&l[a.code];n[i]=Nr(i,t,n,r,c?[].concat(c,a.message):a.message)}e.shift()}return n}function ms(e,t){for(var n={};e.length;){var a=e[0],r=a.code,s=a.message,i=a.path.join(".");if(!n[i])if("invalid_union"===a.code&&a.errors.length>0){var o=a.errors[0][0];n[i]={message:o.message,type:o.code}}else n[i]={message:s,type:r};if("invalid_union"===a.code&&a.errors.forEach(function(t){return t.forEach(function(t){return e.push(t)})}),t){var l=n[i].types,c=l&&l[a.code];n[i]=Nr(i,t,n,r,c?[].concat(c,a.message):a.message)}e.shift()}return n}function hs(e,t,n){if(void 0===n&&(n={}),"_def"in(a=e)&&"object"==typeof a._def&&"typeName"in a._def)return function(r,s,i){try{return Promise.resolve(fs(function(){return Promise.resolve(e["sync"===n.mode?"parse":"parseAsync"](r,t)).then(function(e){return i.shouldUseNativeValidation&&ls({},i),{errors:{},values:n.raw?Object.assign({},r):e}})},function(e){if(t=e,Array.isArray(null==t?void 0:t.issues))return{values:{},errors:cs(ps(e.errors,!i.shouldUseNativeValidation&&"all"===i.criteriaMode),i)};var t;throw e}))}catch(a){return Promise.reject(a)}};var a;if(function(e){return"_zod"in e&&"object"==typeof e._zod}(e))return function(r,s,i){try{return Promise.resolve(fs(function(){return Promise.resolve(("sync"===n.mode?Fe:Oe)(e,r,t)).then(function(e){return i.shouldUseNativeValidation&&ls({},i),{errors:{},values:n.raw?Object.assign({},r):e}})},function(e){if(e instanceof qe)return{values:{},errors:cs(ms(e.issues,!i.shouldUseNativeValidation&&"all"===i.criteriaMode),i)};throw e}))}catch(a){return Promise.reject(a)}};throw new Error("Invalid input: not a Zod schema")}const gs="_loginContainer_ectg1_1",vs="_form_ectg1_21",ys="_email_ectg1_41",bs="_password_ectg1_41",xs="_errorsContainer_ectg1_57",_s="_buttonSend_ectg1_79";function Ss(e,t){if(!e)return null;const n=null==t?void 0:t[e];if(n)return n;return e.split(".").pop()??e}function Ns(e){const{errors:t,setError:n,knownFields:a,fieldMap:r,defaultMessage:s}=e,i=new Set(a),o="root";if(!t||0===t.length){const e=s??" ";return n(o,{type:"server",message:e}),{fieldErrors:0,commonMessage:e}}let l=0;const c=[];for(const d of t){const e=Ss(d.field,r);e&&i.has(e)?(n(e,{type:"server",message:d.message}),l++):c.push(d.message)}const u=c.length?c.join("\n"):null;return u&&n(o,{type:"server",message:u}),{fieldErrors:l,commonMessage:u}}const ws=$.createContext(null);function ks({children:e}){const[t,a]=$.useState(new Map);$.useEffect(()=>{if(0===t.size)return void(document.title="");const e=Array.from(t.values()).reduce((e,t)=>t.priority>e.priority?t:e);document.title=e.title},[t]);const r={setTitle:$.useCallback((e,t,n)=>{a(a=>{const r=new Map(a);return r.set(e,{id:e,title:t,priority:n}),r})},[]),removeTitle:$.useCallback(e=>{a(t=>{const n=new Map(t);return n.delete(e),n})},[])};return n.jsx(ws.Provider,{value:r,children:e})}function Cs(e,t=0,n=!0){const a=$.useContext(ws);if(!a)throw new Error("useDocumentTitle must be used within DocumentTitleProvider");const{setTitle:r,removeTitle:s}=a,i=$.useRef(`title-${Math.random().toString(36).slice(2)}`).current;$.useEffect(()=>(n?r(i,e,t):s(i),()=>{s(i)}),[e,t,n,i,r,s])}const Is=ze({email:$e().min(1,"  "),password:$e().min(5," 5 ")}),Ts=()=>{Cs("");const e=ma(),t=z(),[a]=sa(),{register:r,handleSubmit:s,setError:i,formState:{errors:o,isSubmitting:l}}=is({resolver:hs(Is),defaultValues:{email:"tester@example.com",password:"Tester123!"}}),c=Ie(ua),u={username:"email"};return $.useEffect(()=>{c&&t(pt)},[c,t]),n.jsxs("div",{className:gs,children:[n.jsx(yt,{width:200,height:100}),n.jsxs("form",{className:vs,onSubmit:s(async n=>{try{const r=await a({email:n.email,password:n.password}).unwrap();if(r.success){if(null==r.user)return void i("root",{type:"server",message:":   "});e(la(r.user)),t(pt)}else Ns({errors:r.errors??null,setError:i,knownFields:["email","password"],fieldMap:u,defaultMessage:"  "})}catch(r){!function(e,t,n,a,r){const s=e??{},{commonMessage:i}=Ns({errors:s.errors??null,setError:t,knownFields:n,fieldMap:a,defaultMessage:s.errorMessage??r})}(null==r?void 0:r.data,i,["email","password"],u," ")}}),children:[n.jsxs("div",{children:[n.jsx("input",{className:ys,placeholder:"Email",...r("email")}),o.email&&n.jsx("p",{className:"text-red-500 text-sm",children:o.email.message})]}),n.jsxs("div",{children:[n.jsx("input",{type:"password",className:bs,placeholder:"Password",...r("password")}),o.password&&n.jsx("p",{className:"text-red-500 text-sm",children:o.password.message})]}),n.jsx("button",{type:"submit",className:_s,disabled:l,children:l?"...":""}),n.jsx("div",{className:xs,children:o.root&&n.jsx("p",{className:"text-red-500 text-sm",children:o.root.message})})]})]})},Ms="_homePageContainer_wifmr_1",js={customFlow:"_customFlow_1vb57_1",flowControls:"_flowControls_1vb57_11"},Es="_coordinates_146un_1",As="_container_146un_5",Rs="_source_146un_35",Ds="_target_146un_43",Ls="_name_146un_53";function Ps(e,t=2,n=!1,a="ru-RU",r=""){if(null==e||!Number.isFinite(e))return r;const s=function(e,t=2,n=!1){if(!Number.isFinite(e))return NaN;const a=10**(Number.isInteger(t)&&t>=0?t:0),r=e*a+Number.EPSILON*(n?1:-1);return(n?Math.ceil(r):Math.floor(r))/a}(e,t,n);return s.toLocaleString(a,{maximumFractionDigits:t})}var Fs=(e=>(e.jumpStepNode="jumpStepNode",e.delayStepNode="delayStepNode",e.parallelStepNode="parallelStepNode",e.branchNode="branchNode",e.conditionStepNode="conditionStepNode",e.activitySystemNode="activitySystemNode",e.activityModbusNode="activityModbusNode",e.signalStepNode="signalStepNode",e))(Fs||{});const Os="_coordinates_ujtfl_1",qs="_container_ujtfl_5",zs="_source_ujtfl_37",$s="_target_ujtfl_45",Bs="_name_ujtfl_53";const Us="_coordinates_1olli_1",Qs="_container_1olli_5",Vs="_source_1olli_39",Hs="_target_1olli_47",Ws="_name_1olli_57",Ks="_connectTop_1olli_101",Gs="_connectLeftBottom_1olli_107",Ys="_connectRightBottom_1olli_119";const Zs="_coordinates_1utoq_1",Xs="_container_1utoq_5",Js="_source_1utoq_35",ei="_target_1utoq_43",ti="_name_1utoq_53",ni="_sourceTop_1utoq_79",ai="_sourceBottom_1utoq_87";const ri="_coordinates_kewpi_59",si="_container_kewpi_5",ii="_bg_kewpi_39",oi="_name_kewpi_61",li="_target_kewpi_79",ci=new Set;function ui(){return ci.size>0}const di={coordinates:"_coordinates_1s8u0_1",container:"_container_1s8u0_5",source:"_source_1s8u0_35",target:"_target_1s8u0_43",inputContainer:"_inputContainer_1s8u0_65"},fi="_wrap_19z2n_1",pi="_label_19z2n_9",mi="_inputRow_19z2n_21",hi="_input_19z2n_21",gi="_inputError_19z2n_87",vi="_msSuffix_19z2n_97",yi="_hints_19z2n_113",bi="_hintRow_19z2n_123",xi="_hintKey_19z2n_137",_i="_hintVal_19z2n_145",Si="_dim_19z2n_153",Ni="_error_19z2n_163",wi=1e3,ki=6e4,Ci=60*ki,Ii=24*Ci,Ti=7*Ii,Mi=31556952e3,ji=Math.floor(100*Mi),Ei=30*Ii,Ai=(e,t,n)=>Math.max(t,Math.min(n,e));function Ri(e){const t=(e??"").trim();if(!t)return NaN;if(/^[+-]?\d+(\.\d+)?$/.test(t)){const e=Number(t);return Number.isFinite(e)?e:NaN}const n=t.toLowerCase().replace(",",".");{const e=/^\s*(\d+):([0-5]?\d)(?::([0-5]?\d)(?:\.(\d{1,3}))?)?\s*$/,t=n.match(e);if(t){const e=Number(t[1]??0),n=Number(t[2]??0),a=Number(t[3]??0),r=Number((t[4]??"0").padEnd(3,"0"));return e*Ci+n*ki+a*wi+r}}{const e=/([+-]?\d+(?:\.\d+)?)(y|w|d|h|m|s|ms)\b/g;let t,a=0,r=!1;for(;null!==(t=e.exec(n));){r=!0;const e=Number(t[1]),n=t[2];if(!Number.isFinite(e))return NaN;switch(n){case"y":a+=e*Mi;break;case"w":a+=e*Ti;break;case"d":a+=e*Ii;break;case"h":a+=e*Ci;break;case"m":a+=e*ki;break;case"s":a+=e*wi;break;case"ms":a+=e}}if(r)return Math.round(a)}{const e=/^p(?:(\d+(?:\.\d+)?)y)?(?:(\d+(?:\.\d+)?)m)?(?:(\d+(?:\.\d+)?)w)?(?:(\d+(?:\.\d+)?)d)?(?:t(?:(\d+(?:\.\d+)?)h)?(?:(\d+(?:\.\d+)?)m)?(?:(\d+(?:\.\d+)?)s)?)?$/i,t=n.match(e);if(t){const[,e,n,a,r,s,i,o]=t,l=Number(e??0),c=Number(n??0),u=Number(a??0),d=Number(r??0),f=Number(s??0),p=Number(i??0),m=Number(o??0);return[l,c,u,d,f,p,m].some(e=>!Number.isFinite(e))?NaN:Math.round(l*Mi+c*Ei+u*Ti+d*Ii+f*Ci+p*ki+m*wi)}}return NaN}function Di(e){if("number"!=typeof(t=e)||!Number.isFinite(t))return"";var t;if(0===e)return"0ms";const n=e<0?"-":"";let a=Math.abs(e);const r=Math.floor(a/Mi);a-=r*Mi;const s=Math.floor(a/Ii);a-=s*Ii;const i=Math.floor(a/Ci);a-=i*Ci;const o=Math.floor(a/ki);a-=o*ki;const l=Math.floor(a/wi);a-=l*wi;const c=Math.floor(a),u=[];return r&&u.push(`${r}y`),s&&u.push(`${s}d`),i&&u.push(`${i}h`),o&&u.push(`${o}m`),l&&u.push(`${l}s`),c&&0===u.length&&u.push(`${c}ms`),c&&u.length>0&&u.push(`${c}ms`),n+u.join(" ")}function Li({value:e,onChange:t,placeholder:a=".: 1y 2w 3d 4h 5m 6s 7ms  01:02:03.250  PT1H2M  1500",minMs:r=0,maxMs:s=ji,disabled:i,id:o,className:l,normalizeOnBlur:c=!0}){const[u,d]=$.useState(()=>{const t=(e??"").toString(),n=Ri(t);return Number.isFinite(n)?String(Ai(n,r,s)):t}),[f,p]=$.useState(null),m=$.useRef(null);$.useEffect(()=>{if("string"!=typeof e)return;const t=Ri(e);if(Number.isFinite(t)){const e=String(Ai(t,r,s));m.current=t,d(e),p(null)}else d(e)},[e,r,s]);const h=$.useMemo(()=>{const e=Ri(u),t=Number.isFinite(e);return{ms:e,valid:t,clamped:t?Ai(e,r,s):NaN}},[u,r,s]),g=$.useMemo(()=>Number.isFinite(h.ms)?Di(h.ms):"",[h.ms]),v=o??"delay-time-input";return n.jsxs("div",{className:`${fi} ${l??""}`,children:[n.jsx("label",{className:pi,htmlFor:v,children:" "}),n.jsx("div",{className:yi,children:f?n.jsx("div",{id:`${v}-err`,className:Ni,children:f}):n.jsxs(n.Fragment,{children:[Number.isFinite(h.ms)&&n.jsxs("div",{className:bi,children:[n.jsx("span",{className:xi,children:""}),n.jsx("span",{className:_i,children:g})]}),!Number.isFinite(h.ms)&&n.jsxs("div",{className:Si,children:[": ",n.jsx("code",{children:"1y 2w 3d"}),", ",n.jsx("code",{children:"4h 5m"}),", ",n.jsx("code",{children:"6s"}),", ",n.jsx("code",{children:"7ms"}),", ",n.jsx("code",{children:"01:02:03.250"}),", ",n.jsx("code",{children:"PT1H2M"}),", ",n.jsx("code",{children:"1500"})]})]})}),n.jsxs("div",{className:mi,children:[n.jsx("input",{id:v,type:"text",inputMode:"text",className:`${hi} ${f?gi:""}`,disabled:i,placeholder:a,value:u,onChange:e=>{const t=e.target.value;d(t);const n=Ri(t);Number.isFinite(n)&&n>=r&&n<=s&&p(null)},onBlur:()=>{(()=>{if(!h.valid)return p(" . : 1y 2w 3d, 4h 5m, 6s, 7ms, 01:02:03.250, PT1H2M, 1500"),void(null!==m.current&&d(String(m.current)));if(h.ms<r||h.ms>s)return void p(`: ${r}${s} `);p(null),m.current=h.ms;const e=String(h.ms);t(e),c&&d(e)})()},onKeyDown:t=>{"Enter"===t.key?(t.preventDefault(),t.target.blur()):"Escape"===t.key&&(d(e??""),p(null),t.target.blur())},onWheel:e=>{if(i)return;if(!Number.isFinite(h.ms))return;const n=e.deltaY>0?-1:1,a=Math.max(1,Math.min(Ii,Math.pow(10,Math.floor(Math.log10(Math.max(h.ms,1)))-2))),o=Ai(h.ms+n*a,r,s);d(String(o)),p(null),m.current=o,t(String(o))},"aria-invalid":!!f,"aria-describedby":f?`${v}-err`:void 0}),n.jsx("span",{className:vi,children:"ms"})]})]})}const Pi="_coordinates_11ttf_1",Fi="_container_11ttf_5",Oi="_source_11ttf_45",qi="_target_11ttf_53",zi="_text_11ttf_65",$i="_textIf_11ttf_75",Bi="_name_11ttf_83",Ui="_sourceBottom_11ttf_99",Qi="_sourceTop_11ttf_111";const Vi={coordinates:"_coordinates_1d58g_1",container:"_container_1d58g_5",source:"_source_1d58g_37",target:"_target_1d58g_45",name:"_name_1d58g_55"};const Hi={activitySystemNode:function({data:e,selected:t}){var a,i;const o=null==(a=null==e?void 0:e.connectContext)?void 0:a.from.handleType,l=(null==(i=null==e?void 0:e.connectContext)?void 0:i.from.type)!=Fs.branchNode;return n.jsxs("div",{className:qs,"aria-selected":t,children:[n.jsxs("span",{className:Os,children:[n.jsxs("span",{children:["x:",Ps(e.x,2,!0)]}),n.jsxs("span",{children:["y:",Ps(e.y,2,!0)]})]}),n.jsx("span",{className:Bs,children:"System"}),n.jsx(r,{className:`${$s}`,"aria-selected":"source"===o,id:"t1",type:"target",position:s.Left},"t1"),n.jsx(r,{className:`${zs}`,"aria-selected":"target"===o&&l,id:"s1",type:"source",position:s.Right},"s1")]})},activityModbusNode:function({data:e,selected:t}){var a,i;const o=null==(a=null==e?void 0:e.connectContext)?void 0:a.from.handleType,l=(null==(i=null==e?void 0:e.connectContext)?void 0:i.from.type)!=Fs.branchNode;return n.jsxs("div",{className:As,"aria-selected":t,children:[n.jsxs("span",{className:Es,children:[n.jsxs("span",{children:["x:",Ps(e.x,2,!0)]}),n.jsxs("span",{children:["y:",Ps(e.y,2,!0)]})]}),n.jsx("span",{className:Ls,children:"Modbus"}),n.jsx(r,{className:`${Ds}`,"aria-selected":"source"===o,id:"t1",type:"target",position:s.Left},"t1"),n.jsx(r,{className:`${Rs}`,"aria-selected":"target"===o&&l,id:"s1",type:"source",position:s.Right},"s1")]})},jumpStepNode:function({data:e,selected:t}){var a,i;const o=null==(a=null==e?void 0:e.connectContext)?void 0:a.from.handleType,l=(null==(i=null==e?void 0:e.connectContext)?void 0:i.from.type)!=Fs.branchNode;return n.jsxs("div",{className:Qs,"aria-selected":t,children:[n.jsxs("span",{className:Us,children:[n.jsxs("span",{children:["x:",Ps(e.x,2,!0)]}),n.jsxs("span",{children:["y:",Ps(e.y,2,!0)]})]}),n.jsx("span",{className:Ws,children:""}),n.jsx(r,{className:`${Hs} ${Ks}`,"aria-selected":"source"===o,id:"t1",type:"target",position:s.Left},"t1"),n.jsx(r,{className:`${Vs} ${Ys}`,"aria-selected":"target"===o&&l,id:"s1",type:"source",position:s.Left},"s1"),n.jsx(r,{className:`${Vs} ${Ks}`,"aria-selected":"target"===o&&l,id:"s2",type:"source",position:s.Right},"s2"),n.jsx(r,{className:`${Hs} ${Gs}`,"aria-selected":"source"===o,id:"t2",type:"target",position:s.Right},"t2")]})},parallelStepNode:function({data:e,selected:t}){var a;const i=null==(a=null==e?void 0:e.connectContext)?void 0:a.from.handleType;return n.jsxs("div",{className:`${Xs}`,"aria-selected":t,children:[n.jsxs("span",{className:Zs,children:[n.jsxs("span",{children:["x:",Ps(e.x,2,!0)]}),n.jsxs("span",{children:["y:",Ps(e.y,2,!0)]})]}),n.jsx("span",{className:ti,children:""}),n.jsx(r,{className:`${ei}`,"aria-selected":"source"===i,id:"t1",type:"target",position:s.Left},"t1"),n.jsx(r,{className:`${Js} ${ni}`,"aria-selected":"target"===i,id:"s1",type:"source",position:s.Right},"s1"),n.jsx(r,{className:`${Js}`,"aria-selected":"target"===i,id:"s2",type:"source",position:s.Right},"s2"),n.jsx(r,{className:`${Js} ${ai}`,"aria-selected":"target"===i,id:"s3",type:"source",position:s.Right},"s3")]})},branchNode:function({id:e,data:t,selected:a}){var o,l;const c=null==(o=null==t?void 0:t.connectContext)?void 0:o.from.handleType,u=null==(l=null==t?void 0:t.connectContext)?void 0:l.from.type,d=u!=Fs.branchNode&&u==Fs.conditionStepNode||u!=Fs.branchNode&&u==Fs.parallelStepNode;return n.jsxs("div",{className:si,"aria-selected":a,children:[n.jsx("div",{className:ii}),n.jsx(i,{isVisible:a,onResizeStart:()=>function(e){ci.add(e)}(e),onResizeEnd:()=>function(e){ci.delete(e)}(e)}),n.jsxs("span",{className:ri,children:[n.jsxs("span",{children:["x:",Ps(t.x,2,!0)]}),n.jsxs("span",{children:["y:",Ps(t.y,2,!0)]})]}),n.jsx("span",{className:oi,children:""}),n.jsx(r,{className:li,"aria-selected":"source"===c&&d,id:"t1",type:"target",position:s.Left},"t1")]})},delayStepNode:function({data:e,selected:t}){var a,i;const o=null==(a=null==e?void 0:e.connectContext)?void 0:a.from.handleType,l=(null==(i=null==e?void 0:e.connectContext)?void 0:i.from.type)!=Fs.branchNode,c=e.object;return n.jsxs("div",{className:di.container,"aria-selected":t,children:[n.jsxs("span",{className:di.coordinates,children:[n.jsxs("span",{children:["x:",Ps(e.x,2,!0)]}),n.jsxs("span",{children:["y:",Ps(e.y,2,!0)]})]}),n.jsx("div",{className:di.inputContainer,children:n.jsx("div",{className:`${di.form__group} ${di.field}`,children:n.jsx(Li,{value:c.timeSpan,onChange:e=>{},minMs:0,maxMs:Number.MAX_SAFE_INTEGER})})}),n.jsx(r,{className:`${di.target}`,"aria-selected":"source"===o,id:"t1",type:"target",position:s.Left},"t1"),n.jsx(r,{className:`${di.source}`,"aria-selected":"target"===o&&l,id:"s1",type:"source",position:s.Right},"s1")]})},conditionStepNode:function({data:e,selected:t}){var a;const i=null==(a=null==e?void 0:e.connectContext)?void 0:a.from.handleType;return n.jsxs("div",{className:Fi,"aria-selected":t,children:[n.jsxs("span",{className:Pi,children:[n.jsxs("span",{children:["x:",Ps(e.x,2,!0)]}),n.jsxs("span",{children:["y:",Ps(e.y,2,!0)]})]}),n.jsx("span",{className:Bi,children:""}),n.jsxs("span",{className:zi,children:[n.jsx("span",{className:$i,children:"If "}),"value"]}),n.jsx(r,{className:`${qi}`,"aria-selected":"source"===i,id:"t1",type:"target",position:s.Left},"t1"),n.jsx(r,{className:`${Oi} ${Qi}`,"aria-selected":"target"===i,id:"s1",type:"source",position:s.Right},"s1"),n.jsx(r,{className:`${Oi}`,"aria-selected":"target"===i,id:"s2",type:"source",position:s.Right},"s2"),n.jsx(r,{className:`${Oi} ${Ui}`,"aria-selected":"target"===i,id:"s3",type:"source",position:s.Right},"s3")]})},signalStepNode:function({data:e,selected:t}){var a;const i=null==(a=null==e?void 0:e.connectContext)?void 0:a.from.handleType;return n.jsxs("div",{className:`${Vi.container}`,"aria-selected":t,children:[n.jsxs("span",{className:Vi.coordinates,children:[n.jsxs("span",{children:["x:",Ps(e.x,2,!0)]}),n.jsxs("span",{children:["y:",Ps(e.y,2,!0)]})]}),n.jsx("span",{className:Vi.name,children:""}),n.jsx(r,{className:`${Vi.target}`,"aria-selected":"source"===i,id:"t1",type:"target",position:s.Left},"t1"),n.jsx(r,{className:`${Vi.source} ${Vi.sourceTop}`,"aria-selected":"target"===i,id:"s1",type:"source",position:s.Right},"s1")]})}},Wi="_container_1spkk_5",Ki="_btn_1spkk_21",Gi="_activityModbusBtnAdd_1spkk_57",Yi="_activitySystemBtnAdd_1spkk_65",Zi="_branchBtnAdd_1spkk_73",Xi="_conditionBtnAdd_1spkk_81",Ji="_jumpBtnAdd_1spkk_89",eo="_parallelBtnAdd_1spkk_97",to="_delayBtnAdd_1spkk_105",no="_signalBtnAdd_1spkk_113",ao=e=>e.getNodes(),ro=(e,t)=>t?e.find(e=>e.id===t):void 0,so=(e,t)=>{let n=e.position.x,a=e.position.y,r=ro(t,e.parentId);for(;r;)n+=r.position.x,a+=r.position.y,r=ro(t,r.parentId);return{x:n,y:a}},io=e=>"number"==typeof e&&Number.isFinite(e)?e:void 0,oo=(e,t)=>{var n,a;const{x:r,y:s}=so(e,t);let i=io(e.width)??io(null==(n=e.style)?void 0:n.width),o=io(e.height)??io(null==(a=e.style)?void 0:a.height);if((i??0)<=0||(o??0)<=0){if(e.type===Fs.branchNode)throw new Error(`Branch '${e.id}' has no numeric width/height at hit-test time`);i=i??0,o=o??0}return{x:r,y:s,w:i,h:o}},lo=(e,t)=>{let n=0,a=ro(t,e.parentId);for(;a;)n++,a=ro(t,a.parentId);return n},co=(e,t,n)=>e.filter(e=>e.type===Fs.branchNode&&e.id!==n).filter(n=>{const a=oo(n,e);return 0!==a.w&&0!==a.h&&((e,t)=>e.x>=t.x&&e.y>=t.y&&e.x<=t.x+t.w&&e.y<=t.y+t.h)(t,a)}).sort((t,n)=>lo(n,e)-lo(t,e))[0];function uo(e,t,n){const a=[...e],r=a.findIndex(e=>e.id===t),s=a.findIndex(e=>e.id===n);if(-1===r||-1===s)return a;if(s<=r){const[e]=a.splice(s,1);if(null==e)throw new Error(`No parent child with id ${n}`);const r=a.findIndex(e=>e.id===t);a.splice(r+1,0,e)}return a}var fo=(e=>(e.SystemActivity="SystemActivity",e.ModbusActivity="ModbusActivity",e.Delay="Delay",e.Condition="Condition",e.Parallel="Parallel",e.Signal="Signal",e.Jump="Jump",e))(fo||{});const po=(e,t)=>({id:t.id??crypto.randomUUID(),type:e,branchId:t.branchId,name:t.name??"",taskQueue:t.taskQueue??"",defaultInput:t.defaultInput??null,defaultOutput:t.defaultOutput??null,x:t.x??0,y:t.y??0,width:t.width??0,height:t.height??0,childRelations:t.childRelations??[],parentRelations:t.parentRelations??[]}),mo={[Fs.jumpStepNode]:fo.Jump,[Fs.delayStepNode]:fo.Delay,[Fs.parallelStepNode]:fo.Parallel,[Fs.conditionStepNode]:fo.Condition,[Fs.activitySystemNode]:fo.SystemActivity,[Fs.activityModbusNode]:fo.ModbusActivity,[Fs.signalStepNode]:fo.Signal},ho={create:e=>({...po(mo[Fs.activityModbusNode],e),sessionId:e.sessionId??"",connectionConfigId:e.connectionConfigId??"",modbusDeviceActionId:e.modbusDeviceActionId??"",modbusDeviceAction:e.modbusDeviceAction??null,modbusDeviceAddressId:e.modbusDeviceAddressId??"",modbusDeviceAddress:e.modbusDeviceAddress??null})},go={create:e=>({...po(mo[Fs.activitySystemNode],e),systemActionId:e.systemActionId??"",systemAction:e.systemAction??null})},vo={create:e=>({...po(mo[Fs.delayStepNode],e),timeSpan:e.timeSpan??"PT0S"})},yo={create:e=>({...po(mo[Fs.signalStepNode],e),awaitSignalStepType:e.awaitSignalStepType,sendSignalStepType:e.sendSignalStepType,signalKey:e.signalKey??"",sendSignalData:e.sendSignalData??""})},bo={create:e=>({...po(mo[Fs.jumpStepNode],e),jumpToStepId:e.jumpToStepId??""})},xo={create:e=>({...po(mo[Fs.parallelStepNode],e),stepBranchRelations:e.stepBranchRelations??[]})},_o={create:e=>({...po(mo[Fs.conditionStepNode],e),stepBranchRelations:e.stepBranchRelations??[]})},So=()=>{var e;if("function"==typeof(null==(e=globalThis.crypto)?void 0:e.randomUUID))return globalThis.crypto.randomUUID().toLowerCase();const t=globalThis.crypto??globalThis.msCrypto;if(t&&"function"==typeof t.getRandomValues){const e=new Uint8Array(16);t.getRandomValues(e);const n=e[6],a=e[8];e[6]=15&n|64,e[8]=63&a|128;const r=e=>e.toString(16).padStart(2,"0"),s=Array.from(e,r).join("");return`${s.slice(0,8)}-${s.slice(8,12)}-${s.slice(12,16)}-${s.slice(16,20)}-${s.slice(20)}`.toLowerCase()}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}).toLowerCase()},No=So,wo={create:e=>({id:e.id??No(),scenarioId:e.scenarioId,name:e.name??" ",description:e.description??"",waitForCompletion:e.waitForCompletion??!1,parallelStepId:e.parallelStepId??null,conditionStepId:e.conditionStepId??null,conditionExpression:e.conditionExpression??null,conditionOrder:e.conditionOrder??0,steps:e.steps??[],x:e.x??0,y:e.y??0,width:e.width??70,height:e.height??21}),toFlowNode:e=>({id:e.id,type:Fs.branchNode,position:{x:e.x??0,y:e.y??0},data:{object:e,x:e.x??0,y:e.y??0},style:{width:e.width,height:e.height},draggable:!0,selectable:!0})},ko=zn({reducerPath:"scenarioApi",baseQuery:na(),tagTypes:["Scenario","ScenarioList"],endpoints:e=>({getAllScenarios:e.query({query:e=>({url:aa.SCENARIO.ALL,method:"get",params:e}),providesTags:e=>e?[...e.map(e=>({type:"Scenario",id:e.id})),{type:"ScenarioList",id:"ALL"}]:[{type:"ScenarioList",id:"ALL"}]}),getScenarioById:e.query({query:({id:e,query:t})=>({url:aa.SCENARIO.BY_ID(e),method:"get",params:t}),providesTags:e=>e?[{type:"Scenario",id:e.id}]:[]}),addScenario:e.mutation({query:e=>({url:aa.SCENARIO.CREATE,method:"post",data:e}),async onQueryStarted(e,{dispatch:t,queryFulfilled:n,getState:a}){try{const{data:e}=await n,r=ko.util.selectCachedArgsForQuery(a(),"getAllScenarios");for(const n of r)t(ko.util.updateQueryData("getAllScenarios",n,t=>{t.some(t=>t.id===e.id)||t.push(e)}));t(ko.util.upsertQueryData("getScenarioById",{id:e.id,query:void 0},e))}catch{}}}),updateScenario:e.mutation({query:e=>({url:aa.SCENARIO.UPDATE(e.id),method:"put",data:e}),async onQueryStarted(e,{dispatch:t,queryFulfilled:n,getState:a}){try{const{data:e}=await n,r=ko.util.selectCachedArgsForQuery(a(),"getAllScenarios");for(const n of r)t(ko.util.updateQueryData("getAllScenarios",n,t=>{const n=t.findIndex(t=>t.id===e.id);-1!==n&&(t[n]=e)}));t(ko.util.upsertQueryData("getScenarioById",{id:e.id,query:void 0},e))}catch{}}}),deleteScenario:e.mutation({query:({id:e})=>({url:aa.SCENARIO.DELETE(e),method:"delete"}),async onQueryStarted({id:e},{dispatch:t,queryFulfilled:n,getState:a}){try{const{data:r}=await n;if(!r)return;const s=ko.util.selectCachedArgsForQuery(a(),"getAllScenarios");for(const n of s)t(ko.util.updateQueryData("getAllScenarios",n,t=>{const n=t.findIndex(t=>t.id===e);-1!==n&&t.splice(n,1)}))}catch{}}}),applyScenarioChanges:e.mutation({query:({scenarioId:e,operations:t})=>({url:aa.SCENARIO.CHANGE(e),method:"post",data:{scenarioId:e,operations:t}})})})}),Co=e=>e&&"object"==typeof e&&"message"in e?String(e.message):"Request failed";var Io,To=(e=>(e[e.None=0]="None",e[e.LoadRecursiveSteps=1]="LoadRecursiveSteps",e))(To||{}),Mo={};const jo=q(function(){if(Io)return Mo;var e;Io=1,Mo.__esModule=!0,Mo.default=void 0;var t=(0,((e=It())&&e.__esModule?e:{default:e}).default)("session");return Mo.default=t,Mo}());var Eo=(e=>(e.None="none",e.Loading="loading",e.Full="full",e.Error="error",e))(Eo||{});const Ao=(e=!0)=>async t=>{try{const n=await t(ko.endpoints.getAllScenarios.initiate(void 0,{forceRefetch:e,subscribe:!1})).unwrap();return t(Do.actions.replaceScenarios(n??[])),n??[]}catch(n){const e=Co(n);throw t(Do.actions.setErrorLoadList(e)),new Error(e)}},Ro=(e,t=!1)=>async(n,a)=>{try{if(!t){const t=a().scenario.entities[e];if("full"===(null==t?void 0:t.loadState))return t.scenario}n(Do.actions.markScenarioLoading(e));const r={id:e,query:{scenarioLoadOption:To.LoadRecursiveSteps}},s=await n(ko.endpoints.getScenarioById.initiate(r,{forceRefetch:!0,subscribe:!1})).unwrap();return s&&n(Do.actions.upsertScenario(s)),s}catch(r){const t=Co(r);throw n(Do.actions.setErrorLoadList(t)),n(Do.actions.setScenarioError({id:e,error:t})),new Error(t)}},Do=oe({name:"scenarios",initialState:{ids:[],entities:{},errorLoadList:null,activeScenarioId:null,lastFetchedAt:null,pendingChanges:{}},reducers:{setActiveScenarioId(e,t){e.activeScenarioId=t.payload},setErrorLoadList(e,t){e.errorLoadList=t.payload??null},clearScenarios(e){e.ids=[],e.entities={},e.activeScenarioId=null,e.lastFetchedAt=null,e.errorLoadList=null},removeScenarioLocal(e,t){e.activeScenarioId===t.payload&&(e.activeScenarioId=null)},markScenarioLoading(e,t){const n=t.payload,a=e.entities[n];a&&(e.entities[n]={...a,loadState:"loading",error:null})},setScenarioError(e,t){const{id:n,error:a}=t.payload,r=e.entities[n];r&&(e.entities[n]={...r,loadState:"error",error:a})},replaceScenarios(e,t){const n=Date.now(),a=t.payload??[];e.ids=a.map(e=>e.id),e.entities={};for(const r of a)e.entities[r.id]={scenario:r,loadState:"none",lastFetchedAt:n,error:null};e.lastFetchedAt=n},upsertScenario(e,t){const n=t.payload,a=n.id,r=Date.now();e.ids.includes(a)||e.ids.push(a),e.entities[a]={scenario:n,loadState:"full",lastFetchedAt:r,error:null}},enqueuePendingChange(e,t){const{scenarioId:n,op:a}=t.payload;e.pendingChanges[n]||(e.pendingChanges[n]=[]),e.pendingChanges[n].push(a)},clearPendingChanges(e,t){const n=t.payload;e.pendingChanges[n]=[]}},extraReducers:()=>{}}),Lo=e=>e.scenario.activeScenarioId,Po=re([e=>e.scenario.ids,e=>e.scenario.entities],(e,t)=>e.map(e=>t[e]).filter(Boolean)),Fo=e=>e.scenario.errorLoadList,{setActiveScenarioId:Oo,clearScenarios:qo,removeScenarioLocal:zo,setErrorLoadList:$o,replaceScenarios:Bo,upsertScenario:Uo,markScenarioLoading:Qo,setScenarioError:Vo,enqueuePendingChange:Ho,clearPendingChanges:Wo}=Do.actions,Ko=je({key:"scenario",storage:jo,whitelist:[]},Do.reducer);var Go=(e=>(e.Create="Create",e.Update="Update",e.Delete="Delete",e))(Go||{});class Yo{constructor(e){t(this,"scenarioId"),this.scenarioId=e}log(e,t){}create(e){this.log("create",e)}update(e){this.log("update",e)}delete(e){this.log("delete",e)}handle(e){switch(e.action){case Go.Create:this.create(e);break;case Go.Update:this.update(e);break;case Go.Delete:this.delete(e);break;default:this.log("unknown",e)}}}var Zo=(e=>(e.Step="Step",e.StepRelation="StepRelation",e.ConditionStepBranchRelation="ConditionStepBranchRelation",e.ParallelStepBranchRelation="ParallelStepBranchRelation",e.Branch="Branch",e))(Zo||{});const Xo=new Set([Fs.activityModbusNode,Fs.activitySystemNode,Fs.delayStepNode,Fs.signalStepNode,Fs.jumpStepNode,Fs.parallelStepNode,Fs.conditionStepNode]),Jo=()=>{const e=o(),t=Ie(Lo),a=$.useMemo(()=>t?new Yo(t):null,[t]),r=()=>{var e;return(null==(e=null==crypto?void 0:crypto.randomUUID)?void 0:e.call(crypto))??Math.random().toString(36).slice(2)},s=$.useRef(null),i=t=>{var n,a;s.current!==t&&(s.current=t,n=e.setNodes,a=t,n(e=>e.map(e=>e.type===Fs.branchNode?{...e,data:{...e.data,isDropTarget:null!=a&&e.id===a}}:e)))},l=t=>n=>{n.preventDefault();const s=crypto.randomUUID(),o=n=>{const a=e.screenToFlowPosition({x:n.clientX,y:n.clientY}),r=ao(e),o=co(r,a,s);i((null==o?void 0:o.id)??null),e.setNodes(e=>{if(e.find(e=>e.id===s))return e.map(e=>e.id===s?{...e,position:a,data:{...e.data}}:e);const n=function(e,t){switch(e){case Fs.activityModbusNode:return ho.create(t);case Fs.activitySystemNode:return go.create(t);case Fs.delayStepNode:return vo.create(t);case Fs.signalStepNode:return yo.create(t);case Fs.jumpStepNode:return bo.create(t);case Fs.parallelStepNode:return xo.create(t);case Fs.conditionStepNode:return _o.create(t);case Fs.branchNode:return wo.create(t);default:throw new Error(`FlowType ${e}    (  )`)}}(t,{id:s}),r={id:s,type:t,position:a,data:{object:n,x:0,y:0,__persisted:!1},draggable:!0,selectable:!0,...t===Fs.branchNode?{style:{width:300,height:100}}:{}};return e.concat(r)})},l=n=>{window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",l);const c=e.screenToFlowPosition({x:n.clientX,y:n.clientY}),u=ao(e),d=co(u,c,s);if(i(null),d&&(((e,t,n,a,r)=>{const s=oo(n,t),i=r.x-s.x,o=r.y-s.y;e(e=>{let t=e.map(e=>e.id===a?{...e,parentId:n.id,position:{x:i,y:o},extent:"parent",expandParent:!0}:e);t=uo(t,n.id,a);const r=t.find(e=>e.id===a),l=(null==r?void 0:r.width)??0,c=(null==r?void 0:r.height)??0;if(0===l||0===c)return t;const u=Math.max(s.w,i+l+12),d=Math.max(s.h,o+c+12);return t.map(e=>e.id===n.id?{...e,style:{...e.style??{},width:u,height:d}}:e)})})(e.setNodes,u,d,s,c),e.setNodes(e=>e.map(e=>e.id===s?{...e,data:{...e.data,__persisted:!0}}:e)),a)){if(t===Fs.branchNode){const e=300,t=100,n={opId:r(),entity:Zo.Branch,action:Go.Create,payload:{id:s,x:c.x,y:c.y,width:e,height:t}};return void a.create(n)}if(Xo.has(t)){const e={opId:r(),entity:Zo.Step,action:Go.Create,payload:{id:s,branchId:d.id,x:c.x,y:c.y}};a.create(e)}}};window.addEventListener("mousemove",o),window.addEventListener("mouseup",l)};return n.jsxs("div",{className:Wi,children:[n.jsx("div",{onMouseDown:l(Fs.activityModbusNode),className:`${Gi} ${Ki}`,children:"  modbus ."}),n.jsx("div",{onMouseDown:l(Fs.activitySystemNode),className:`${Yi} ${Ki}`,children:" "}),n.jsxs("div",{onMouseDown:l(Fs.branchNode),className:`${Zi} ${Ki}`,children:[n.jsx("span",{children:""})," "]}),n.jsx("div",{onMouseDown:l(Fs.parallelStepNode),className:`${eo} ${Ki}`,children:". "}),n.jsx("div",{onMouseDown:l(Fs.conditionStepNode),className:`${Xi} ${Ki}`,children:""}),n.jsx("div",{onMouseDown:l(Fs.delayStepNode),className:`${to} ${Ki}`,children:" "}),n.jsx("div",{onMouseDown:l(Fs.jumpStepNode),className:`${Ji} ${Ki}`,children:""}),n.jsx("div",{onMouseDown:l(Fs.signalStepNode),className:`${no} ${Ki}`,children:""})]})},el={panel:"_panel_15xog_3",header:"_header_15xog_29",search:"_search_15xog_51",actions:"_actions_15xog_85",scenarioItem:"_scenarioItem_15xog_139",itemActive:"_itemActive_15xog_173",itemTitle:"_itemTitle_15xog_193"},tl=zn({reducerPath:"workflowApi",baseQuery:na(),tagTypes:["Workflow"],endpoints:e=>({runScenario:e.mutation({query:({id:e})=>({url:aa.WORKFLOW.RUN(e),method:"get",params:{id:e}}),invalidatesTags:(e,t,n)=>[{type:"Workflow",id:n.id}]}),pauseScenario:e.mutation({query:e=>({url:aa.WORKFLOW.SCENARIO_PAUSE,method:"post",data:e}),invalidatesTags:(e,t,n)=>[{type:"Workflow",id:n.scenarioId}]}),resumeScenario:e.mutation({query:e=>({url:aa.WORKFLOW.SCENARIO_RESUME,method:"post",data:e}),invalidatesTags:(e,t,n)=>[{type:"Workflow",id:n.scenarioId}]}),stopScenario:e.mutation({query:e=>({url:aa.WORKFLOW.SCENARIO_STOP,method:"post",data:e}),invalidatesTags:(e,t,n)=>[{type:"Workflow",id:n.scenarioId}]}),pauseBranch:e.mutation({query:e=>({url:aa.WORKFLOW.BRANCH_PAUSE,method:"post",data:e}),invalidatesTags:(e,t,n)=>[{type:"Workflow",id:`${n.scenarioId}:${n.branchId}`}]}),resumeBranch:e.mutation({query:e=>({url:aa.WORKFLOW.BRANCH_RESUME,method:"post",data:e}),invalidatesTags:(e,t,n)=>[{type:"Workflow",id:`${n.scenarioId}:${n.branchId}`}]}),stopBranch:e.mutation({query:e=>({url:aa.WORKFLOW.BRANCH_STOP,method:"post",data:e}),invalidatesTags:(e,t,n)=>[{type:"Workflow",id:`${n.scenarioId}:${n.branchId}`}]})})}),{useRunScenarioMutation:nl,usePauseScenarioMutation:al,useResumeScenarioMutation:rl,useStopScenarioMutation:sl}=tl,il=oe({name:"workflow",initialState:{runningScenarios:[]},reducers:{setRunningScenarios(e,t){e.runningScenarios=t.payload??[]},addRunningScenario(e,t){const n=t.payload,a=e.runningScenarios.findIndex(e=>e.scenarioId===n.scenarioId);a>=0?e.runningScenarios[a]=n:e.runningScenarios.push(n)},removeRunningScenario(e,t){const{scenarioId:n}=t.payload;e.runningScenarios=e.runningScenarios.filter(e=>e.scenarioId!==n)}},extraReducers:e=>{}}),{setRunningScenarios:ol,addRunningScenario:ll,removeRunningScenario:cl}=il.actions,ul=je({key:"workflow",storage:jo},il.reducer),dl={wrap:"_wrap_k4eo7_3",trigger:"_trigger_k4eo7_21",chev:"_chev_k4eo7_49",menu:"_menu_k4eo7_55",bottom:"_bottom_k4eo7_111",top:"_top_k4eo7_113",item:"_item_k4eo7_119"};function fl({label:e="",placement:t="bottom",onAction:a,className:r=""}){const s=$.useRef(null),i=$.useRef(null),[o,l]=$.useState(!1);$.useEffect(()=>{const e=s.current;if(!e)return;const t=()=>l(e.open);return e.addEventListener("toggle",t),()=>e.removeEventListener("toggle",t)},[]),$.useEffect(()=>{if(!o)return;const e=e=>{const t=s.current;t&&!t.contains(e.target)&&(t.removeAttribute("open"),l(!1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[o]);const c=e=>()=>{var t;null==a||a(e),null==(t=s.current)||t.removeAttribute("open"),l(!1)},u=$.useCallback(()=>{const e=s.current,t=i.current;if(!e||!t)return;t.style.setProperty("--menu-shift-x","0px");const n=e.getBoundingClientRect().left,a=t.getBoundingClientRect(),r=window.innerWidth,o=a.right+8-r;let l=0;if(o>0){const e=Math.max(0,n-8);l=Math.min(o,e)}t.style.setProperty("--menu-shift-x",`${Math.round(l)}px`)},[]);return $.useEffect(()=>{if(!o)return;const e=requestAnimationFrame(u),t=()=>u();return window.addEventListener("resize",t,{passive:!0}),window.addEventListener("scroll",t,{passive:!0}),()=>{cancelAnimationFrame(e),window.removeEventListener("resize",t),window.removeEventListener("scroll",t)}},[o,u]),n.jsxs("details",{ref:s,className:[dl.wrap,"top"===t?dl.top:dl.bottom,r].join(" "),onKeyDown:e=>{var t;"Escape"===e.key&&o&&(e.preventDefault(),null==(t=s.current)||t.removeAttribute("open"),l(!1))},children:[n.jsxs("summary",{className:dl.trigger,"aria-haspopup":"menu","aria-expanded":o,children:[e,n.jsx("span",{className:dl.chev,"aria-hidden":!0,children:""})]}),n.jsxs("div",{ref:i,className:dl.menu,role:"menu",children:[n.jsx("button",{className:dl.item,role:"menuitem",onClick:c("play"),children:""}),n.jsx("button",{className:dl.item,role:"menuitem",onClick:c("pause"),children:""}),n.jsx("button",{className:dl.item,role:"menuitem",onClick:c("resume"),children:""}),n.jsx("button",{className:dl.item,role:"menuitem",onClick:c("cancel"),children:""}),n.jsx("button",{className:dl.item,role:"menuitem",onClick:c("terminated"),children:" "})]})]})}function pl(){const e=Te(),[t,a]=$.useState(""),[r,s]=$.useState(!1),i=Ie(Fo),o=Ie(Lo),u=Ie(Po),d=$.useMemo(()=>{const e=u.map(e=>e.scenario);if(!t.trim())return e;const n=t.trim().toLowerCase();return e.filter(e=>(e.name??"").toLowerCase().includes(n)||(e.description??"").toLowerCase().includes(n))},[u,t]),f=$.useCallback(async t=>{e(Oo(t)),await e(Ro(t,!1))},[e]);$.useEffect(()=>{let t=!0;return(async()=>{try{s(!0),await e(Ao())}finally{t&&s(!1)}})(),()=>{t=!1}},[e]);const p=$.useCallback(async()=>{if(!r)try{s(!0),await e(Ao(!0))}finally{s(!1)}},[e,r]),[m,h]=nl(),[g,v]=al(),[y,b]=rl(),[x,_]=sl(),S=$.useCallback(async t=>{if(!h.isLoading)try{const n=await m({id:t.id}).unwrap();e(ll({workflowId:n.workflowId,runId:n.runId,scenarioId:n.scenarioId,sessions:n.sessions})),e(Oo(t.id))}catch(n){}},[e,m,h.isLoading]),N=$.useCallback(async e=>{if(!v.isLoading)try{await g({scenarioId:e.id}).unwrap()}catch(t){}},[g,v.isLoading]),w=$.useCallback(async e=>{if(!b.isLoading)try{await y({scenarioId:e.id}).unwrap()}catch(t){}},[y,b.isLoading]),k=$.useCallback(async t=>{if(!_.isLoading)try{await x({scenarioId:t.id,mode:"Cancel"}).unwrap(),e(cl({scenarioId:t.id}))}catch(n){}},[e,x,_.isLoading]),C=$.useCallback(async t=>{if(!_.isLoading)try{await x({scenarioId:t.id,mode:"Terminate"}).unwrap(),e(cl({scenarioId:t.id}))}catch(n){}},[e,x,_.isLoading]);return n.jsxs("aside",{className:el.panel,children:[n.jsxs("div",{className:el.header,children:[n.jsxs("div",{className:el.actions,children:[n.jsx("button",{className:el.iconBtn,title:"",onClick:p,disabled:r,children:n.jsx(l,{size:16})}),n.jsx("button",{className:el.createBtn,onClick:async()=>{},children:n.jsx(c,{size:16})})]}),n.jsx("div",{className:el.search,children:n.jsx("input",{className:el.searchInput,placeholder:" ",value:t,onChange:e=>a(e.target.value)})})]}),n.jsxs("div",{className:el.list,children:[r&&n.jsx("div",{className:el.placeholder,children:""}),!!i&&n.jsxs("div",{className:el.error,children:["   : ",i]}),!r&&!i&&0===d.length&&n.jsx("div",{className:el.placeholder,children:" "}),!r&&!i&&d.map(e=>{const t=e.name??` ${e.id}`;return n.jsxs("div",{className:`${el.scenarioItem} ${o===e.id?el.itemActive:""}`,onClick:()=>f(e.id),title:t,children:[n.jsx("div",{className:el.itemTitle,children:t}),n.jsx(fl,{label:"",placement:"bottom",onAction:t=>{switch(t){case"play":S(e);break;case"pause":N(e);break;case"resume":w(e);break;case"cancel":k(e);break;case"terminated":C(e)}}})]},e.id)})]})]})}const ml="_badge_6ypko_3",hl="_selected_6ypko_19",gl="_baseEdge_6ypko_27",vl="_hovered_6ypko_45",yl={box:"_box_h08br_1",leftTargetPosition:"_leftTargetPosition_h08br_39",rightTargetPosition:"_rightTargetPosition_h08br_49",form__group:"_form__group_h08br_61",form__field:"_form__field_h08br_71",form__label:"_form__label_h08br_125"},bl={[s.Top]:`${yl.topTargetPosition} ${yl.box}`,[s.Bottom]:`${yl.bottomTargetPosition} ${yl.box}`,[s.Left]:`${yl.leftTargetPosition} ${yl.box}`,[s.Right]:`${yl.rightTargetPosition} ${yl.box}`},xl=({conditionExpression:e,onChange:t,targetPosition:a})=>n.jsx("div",{className:`${bl[a]}`,children:n.jsx("div",{className:yl.inputContainer,children:n.jsxs("div",{className:`${yl.form__group} ${yl.field}`,children:[n.jsx("textarea",{value:e,onChange:e=>t(e.target.value),className:yl.form__field,placeholder:"conditionExpression"}),n.jsx("label",{htmlFor:"name",className:yl.form__label,children:""})]})})}),_l=({branch:e,targetPosition:t})=>{const a=e.data.object,[r,s]=$.useState((null==a?void 0:a.conditionExpression)??"");return n.jsx(n.Fragment,{children:n.jsx(xl,{conditionExpression:r,onChange:e=>{s(e)},targetPosition:t})})},Sl=({source:e,target:t,targetPosition:a})=>{const r=t.data.object,s=null==r?void 0:r.parentRelations.find(t=>t.parentStepId==e.id),[i,o]=$.useState((null==s?void 0:s.conditionExpression)??"");return n.jsx(n.Fragment,{children:n.jsx(xl,{conditionExpression:i,onChange:e=>{o(e)},targetPosition:a})})},Nl=({targetPosition:e})=>n.jsx("div",{className:`${bl[e]}`,children:e}),wl=({targetPosition:e})=>n.jsx("div",{className:`${bl[e]}`,children:e}),kl=({targetPosition:e})=>n.jsx("div",{className:`${bl[e]}`,children:e}),Cl=({targetPosition:e})=>n.jsx("div",{className:`${bl[e]}`,children:e}),Il=({targetPosition:e})=>n.jsx("div",{className:`${bl[e]}`,children:e}),Tl=({targetPosition:e})=>n.jsx("div",{className:`${bl[e]}`,children:e});function Ml(e,t){return!!e&&e.type===t}function jl(e){const t=o();return p(t=>{if(!e)return;const n=t.nodeInternals??t.nodeLookup;return null==n?void 0:n.get(e)})??(e?t.getNode(e):void 0)}const El={step:function(e){const{id:t,source:a,target:r,sourceX:s,sourceY:i,targetX:o,targetY:l,sourcePosition:c,targetPosition:p,style:m,selected:h,data:g}=e,[v]=u({sourceX:s,sourceY:i,sourcePosition:c,targetX:o,targetY:l,targetPosition:p,borderRadius:8}),y=jl(a)??(()=>{throw new Error(`Source node ${a} not found`)})(),b=jl(r)??(()=>{throw new Error(`Target node ${a} not found`)})(),x=Boolean(null==g?void 0:g.__hovered),_=h?"#ff3b30":x?"#2f9aff":(null==m?void 0:m.stroke)??"#ffffff",S=`smart-edge-arrow-${t}-${h?"s":x?"h":"n"}`,N=function(e,t,a){return Ml(e,Fs.conditionStepNode)&&Ml(t,Fs.branchNode)?n.jsx(_l,{condition:e,branch:t,targetPosition:a}):Ml(e,Fs.branchNode)&&Ml(t,Fs.conditionStepNode)?n.jsx(_l,{condition:t,branch:e,targetPosition:a}):Ml(e,Fs.conditionStepNode)&&Ml(t,Fs.conditionStepNode)?n.jsx(Sl,{source:e,target:t,targetPosition:a}):Ml(e,Fs.conditionStepNode)&&Ml(t,Fs.jumpStepNode)?n.jsx(Nl,{condition:e,jump:t,targetPosition:a}):Ml(e,Fs.jumpStepNode)&&Ml(t,Fs.conditionStepNode)?n.jsx(Nl,{condition:t,jump:e,targetPosition:a}):Ml(e,Fs.conditionStepNode)&&Ml(t,Fs.delayStepNode)?n.jsx(wl,{condition:e,delay:t,targetPosition:a}):Ml(e,Fs.delayStepNode)&&Ml(t,Fs.conditionStepNode)?n.jsx(wl,{condition:t,delay:e,targetPosition:a}):Ml(e,Fs.conditionStepNode)&&Ml(t,Fs.parallelStepNode)?n.jsx(kl,{condition:e,parallel:t,targetPosition:a}):Ml(e,Fs.parallelStepNode)&&Ml(t,Fs.conditionStepNode)?n.jsx(kl,{condition:t,parallel:e,targetPosition:a}):Ml(e,Fs.conditionStepNode)&&Ml(t,Fs.activitySystemNode)?n.jsx(Cl,{condition:e,system:t,targetPosition:a}):Ml(e,Fs.activitySystemNode)&&Ml(t,Fs.conditionStepNode)?n.jsx(Cl,{condition:t,system:e,targetPosition:a}):Ml(e,Fs.conditionStepNode)&&Ml(t,Fs.activityModbusNode)?n.jsx(Il,{condition:e,modbus:t,targetPosition:a}):Ml(e,Fs.activityModbusNode)&&Ml(t,Fs.conditionStepNode)?n.jsx(Il,{condition:t,modbus:e,targetPosition:a}):Ml(e,Fs.signalStepNode)&&Ml(t,Fs.signalStepNode)?n.jsx(Tl,{source:e,target:t,targetPosition:a}):null}(y,b,p);return n.jsxs(n.Fragment,{children:[n.jsx("defs",{children:n.jsx("marker",{id:S,viewBox:"0 0 40 40",markerHeight:20,markerWidth:20,refX:8,refY:5,orient:"auto-start-reverse",children:n.jsx("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:_})})}),n.jsx(d,{className:`${gl} ${x?vl:""}`,"aria-selected":h,id:t,path:v,markerEnd:`url(#${S})`,style:m}),N&&n.jsx(f,{children:n.jsx("div",{className:`${ml} ${h?hl:""}`,style:{left:`${o}px`,top:`${l}px`},children:N})})]})}};function Al({getNodeType:e,getEdges:t,allowMap:n,targetAllowMap:a}){return r=>{var s,i;const o=r.source??r.source??null,l=r.target??r.target??null;if(!o||!l)return!1;if(o===l)return!1;const c=e(o),u=e(l);if(!c||!u)return!1;if(!(null==(s=n[c])?void 0:s.has(u)))return!1;if(!(null==(i=a[u])?void 0:i.has(c)))return!1;return!t().some(e=>e.source===o&&e.target===l)}}const Rl={[Fs.jumpStepNode]:new Set([Fs.activitySystemNode,Fs.activityModbusNode,Fs.parallelStepNode,Fs.delayStepNode,Fs.jumpStepNode,Fs.signalStepNode,Fs.conditionStepNode]),[Fs.conditionStepNode]:new Set([Fs.branchNode,Fs.activitySystemNode,Fs.activityModbusNode,Fs.parallelStepNode,Fs.delayStepNode,Fs.jumpStepNode,Fs.signalStepNode,Fs.conditionStepNode]),[Fs.parallelStepNode]:new Set([Fs.branchNode,Fs.activitySystemNode,Fs.activityModbusNode,Fs.parallelStepNode,Fs.delayStepNode,Fs.jumpStepNode,Fs.signalStepNode,Fs.conditionStepNode]),[Fs.activitySystemNode]:new Set([Fs.activitySystemNode,Fs.activityModbusNode,Fs.parallelStepNode,Fs.delayStepNode,Fs.jumpStepNode,Fs.signalStepNode,Fs.conditionStepNode]),[Fs.activityModbusNode]:new Set([Fs.activitySystemNode,Fs.activityModbusNode,Fs.parallelStepNode,Fs.delayStepNode,Fs.jumpStepNode,Fs.signalStepNode,Fs.conditionStepNode]),[Fs.delayStepNode]:new Set([Fs.activitySystemNode,Fs.activityModbusNode,Fs.parallelStepNode,Fs.delayStepNode,Fs.jumpStepNode,Fs.signalStepNode,Fs.conditionStepNode]),[Fs.signalStepNode]:new Set([Fs.activitySystemNode,Fs.activityModbusNode,Fs.parallelStepNode,Fs.delayStepNode,Fs.jumpStepNode,Fs.signalStepNode,Fs.conditionStepNode])},Dl=(()=>{const e={};return Object.keys(Rl).forEach(t=>{Rl[t].forEach(n=>{e[n]||(e[n]=new Set),e[n].add(t)})}),e})();class Ll{constructor(e,n,a){t(this,"hoverId"),t(this,"getAll"),t(this,"setNodes"),t(this,"u"),t(this,"setHoverBranch",e=>{this.hoverId!==e&&(this.hoverId=e,this.setNodes(t=>t.map(t=>{if(t.type!==Fs.branchNode)return t;const n=t.data?{...t.data}:{};return n.isDropTarget=void 0!==e&&t.id===e,{...t,data:n}})))}),t(this,"onNodeDrag",(e,t)=>{if(this.u.isAnyBranchResizing())return;const n=this.getAll(),a=this.u.absOf(t,n),r=this.u.pickDeepestBranchByTopLeft(n,a,t.id);this.setHoverBranch(null==r?void 0:r.id)}),this.getAll=e,this.setNodes=n,this.u=a}}class Pl{constructor(e){t(this,"getAll"),t(this,"setNodes"),t(this,"setHoverBranch"),t(this,"ctrlDragIdsRef"),t(this,"u"),t(this,"callbacks"),t(this,"onNodeDragStop",(e,t)=>{var n,a,r,s,i,o,l,c,u,d,f,p;if(this.u.isAnyBranchResizing())return;const m=this.getAll(),h=m.find(e=>e.id===t.id)??t,g=this.u.absOf(h,m),v=this.u.pickDeepestBranchByTopLeft(m,g,h.id);this.setHoverBranch(void 0);const y=this.ctrlDragIdsRef.current.has(h.id);if(y&&this.ctrlDragIdsRef.current.delete(h.id),y){if(!v)return this.setNodes(e=>e.map(e=>{if(e.id!==h.id)return e;const{parentId:t,extent:n,expandParent:a,...r}=e;return{...r,position:{x:g.x,y:g.y}}})),void(null==(a=null==(n=this.callbacks)?void 0:n.onStepDetachedFromBranch)||a.call(n,h.id));if(h.type!==Fs.branchNode){const e=this.u.rectOf(v,m),t=g.x-e.x,n=g.y-e.y;return this.setNodes(e=>{let a=e.map(e=>e.id===h.id?{...e,parentId:v.id,position:{x:t,y:n},extent:"parent",expandParent:!0}:e);return a=this.u.ensureParentBeforeChild(a,v.id,h.id),a}),void(null==(s=null==(r=this.callbacks)?void 0:r.onStepAttachedToBranch)||s.call(r,h.id,v.id,g.x,g.y))}}if(v&&h.type!==Fs.branchNode){const e=this.u.rectOf(v,m);if(h.parentId===v.id){const t=h.position.x,n=h.position.y,a=h.width??0,r=h.height??0;if(a>0&&r>0){const s=12,l=Math.max(e.w,t+a+s),c=Math.max(e.h,n+r+s);l===e.w&&c===e.h||(this.setNodes(e=>e.map(e=>e.id===v.id?{...e,style:{...e.style??{},width:l,height:c}}:e)),null==(o=null==(i=this.callbacks)?void 0:i.onBranchResized)||o.call(i,v.id,l,c))}return void(null==(c=null==(l=this.callbacks)?void 0:l.onStepMoved)||c.call(l,h.id,g.x,g.y))}const t=g.x-e.x,n=g.y-e.y,a=h.width??0,r=h.height??0;if(this.setNodes(s=>{let i=s.map(e=>e.id===h.id?{...e,parentId:v.id,position:{x:t,y:n},extent:"parent",expandParent:!0}:e);if(i=this.u.ensureParentBeforeChild(i,v.id,h.id),a>0&&r>0){const s=12,o=Math.max(e.w,t+a+s),l=Math.max(e.h,n+r+s);i=i.map(e=>e.id===v.id?{...e,style:{...e.style??{},width:o,height:l}}:e)}return i}),null==(d=null==(u=this.callbacks)?void 0:u.onStepAttachedToBranch)||d.call(u,h.id,v.id,g.x,g.y),a>0&&r>0){const s=12,i=Math.max(e.w,t+a+s),o=Math.max(e.h,n+r+s);null==(p=null==(f=this.callbacks)?void 0:f.onBranchResized)||p.call(f,v.id,i,o)}return}}),this.getAll=e.getAll,this.setNodes=e.setNodes,this.setHoverBranch=e.setHoverBranch,this.ctrlDragIdsRef=e.ctrlDragIdsRef,this.u=e.utils,this.callbacks=e.callbacks}}class Fl{constructor(e,n){t(this,"setEdges"),t(this,"onConnectEnd"),t(this,"onConnect",e=>{this.setEdges(t=>m({...e,type:"step"},t)),this.onConnectEnd()}),this.setEdges=e,this.onConnectEnd=n}}function Ol(e){$.useEffect(()=>{let t=!1;const n=(a=0)=>{if(t)return;if("undefined"!=typeof document&&"visible"!==document.visibilityState){const e=()=>{document.removeEventListener("visibilitychange",e),t||requestAnimationFrame(()=>n(0))};return void document.addEventListener("visibilitychange",e)}const r=e.getNodes().filter(e=>e.type===Fs.branchNode).filter(e=>{var t,n;const a="number"==typeof e.width?e.width:"number"==typeof(null==(t=e.style)?void 0:t.width)?e.style.width:0,r="number"==typeof e.height?e.height:"number"==typeof(null==(n=e.style)?void 0:n.height)?e.style.height:0;return!(a>0&&r>0)}).map(e=>e.id);if(0!==r.length){if(!(a<8))throw new Error(`Invalid scenario: branches without size: ${r.join(", ")}`);requestAnimationFrame(()=>n(a+1))}};return queueMicrotask(()=>n(0)),()=>{t=!0}},[e])}const ql={1:Fs.activityModbusNode,2:Fs.delayStepNode,3:Fs.conditionStepNode,4:Fs.parallelStepNode,5:Fs.signalStepNode,6:Fs.jumpStepNode},zl=e=>{const t=Number(e);return t>=1&&t<=3?`s${t}`:void 0};const $l=()=>{const e=Te(),t=()=>{var e;return(null==(e=null==crypto?void 0:crypto.randomUUID)?void 0:e.call(crypto))??Math.random().toString(36).slice(2)},[a,r]=$.useState([]),[s,i,l]=g([]),c=function(e){const t=$.useRef([]);return $.useEffect(()=>{t.current=e},[e]),t}(s),u=$.useRef([]);$.useEffect(()=>{u.current=a},[a]);const d=Ie(Lo),f=Ie(e=>d?e.scenario.entities[d]??null:null),p=null==f?void 0:f.scenario,m=$.useMemo(()=>d?new Yo(d):null,[d]),k=$.useCallback(e=>{if(l(e),m)for(const n of e)if("remove"===n.type&&n.id){const e=c.current.find(e=>e.id===n.id);if(!e)continue;const a={opId:t(),entity:Zo.StepRelation,action:Go.Delete,payload:e.id?{id:e.id}:{parentStepId:e.source,childStepId:e.target}};m.handle(a)}},[l,c,m]),C=f?`${f.scenario.id}:${f.lastFetchedAt??0}:${f.loadState}`:"none";$.useEffect(()=>{d&&(null==f?void 0:f.loadState)!==Eo.Full&&e(Ro(d,!1)).catch(()=>{})},[e,d,null==f?void 0:f.loadState]),$.useEffect(()=>{if(!p)return r([]),void i([]);const{nodes:e,edges:t}=function(e){var t;const n=[],a=[],r=new Map,s=[],i=(e=>{const t=e;return[...t.branch?[t.branch]:[],...t.branches??[]]})(e);for(const o of i){const e=Number(o.x??0),i=Number(o.y??0),l=Number(o.width),c=Number(o.height),u=Number.isFinite(l)&&l>0?l:320,d=Number.isFinite(c)&&c>0?c:100,f={id:o.id,type:Fs.branchNode,position:{x:e,y:i},style:{width:u,height:d,zIndex:0},data:{object:o,x:e,y:i}};n.push(f),r.set(f.id,f),null==(t=o.steps)||t.forEach(e=>{const t=Number((null==e?void 0:e.x)??0),a=Number((null==e?void 0:e.y)??0),i={id:e.id,type:(l=null==e?void 0:e.type,ql[Number(l)]??Fs.activitySystemNode),parentId:o.id,position:{x:t,y:a},extent:"parent",expandParent:!0,style:{..."object"==typeof(null==e?void 0:e.style)?e.style:{},zIndex:1},data:{object:e,x:t,y:a}};var l;n.push(i),r.set(i.id,i);const c=Array.isArray(e.childRelations)?e.childRelations:[];for(const n of c)s.push({parentStepId:n.parentStepId,childStepId:n.childStepId,order:n.conditionOrder??null})});const p=o.parallelStepId??void 0,m=o.conditionStepId??void 0,h=o.conditionExpression??void 0,g=o.conditionOrder??void 0;p?a.push({id:`bl:par:${p}->${o.id}`,source:p,target:o.id,type:"branchLink",targetHandle:"t1",data:{mode:"parallel",label:g?`#${g}`:void 0}}):m&&a.push({id:`bl:cond:${m}->${o.id}`,source:m,target:o.id,sourceHandle:zl(g)??null,targetHandle:"t1",type:"branchLink",data:{mode:"condition",label:(h??"").trim()||(g?`#${g}`:void 0)}})}for(const o of s){const e=r.get(o.parentStepId),t=r.get(o.childStepId);if(!e||!t)continue;const n=e.type===Fs.conditionStepNode?zl(o.order):void 0;a.push({id:`sr:${o.parentStepId}->${o.childStepId}`,source:o.parentStepId,target:o.childStepId,...null!=n?{sourceHandle:n}:{},type:"step",data:{order:o.order??void 0}})}return{nodes:n,edges:a}}(p);r(e),i(t)},[C,p,i]);const I=o();!function(e,t){$.useEffect(()=>{queueMicrotask(()=>{try{e.fitView({padding:.2})}catch{}})},[e,t])}(I,C),Ol(I);const T=$.useCallback(()=>I.getNodes(),[I]),{selectedNodeIds:M,selectedEdgeIds:j,onSelectionChange:E,deleteSelected:A}=function({setNodes:e,setEdges:t,getNodes:n,getEdges:a,onDeleted:r}){const[s,i]=$.useState(new Set),[o,l]=$.useState(new Set),c=$.useCallback(({nodes:e,edges:t})=>{i(new Set(e.map(e=>e.id))),l(new Set(t.map(e=>e.id)))},[]),u=$.useCallback(()=>{if(0===s.size&&0===o.size)return;const c=n(),u=a(),d=new Set(s),f=new Set(o),p=u.filter(e=>f.has(e.id)||d.has(e.source)||d.has(e.target)),m=c.filter(e=>d.has(e.id));t(e=>e.filter(e=>!(f.has(e.id)||d.has(e.source)||d.has(e.target)))),e(e=>e.filter(e=>!d.has(e.id))),null==r||r({nodes:m,edges:p}),i(new Set),l(new Set)},[s,o,n,a,t,e,r]);return $.useEffect(()=>{const e=e=>{const t=e.target;t&&("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)||"Delete"!==e.key&&"Backspace"!==e.key||(e.preventDefault(),u())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[u]),{selectedNodeIds:s,selectedEdgeIds:o,onSelectionChange:c,deleteSelected:u}}({setNodes:r,setEdges:i,getNodes:()=>u.current,getEdges:()=>c.current,onDeleted:({nodes:e,edges:n})=>{if(m){for(const n of e){const e="branchNode"===n.type||n.type===Fs.branchNode;m.handle({opId:t(),entity:e?Zo.Branch:Zo.Step,action:Go.Delete,payload:{id:n.id}})}for(const e of n)m.handle({opId:t(),entity:Zo.StepRelation,action:Go.Delete,payload:e.id?{id:e.id}:{parentStepId:e.source,childStepId:e.target}})}}}),{onConnectStart:R,onConnectEnd:D,getNodeType:L}=function({rf:e,setNodes:t}){const[n,a]=$.useState(void 0),r=$.useCallback(t=>{if(!t)return;const n=e.getNodes().find(e=>e.id===t);return null==n?void 0:n.type},[e]),s=$.useCallback((e,t)=>{const n=r(t.nodeId);t.handleType&&t.nodeId&&n?a({from:{nodeId:t.nodeId,type:n,handleType:t.handleType,handleId:t.handleId??null}}):a(void 0)},[r]),i=$.useCallback(()=>a(void 0),[]);return $.useEffect(()=>{t(e=>e.map(e=>{const t={...e.data};return void 0===n?delete t.connectContext:t.connectContext=n,{...e,data:t}}))},[n,t]),{connectCtx:n,onConnectStart:s,onConnectEnd:i,getNodeType:r}}({rf:I,setNodes:r}),P=$.useMemo(()=>new Ll(T,r,{absOf:so,pickDeepestBranchByTopLeft:co,isAnyBranchResizing:ui}),[T,r]),F=$.useCallback(P.setHoverBranch,[P]),O=$.useCallback(P.onNodeDrag,[P]),q=$.useRef(new Set),z=$.useCallback((e,t)=>{!0===e.ctrlKey&&t.parentId&&(q.current.add(t.id),r(e=>e.map(e=>{if(e.id!==t.id)return e;const n=function(e,t){const n={...e};for(const a of t)delete n[a];return n}(e,["extent"]);return{...n,expandParent:!1}})))},[r]),B=$.useMemo(()=>new Pl({getAll:T,setNodes:r,setHoverBranch:F,ctrlDragIdsRef:q,utils:{absOf:so,rectOf:oo,ensureParentBeforeChild:uo,pickDeepestBranchByTopLeft:co,isAnyBranchResizing:ui},callbacks:{onStepAttachedToBranch:(e,n,a,r)=>{var s;if(!m)return;const i=I.getNodes().find(t=>t.id===e);!(!i||!(null==(s=i.data)?void 0:s.__persisted))?m.update({opId:t(),entity:Zo.Step,action:Go.Update,payload:{id:e,branchId:n,x:a,y:r}}):(m.create({opId:t(),entity:Zo.Step,action:Go.Create,payload:{id:e,branchId:n,x:a,y:r}}),I.setNodes(t=>t.map(t=>t.id===e?{...t,data:{...t.data,__persisted:!0}}:t)))},onStepMoved:(e,n,a)=>{var r;if(!m)return;const s=I.getNodes().find(t=>t.id===e);(null==(r=null==s?void 0:s.data)?void 0:r.__persisted)&&m.update({opId:t(),entity:Zo.Step,action:Go.Update,payload:{id:e,x:n,y:a}})},onStepDetachedFromBranch:e=>{var n;if(!m)return;const a=I.getNodes().find(t=>t.id===e);!(!a||!(null==(n=a.data)?void 0:n.__persisted))&&(m.delete({opId:t(),entity:Zo.StepRelation,action:Go.Delete,payload:{stepId:e}}),m.delete({opId:t(),entity:Zo.Step,action:Go.Delete,payload:{id:e}}),I.setNodes(t=>t.map(t=>t.id===e?{...t,data:{...t.data,__persisted:!1}}:t)))},onBranchResized:(e,n,a)=>{m&&m.update({opId:t(),entity:Zo.Branch,action:Go.Update,payload:{id:e,width:n,height:a}})}}}),[T,r,F,m]),U=$.useCallback(B.onNodeDragStop,[B]),Q=$.useMemo(()=>new Fl(i,D),[i,D]),V=$.useCallback(e=>{if(Q.onConnect(e),!m||!e.source||!e.target)return;const n={opId:t(),entity:Zo.StepRelation,action:Go.Create,payload:{parentStepId:e.source,childStepId:e.target}};m.handle(n)},[Q,m]),H=function(e,t,n,a,r){return $.useMemo(()=>n({getNodeType:e,getEdges:t,allowMap:a,targetAllowMap:r}),[e,t,a,r])}(L,()=>c.current,Al,Rl,Dl),W=$.useMemo(()=>function(e,t){return n=>{e(e=>{const a=h(n,e);return t(),a.map(e=>({...e,data:{...e.data,x:e.position.x,y:e.position.y}}))})}}(r,ui),[r]),K=$.useMemo(()=>Hi,[]),{containerRef:G,onMouseDown:Y}=function(e){const t=$.useRef(null),n=$.useRef(!1),a=$.useCallback(e=>{var a;2===e.button&&(e.preventDefault(),n.current=!0,null==(a=t.current)||a.classList.add("rmb-panning"))},[]);return $.useEffect(()=>{const a=t.current;if(!a)return;const r=t=>{if(!n.current)return;t.preventDefault();const{x:a,y:r,zoom:s}=e.getViewport();e.setViewport({x:a+t.movementX,y:r+t.movementY,zoom:s})},s=()=>{n.current&&(n.current=!1,a.classList.remove("rmb-panning"))},i=e=>{n.current&&e.preventDefault()};return window.addEventListener("mousemove",r),window.addEventListener("mouseup",s),a.addEventListener("contextmenu",i),()=>{window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",s),a.removeEventListener("contextmenu",i)}},[e]),{containerRef:t,onMouseDown:a}}(I);return n.jsx("div",{ref:G,onMouseDown:Y,style:{width:"100%",height:"600px",background:"#121212"},children:n.jsxs(v,{nodes:a,edges:s,nodeTypes:K,edgeTypes:El,onEdgeMouseEnter:(e,t)=>i(e=>e.map(e=>e.id===t.id?{...e,data:{...e.data,__hovered:!0}}:e)),onEdgeMouseLeave:(e,t)=>i(e=>e.map(e=>e.id===t.id?{...e,data:{...e.data,__hovered:!1}}:e)),onSelectionChange:E,onNodesChange:W,onEdgesChange:k,onNodeDrag:O,onNodeDragStart:z,onNodeDragStop:U,onConnectStart:R,onConnect:V,onConnectEnd:D,isValidConnection:H,minZoom:.01,maxZoom:10,defaultEdgeOptions:{animated:!0,type:"step",markerEnd:{type:x.ArrowClosed},style:{stroke:"#ffffff",strokeWidth:1,opacity:1}},connectionLineType:b.Step,selectionOnDrag:!0,selectionMode:y.Partial,panOnDrag:[1,2],panOnScroll:!0,autoPanSpeed:3,fitView:!0,className:js.customFlow,children:[n.jsx(_,{position:"top-left",children:n.jsx(pl,{})}),n.jsx(_,{position:"top-right",children:n.jsx(Jo,{})}),n.jsx(_,{position:"bottom-left",children:n.jsx("button",{className:js.deleteBtn,onClick:A,disabled:0===M.size&&0===j.size,title:"  (Del/Backspace)",children:""})}),n.jsx(S,{className:`${js.flowControls}`,position:"top-left"}),n.jsx(N,{id:"1",gap:7,lineWidth:.1,color:"#464646",variant:w.Lines}),n.jsx(N,{id:"2",gap:28,lineWidth:.1,color:"#767676",variant:w.Lines})]})})};function Bl(){return n.jsx(k,{children:n.jsx($l,{})})}const Ul=()=>n.jsx("div",{className:Ms,children:n.jsx(Bl,{})}),Ql="_container_1t35t_1",Vl=()=>n.jsx("div",{className:Ql,children:n.jsx("p",{children:"Page not found"})}),Hl=()=>((e=>{const t=H(),n=W();$.useEffect(()=>{e(t.pathname,n)},[t.pathname,n,e])})((e,t)=>{}),null),Wl=({children:e})=>ha(e=>e.auth.isAuthenticated)?n.jsx(K,{to:pt,replace:!0}):e,Kl=({children:e})=>{const t=Ie(ua),a=H();return t?e:n.jsx(K,{to:mt,replace:!0,state:{from:a}})},Gl="_container_svsmw_5",Yl="_databaseSelector_svsmw_17",Zl="_title_svsmw_37",Xl="_databaseInfoBlock_svsmw_47",Jl="_label_svsmw_61",ec="_select_svsmw_75",tc="_topSection_svsmw_131",nc="_rightSection_svsmw_147",ac="_devicesContainer_svsmw_163",rc="_emptyContainer_svsmw_177",sc="_noSelectionPanel_svsmw_195",ic="_placeholder_svsmw_211",oc={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://192.168.2.80:5001",VITE_CHARTS_URL:"http://192.168.2.80:7094",VITE_CHART_DEFAULT_CHART_HEIGHT_PX:"800",VITE_CHART_MIN_CONTAINER_WIDTH:"300",VITE_ENABLE_DEBUG_LOGS:"false",VITE_ENABLE_DEVTOOLS:"false",VITE_ENABLE_MOCK_DATA:"false",VITE_ENABLE_PERFORMANCE_MONITORING:"false",VITE_MIRAX_DEFAULT_BASE_TEMPLATE_ID:"77777777-0000-0000-0000-000000000223",VITE_MIRAX_DEFAULT_SENSOR_TEMPLATE_ID:"77777777-0000-0000-0000-000000000222"};function lc(e,t){const n=oc[e];return void 0===n||""===n?t:String(n)}function cc(e,t){const n=oc[e];if(void 0===n||""===n)return t;const a=Number(n);return isNaN(a)?t:a}function uc(e,t){const n=oc[e];if(void 0===n||""===n)return t;const a=String(n).toLowerCase().trim();return"true"===a||"1"===a||"yes"===a||"on"===a||"false"!==a&&"0"!==a&&"no"!==a&&"off"!==a&&t}const dc={APP_NAME:lc("VITE_APP_NAME","MyApp"),APP_VERSION:lc("VITE_APP_VERSION","1.0.0"),API_URL:lc("VITE_API_URL","https://localhost:5001"),CHARTS_URL:lc("VITE_CHARTS_URL","https://localhost:7094"),CHART_DEFAULT_CHART_HEIGHT_PX:cc("VITE_CHART_DEFAULT_CHART_HEIGHT_PX",800),CHART_MIN_CONTAINER_WIDTH:cc("VITE_CHART_MIN_CONTAINER_WIDTH",640),ENABLE_DEBUG_LOGS:uc("VITE_ENABLE_DEBUG_LOGS",!1),ENABLE_PERFORMANCE_MONITORING:uc("VITE_ENABLE_PERFORMANCE_MONITORING",!1),ENABLE_MOCK_DATA:uc("VITE_ENABLE_MOCK_DATA",!1),ENABLE_DEVTOOLS:uc("VITE_ENABLE_DEVTOOLS",!1),MIRAX_DEFAULT_BASE_TEMPLATE_ID:lc("VITE_MIRAX_DEFAULT_BASE_TEMPLATE_ID","77777777-0000-0000-0000-000000000223"),MIRAX_DEFAULT_SENSOR_TEMPLATE_ID:lc("VITE_MIRAX_DEFAULT_SENSOR_TEMPLATE_ID","77777777-0000-0000-0000-000000000222")};function fc(e,t){return`${e}-${t}`}const pc={isLoading:!1,progress:0,error:void 0},mc={currentDatabase:void 0,openTabs:[],activeContextId:void 0,sensorTabs:{},selectedDeviceFactoryNumber:void 0,expandedTechnicalRunIds:[],expandedDeviceFactoryNumbers:[],technicalRunsLoading:pc,devicesLoading:{},sensorsLoading:{},technicalRunsData:[],devicesByTechnicalRun:{},sensorsBySensorKey:{},defaultBaseTemplateId:dc.MIRAX_DEFAULT_BASE_TEMPLATE_ID,defaultSensorTemplateId:dc.MIRAX_DEFAULT_SENSOR_TEMPLATE_ID,activeFactoryNumber:void 0};function hc(e){return`${e.technicalRun.id}-${e.device.factoryNumber}-${e.sensor.gas}-${e.sensor.channelNumber}`}const gc=oe({name:"mirax",initialState:mc,reducers:{setCurrentDatabase:(e,t)=>{e.currentDatabase=t.payload,e.openTabs=[],e.activeContextId=void 0,e.sensorTabs={},e.selectedDeviceFactoryNumber=void 0,e.expandedTechnicalRunIds=[],e.expandedDeviceFactoryNumbers=[],e.technicalRunsLoading=pc,e.devicesLoading={},e.sensorsLoading={},e.technicalRunsData=[],e.devicesByTechnicalRun={},e.sensorsBySensorKey={}},clearDatabase:e=>{e.currentDatabase=void 0,e.openTabs=[],e.activeContextId=void 0,e.sensorTabs={},e.selectedDeviceFactoryNumber=void 0,e.expandedTechnicalRunIds=[],e.expandedDeviceFactoryNumbers=[],e.technicalRunsLoading=pc,e.devicesLoading={},e.sensorsLoading={},e.technicalRunsData=[],e.devicesByTechnicalRun={},e.sensorsBySensorKey={}},setDefaultBaseTemplateId(e,t){e.defaultBaseTemplateId=t.payload},setDefaultSensorTemplateId(e,t){e.defaultSensorTemplateId=t.payload},setActiveFactoryNumber:(e,t)=>{e.activeFactoryNumber=t.payload},setTechnicalRunsData:(e,t)=>{e.technicalRunsData=t.payload},setDevicesData:(e,t)=>{const{technicalRunId:n,devices:a}=t.payload;e.devicesByTechnicalRun[n]=a},setSensorsData:(e,t)=>{const{technicalRunId:n,factoryNumber:a,sensors:r}=t.payload;e.sensorsBySensorKey[fc(n,a)]=r},openTechnicalRunTab:(e,t)=>{const{id:n,name:a}=t.payload;e.openTabs.find(e=>e.id===n)?e.activeContextId=n:(e.openTabs=[...e.openTabs,{id:n,name:a}],e.activeContextId=n,e.sensorTabs[n]={openTabs:[],activeTabKey:void 0})},closeTechnicalRunTab:(e,t)=>{var n;const a=t.payload,r=e.openTabs.findIndex(e=>e.id===a);if(-1!==r){if(e.openTabs=e.openTabs.filter(e=>e.id!==a),e.activeContextId===a)if(e.openTabs.length>0){const t=Math.max(0,r-1);e.activeContextId=null==(n=e.openTabs[t])?void 0:n.id}else e.activeContextId=void 0;delete e.sensorTabs[a],delete e.devicesLoading[a],e.expandedDeviceFactoryNumbers=[],e.selectedDeviceFactoryNumber=void 0}},setActiveTab:(e,t)=>{const n=t.payload;e.openTabs.some(e=>e.id===n)&&(e.activeContextId=n,e.selectedDeviceFactoryNumber=void 0)},closeAllTabs:e=>{e.openTabs=[],e.activeContextId=void 0,e.sensorTabs={},e.selectedDeviceFactoryNumber=void 0,e.expandedDeviceFactoryNumbers=[]},openSensorTab:(e,t)=>{const n=t.payload,a=n.technicalRun.id;if(!e.openTabs.some(e=>e.id===a))return;a in e.sensorTabs||(e.sensorTabs[a]={openTabs:[],activeTabKey:void 0});const r=e.sensorTabs[a],s=hc(n),i=r.openTabs.find(e=>hc(e)===s);e.sensorTabs[a]=i?{...r,activeTabKey:s}:{openTabs:[...r.openTabs,n],activeTabKey:s}},closeSensorTab:(e,t)=>{const{technicalRunId:n,tabKey:a}=t.payload;if(!(n in e.sensorTabs))return;const r=e.sensorTabs[n],s=r.openTabs.findIndex(e=>hc(e)===a);if(-1===s)return;const i=r.openTabs.filter(e=>hc(e)!==a);let o=r.activeTabKey;if(r.activeTabKey===a)if(i.length>0){const e=i[Math.max(0,s-1)];o=e?hc(e):void 0}else o=void 0;e.sensorTabs[n]={openTabs:i,activeTabKey:o}},setActiveSensorTab:(e,t)=>{const{technicalRunId:n,tabKey:a}=t.payload;if(!(n in e.sensorTabs))return;const r=e.sensorTabs[n];r.openTabs.some(e=>hc(e)===a)&&(e.sensorTabs[n]={...r,activeTabKey:a})},closeAllSensorTabs:(e,t)=>{const n=t.payload;n in e.sensorTabs&&(e.sensorTabs[n]={openTabs:[],activeTabKey:void 0})},deselectDevice:e=>{e.selectedDeviceFactoryNumber=void 0},selectDevice:(e,t)=>{e.selectedDeviceFactoryNumber=t.payload},toggleTechnicalRunExpanded:(e,t)=>{const n=t.payload,a=e.expandedTechnicalRunIds.includes(n);e.expandedTechnicalRunIds=a?e.expandedTechnicalRunIds.filter(e=>e!==n):[...e.expandedTechnicalRunIds,n]},expandTechnicalRun:(e,t)=>{const n=t.payload;e.expandedTechnicalRunIds.includes(n)||(e.expandedTechnicalRunIds=[...e.expandedTechnicalRunIds,n])},collapseTechnicalRun:(e,t)=>{e.expandedTechnicalRunIds=e.expandedTechnicalRunIds.filter(e=>e!==t.payload)},collapseAllTechnicalRuns:e=>{e.expandedTechnicalRunIds=[]},expandAllTechnicalRuns:(e,t)=>{e.expandedTechnicalRunIds=[...t.payload]},toggleDeviceExpanded:(e,t)=>{const n=t.payload,a=e.expandedDeviceFactoryNumbers.includes(n);e.expandedDeviceFactoryNumbers=a?e.expandedDeviceFactoryNumbers.filter(e=>e!==n):[...e.expandedDeviceFactoryNumbers,n]},expandDevice:(e,t)=>{const n=t.payload;e.expandedDeviceFactoryNumbers.includes(n)||(e.expandedDeviceFactoryNumbers=[...e.expandedDeviceFactoryNumbers,n])},collapseDevice:(e,t)=>{e.expandedDeviceFactoryNumbers=e.expandedDeviceFactoryNumbers.filter(e=>e!==t.payload)},collapseAllDevices:e=>{e.expandedDeviceFactoryNumbers=[]},startTechnicalRunsLoading:e=>{e.technicalRunsLoading={isLoading:!0,progress:0,error:void 0}},updateTechnicalRunsProgress:(e,t)=>{e.technicalRunsLoading={...e.technicalRunsLoading,progress:t.payload}},finishTechnicalRunsLoading:(e,t)=>{e.technicalRunsLoading={isLoading:!1,progress:t.payload.success?100:0,error:t.payload.error}},resetTechnicalRunsLoading:e=>{e.technicalRunsLoading=pc},startDevicesLoading:(e,t)=>{const n=t.payload;e.devicesLoading[n]={isLoading:!0,progress:0,error:void 0}},updateDevicesProgress:(e,t)=>{const{technicalRunId:n,progress:a}=t.payload;n in e.devicesLoading&&(e.devicesLoading[n]={...e.devicesLoading[n],progress:a})},finishDevicesLoading:(e,t)=>{const{technicalRunId:n,success:a,error:r}=t.payload;e.devicesLoading[n]={isLoading:!1,progress:a?100:0,error:r}},clearDevicesLoading:(e,t)=>{delete e.devicesLoading[t.payload]},clearAllDevicesLoading:e=>{e.devicesLoading={}},startSensorsLoading:(e,t)=>{const{technicalRunId:n,factoryNumber:a}=t.payload,r=`${n}-${a}`;e.sensorsLoading[r]={isLoading:!0,progress:0,error:void 0}},updateSensorsProgress:(e,t)=>{const{technicalRunId:n,factoryNumber:a,progress:r}=t.payload,s=`${n}-${a}`;s in e.sensorsLoading&&(e.sensorsLoading[s]={...e.sensorsLoading[s],progress:r})},finishSensorsLoading:(e,t)=>{const{technicalRunId:n,factoryNumber:a,success:r,error:s}=t.payload,i=`${n}-${a}`;e.sensorsLoading[i]={isLoading:!1,progress:r?100:0,error:s}},clearSensorsLoading:(e,t)=>{const{technicalRunId:n,factoryNumber:a}=t.payload,r=`${n}-${a}`;delete e.sensorsLoading[r]},clearAllSensorsLoading:e=>{e.sensorsLoading={}},resetMiraxState:()=>mc}}),{setCurrentDatabase:vc,clearDatabase:yc,setTechnicalRunsData:bc,setDevicesData:xc,setSensorsData:_c,openTechnicalRunTab:Sc,setActiveFactoryNumber:Nc,closeTechnicalRunTab:wc,setActiveTab:kc,closeAllTabs:Cc,openSensorTab:Ic,closeSensorTab:Tc,setActiveSensorTab:Mc,closeAllSensorTabs:jc,selectDevice:Ec,deselectDevice:Ac,toggleTechnicalRunExpanded:Rc,expandTechnicalRun:Dc,collapseTechnicalRun:Lc,collapseAllTechnicalRuns:Pc,expandAllTechnicalRuns:Fc,toggleDeviceExpanded:Oc,expandDevice:qc,collapseDevice:zc,collapseAllDevices:$c,startTechnicalRunsLoading:Bc,updateTechnicalRunsProgress:Uc,finishTechnicalRunsLoading:Qc,resetTechnicalRunsLoading:Vc,startDevicesLoading:Hc,updateDevicesProgress:Wc,finishDevicesLoading:Kc,clearDevicesLoading:Gc,clearAllDevicesLoading:Yc,startSensorsLoading:Zc,updateSensorsProgress:Xc,finishSensorsLoading:Jc,clearSensorsLoading:eu,clearAllSensorsLoading:tu,resetMiraxState:nu}=gc.actions,au=e=>e.mirax.technicalRunsData,ru=e=>e.mirax.currentDatabase,su=e=>e.mirax.openTabs,iu=e=>e.mirax.activeContextId,ou=e=>e.mirax.selectedDeviceFactoryNumber,lu={isLoading:!1,progress:0,error:void 0},cu=e=>e.mirax.technicalRunsLoading,uu=re([e=>e.mirax.devicesLoading,(e,t)=>t],(e,t)=>e[t]??lu),du=re([e=>e.mirax.sensorsLoading,(e,t,n)=>`${t}-${n}`],(e,t)=>e[t]??lu),fu=e=>e.mirax.technicalRunsLoading.isLoading,pu=e=>e.mirax.technicalRunsLoading.error,mu=[],hu=[],gu=re([e=>e.mirax.sensorsBySensorKey,(e,t,n)=>fc(t,n)],(e,t)=>e[t]??mu),vu=re([au,(e,t)=>t],(e,t)=>e.find(e=>e.id===t));re([au,iu],(e,t)=>{if(void 0!==t)return e.find(e=>e.id===t)});const yu=re([e=>e.mirax.devicesByTechnicalRun,(e,t)=>t],(e,t)=>e[t]??hu);re([e=>e.mirax.devicesByTechnicalRun,iu],(e,t)=>void 0===t?hu:e[t]??hu),re([yu],e=>e.length>0),re([yu],e=>e.length);const bu=e=>e.mirax.defaultBaseTemplateId,xu=e=>e.mirax.defaultSensorTemplateId,_u=e=>e.mirax.activeFactoryNumber,Su=je({key:"mirax",storage:jo},gc.reducer);const Nu=q(Be()),wu={containerTechnicalRunsPanel:"_containerTechnicalRunsPanel_imoi3_3",header:"_header_imoi3_21",title:"_title_imoi3_39",info:"_info_imoi3_53",btnCopyFactoryNumber:"_btnCopyFactoryNumber_imoi3_69",count:"_count_imoi3_89",controls:"_controls_imoi3_107",activeFilterBadge:"_activeFilterBadge_imoi3_125",list:"_list_imoi3_155",items:"_items_imoi3_167",item:"_item_imoi3_167",itemActive:"_itemActive_imoi3_211",itemContent:"_itemContent_imoi3_231",itemName:"_itemName_imoi3_243",itemDates:"_itemDates_imoi3_257",itemDate:"_itemDate_imoi3_257",placeholder:"_placeholder_imoi3_281"},ku=new Set(["GET","HEAD","OPTIONS","PUT","DELETE"]),Cu=new Set([408,429,500,502,503,504]),Iu=new Set(["ECONNABORTED","ECONNREFUSED","ECONNRESET","ENETUNREACH","ETIMEDOUT","ENOTFOUND"]);const Tu={retries:3,retryDelay:function(e,t){const n=function(e){var t,n;const a=null==(n=null==(t=e.response)?void 0:t.headers)?void 0:n["retry-after"];if(!a)return;const r=Number(a);if(!isNaN(r)&&r>0)return 1e3*r;const s=new Date(a);if(!isNaN(s.getTime())){const e=s.getTime()-Date.now();return Math.max(0,e)}}(t);if(void 0!==n)return Math.min(n,3e4);const a=1e3*Math.pow(2,e-1),r=a+.25*a*(2*Math.random()-1);return Math.max(1e3,Math.min(r,3e4))},shouldResetTimeout:!0,retryCondition:function(e){var t,n;if(!(n=null==(t=e.config)?void 0:t.method)||!ku.has(n.toUpperCase()))return!1;if(function(e){return!e.response&&void 0!==e.code&&Iu.has(e.code)}(e))return!0;if(e.response){const t=e.response.status;if(function(e){return!!e&&Cu.has(e)}(t))return!0;if(t>=200&&t<300)return!1;if(t>=400&&t<500)return!1;if(t>=500&&t<600)return!0}return!1},onRetry:(e,t,n)=>{var a,r;null==(a=n.method)||a.toUpperCase(),n.url,null==(r=t.response)||r.status,t.code},onMaxRetryTimesExceeded:(e,t)=>{var n;null==(n=e.config)||n.url}},Mu=Pe.create({baseURL:dc.CHARTS_URL,withCredentials:!0,paramsSerializer:Un,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json","X-Client-Type":"web"}});function ju(e){if(null==e)return e;if(e instanceof Date)return e;if("string"==typeof e){if(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[+-]\d{2}:\d{2})?$/.test(e)){const t=new Date(e);if(!isNaN(t.getTime()))return t}return e}if(Array.isArray(e))return e.map(e=>ju(e));if("object"==typeof e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=ju(e[n]));return t}return e}De(Mu,Tu);const Eu=()=>async(e,t)=>{var n,a;const r=e.method??"get",{url:s,data:i,params:o,headers:l,lockUi:c=!0,parseDates:u=!0}=e;c&&t.dispatch(Hn());try{const e={...l??{}};void 0===i||e["Content-Type"]||(e["Content-Type"]="application/json");const n={url:s,method:r,withCredentials:!0,signal:t.signal,...void 0!==i?{data:i}:{},...void 0!==o?{params:o}:{},...e&&Object.keys(e).length?{headers:e}:{}},a=await Mu.request(n);let c=a.data;return u&&(c=ju(c)),Jn(c)?c.success?ta(c.data):ea({status:a.status,data:c}):ta(c)}catch(d){const e=d,t=null==(n=e.response)?void 0:n.status,r=null==(a=e.response)?void 0:a.data;return r&&Jn(r)?ea({status:t,data:r}):ea({status:t,data:r??e.message})}finally{c&&t.dispatch(Wn())}},Au="/mirax/technical-runs",Ru=e=>`/mirax/technical-runs/${e}/devices`,Du=(e,t)=>`/mirax/technical-runs/${e}/devices/${encodeURIComponent(t)}/sensors`,Lu=zn({reducerPath:"miraxApi",baseQuery:Eu(),tagTypes:["TechnicalRun","PortableDevice","Sensor"],endpoints:e=>({getTechnicalRuns:e.query({query:({body:e,dbId:t})=>({url:null!=e&&"factoryNumber"in e&&void 0!==e.factoryNumber?`${Au}?factoryNumber=${encodeURIComponent(null==e?void 0:e.factoryNumber)}`:Au,method:"get",headers:{"X-Db":String(t)}}),providesTags:(e,t,{body:n})=>{const a=void 0!==n&&"factoryNumber"in n?n.factoryNumber:void 0;return void 0!==a?[{type:"TechnicalRun",id:`factory-${a}`}]:[{type:"TechnicalRun",id:"LIST"}]},keepUnusedDataFor:300}),getPortableDevices:e.query({query:({body:e,dbId:t})=>({url:Ru(e.technicalRunId),method:"get",headers:{"X-Db":String(t)}}),providesTags:(e,t,{body:n})=>[{type:"PortableDevice",id:n.technicalRunId}],keepUnusedDataFor:180}),getSensors:e.query({query:({body:e,dbId:t})=>({url:Du(e.technicalRunId,e.factoryNumber),method:"get",headers:{"X-Db":String(t)}}),providesTags:(e,t,{body:n})=>[{type:"Sensor",id:`${n.technicalRunId}-${n.factoryNumber}`}],keepUnusedDataFor:120})})}),Pu=(e,t)=>({body:e,dbId:t}),Fu=ie("mirax/fetchTechnicalRuns",async({databaseId:e,factoryNumber:t,signal:n,onProgress:a},{dispatch:r,rejectWithValue:s})=>{var i;if(null==n?void 0:n.aborted)return{data:[],wasAborted:!0};r(Bc());const o=void 0!==t?{factoryNumber:t}:void 0,l=r(Lu.endpoints.getTechnicalRuns.initiate(Pu(o,e)));try{let e;if(void 0!==a){let t=0;e=setInterval(()=>{t<90&&(t+=10,a(t),r(Uc(t)))},100)}const s=void 0!==t?`    ${t}...`:"  ...",i=void 0!==t?`    ${t}`:" ",o=await Xn.run(l.unwrap(),{loading:{text:s},success:{text:i,toastOptions:{duration:700}},error:{toastOptions:{duration:3e3}}},{id:"fetch-technical-runs"});return void 0!==e&&clearInterval(e),(null==n?void 0:n.aborted)?(r(Qc({success:!1,error:void 0})),{data:o,wasAborted:!0}):(void 0!==a&&a(100),r(Uc(100)),r(bc(o)),r(Qc({success:!0})),{data:o,wasAborted:!1})}catch(c){if(null!==c&&"object"==typeof c&&"name"in c&&"AbortError"===c.name||(null==n?void 0:n.aborted))return r(Qc({success:!1,error:void 0})),{data:[],wasAborted:!0};const e=null!==c&&"object"==typeof c&&"message"in c&&"string"==typeof c.message?c.message:"   ";return r(Qc({success:!1,error:e})),s(e)}finally{null==(i=l.unsubscribe)||i.call(l)}}),Ou=ie("mirax/fetchPortableDevices",async({databaseId:e,technicalRunId:t,signal:n,onProgress:a},{dispatch:r,rejectWithValue:s})=>{var i;if(null==n?void 0:n.aborted)return{data:[],wasAborted:!0};r(Hc(t));const o=r(Lu.endpoints.getPortableDevices.initiate(Pu({technicalRunId:t},e)));try{let e;if(void 0!==a){let n=0;e=setInterval(()=>{n<90&&(n+=10,a(n),r(Wc({technicalRunId:t,progress:n})))},100)}const s=await Xn.run(o.unwrap(),{loading:{text:"  ..."},success:{text:" ",toastOptions:{duration:700}},error:{toastOptions:{duration:3e3}}},{id:"fetch-portable-devices"});return void 0!==e&&clearInterval(e),(null==n?void 0:n.aborted)?(r(Kc({technicalRunId:t,success:!1,error:void 0})),{data:s,wasAborted:!0}):(void 0!==a&&a(100),r(Wc({technicalRunId:t,progress:100})),r(xc({technicalRunId:t,devices:s})),r(Kc({technicalRunId:t,success:!0})),{data:s,wasAborted:!1})}catch(l){if(null!==l&&"object"==typeof l&&"name"in l&&"AbortError"===l.name||(null==n?void 0:n.aborted))return r(Kc({technicalRunId:t,success:!1,error:void 0})),{data:[],wasAborted:!0};const e=null!==l&&"object"==typeof l&&"message"in l&&"string"==typeof l.message?l.message:"  ";return r(Kc({technicalRunId:t,success:!1,error:e})),s(e)}finally{null==(i=o.unsubscribe)||i.call(o)}}),qu=ie("mirax/fetchSensors",async({databaseId:e,technicalRunId:t,factoryNumber:n,signal:a,onProgress:r},{dispatch:s,rejectWithValue:i})=>{var o;if(null==a?void 0:a.aborted)return{data:[],wasAborted:!0};s(Zc({technicalRunId:t,factoryNumber:n}));const l=s(Lu.endpoints.getSensors.initiate(Pu({technicalRunId:t,factoryNumber:n},e)));try{let e;if(void 0!==r){let a=0;e=setInterval(()=>{a<90&&(a+=10,r(a),s(Xc({technicalRunId:t,factoryNumber:n,progress:a})))},100)}const i=await Xn.run(l.unwrap(),{loading:{text:" ..."},success:{text:" ",toastOptions:{duration:700}},error:{toastOptions:{duration:3e3}}},{id:"fetch-sensors"});return void 0!==e&&clearInterval(e),(null==a?void 0:a.aborted)?(s(Jc({technicalRunId:t,factoryNumber:n,success:!1,error:void 0})),{data:i,wasAborted:!0}):(void 0!==r&&r(100),s(Xc({technicalRunId:t,factoryNumber:n,progress:100})),s(_c({technicalRunId:t,factoryNumber:n,sensors:i})),s(Jc({technicalRunId:t,factoryNumber:n,success:!0})),{data:i,wasAborted:!1})}catch(c){if(null!==c&&"object"==typeof c&&"name"in c&&"AbortError"===c.name||(null==a?void 0:a.aborted))return s(Jc({technicalRunId:t,factoryNumber:n,success:!1,error:void 0})),{data:[],wasAborted:!0};const e=null!==c&&"object"==typeof c&&"message"in c&&"string"==typeof c.message?c.message:"  ";return s(Jc({technicalRunId:t,factoryNumber:n,success:!1,error:e})),i(e)}finally{null==(o=l.unsubscribe)||o.call(l)}}),zu="_container_1kevx_3",$u="_icon_1kevx_13",Bu="_message_1kevx_23",Uu="_retryButton_1kevx_35";function Qu({message:e,onRetry:t}){return n.jsxs("div",{className:zu,children:[n.jsx("div",{className:$u,children:""}),n.jsx("p",{className:Bu,children:e}),t&&n.jsx("button",{className:Uu,onClick:t,children:" "})]})}const Vu="_container_3g5d5_3",Hu="_label_3g5d5_15",Wu="_select_3g5d5_29";function Ku(e){try{return new Date(e).toLocaleString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return e}}function Gu(e){const t=new Date(e.dateStarTime).getTime();return new Date(e.dateEndTime).getTime()-t}const Yu="dateStartAsc",Zu="dateStartDesc",Xu="dateEndAsc",Ju="dateEndDesc",ed="nameAsc",td="nameDesc",nd="durationAsc",ad="durationDesc",rd=[{value:Zu,label:" :  "},{value:Yu,label:" :  "},{value:Ju,label:" :  "},{value:Xu,label:" :  "},{value:ed,label:":   "},{value:td,label:":   "},{value:nd,label:":   "},{value:ad,label:":   "}];const sd="factoryNumberAsc",id="factoryNumberDesc",od="nameAsc",ld="nameDesc",cd=[{value:sd,label:" :  "},{value:id,label:" :  "},{value:od,label:":   "},{value:ld,label:":   "}];function ud({value:e,onChange:t,className:a}){const r=$.useCallback(e=>{t(e.target.value)},[t]);return n.jsxs("div",{className:Nu(Vu,a),children:[n.jsx("label",{htmlFor:"sort-select",className:Hu,children:":"}),n.jsx("select",{id:"sort-select",className:Wu,value:e,onChange:r,"aria-label":"  ",children:rd.map(e=>n.jsx("option",{value:e.value,children:e.label},e.value))})]})}const dd="_container_4jn9u_3",fd="_input_4jn9u_13",pd="_icon_4jn9u_55",md="_clearButton_4jn9u_75";function hd({value:e,onChange:t,onClear:a,placeholder:r}){const s=$.useCallback(e=>{t(e.target.value)},[t]),i=$.useCallback(t=>{"Escape"===t.key&&e&&a()},[e,a]);return n.jsxs("div",{className:dd,children:[n.jsx("input",{type:"text",className:fd,value:e,onChange:s,onKeyDown:i,placeholder:r??"...","aria-label":""}),e&&n.jsx("button",{className:md,onClick:a,"aria-label":" ",type:"button",children:""}),n.jsx("span",{className:pd,"aria-hidden":"true",children:""})]})}const gd="_container_1yl5a_3",vd="_progressBar_1yl5a_13",yd="_progressFill_1yl5a_31",bd="_message_1yl5a_45",xd="_percentage_1yl5a_57";function _d({progress:e,message:t}){return n.jsxs("div",{className:gd,children:[n.jsx("div",{className:vd,children:n.jsx("div",{className:yd,style:{width:`${Math.min(100,Math.max(0,e))}%`}})}),t&&n.jsx("p",{className:bd,children:t}),n.jsxs("p",{className:xd,children:[Math.round(e),"%"]})]})}const Sd="_button_13c7t_3";function Nd({text:e,label:t,className:a}){const[r,s]=$.useState(!1),i=$.useCallback(async t=>{t.stopPropagation();try{await navigator.clipboard.writeText(e),s(!0),setTimeout(()=>{s(!1)},2e3)}catch(n){}},[e]);return n.jsx("button",{className:Nu(Sd,a),onClick:i,"aria-label":t??"",title:r?"!":"",type:"button",children:r?"":""})}const wd="_container_1q6r1_3",kd="_input_1q6r1_23",Cd="_searchButton_1q6r1_75",Id="_clearButton_1q6r1_135";function Td({onSearch:e,onClear:t,isActive:a,className:r}){const[s,i]=$.useState(""),o=$.useCallback(e=>{i(e.target.value)},[]),l=$.useCallback(()=>{const t=s.trim();t&&e(t)},[s,e]),c=$.useCallback(()=>{i(""),t()},[t]),u=$.useCallback(e=>{"Enter"===e.key&&(e.preventDefault(),l())},[l]);return n.jsxs("div",{className:Nu(wd,r),children:[n.jsx("input",{type:"text",className:kd,placeholder:"  ...",value:s,onChange:o,onKeyDown:u,"aria-label":"   "}),n.jsx("button",{type:"button",className:Cd,onClick:l,disabled:!s.trim(),"aria-label":" ",title:"    ",children:" "}),a&&n.jsx("button",{type:"button",className:Id,onClick:c,"aria-label":"  ",title:"     ",children:" "})]})}function Md(){const e=ma(),t=ha(ru),a=ha(cu),r=ha(fu),s=ha(pu),i=ha(iu),[o,l]=$.useState(""),[c,u]=$.useState(void 0),[d,f]=$.useState(Ju),p=ha(au);$.useEffect(()=>{void 0!==t&&(r||p.length>0||void 0===s&&e(Fu({databaseId:t.id})))},[t,e,r,p.length,s]);const m=$.useMemo(()=>{let e=p;if(o.trim()){const t=o.toLowerCase().trim();e=p.filter(e=>{const n="string"==typeof e.name&&e.name.toLowerCase().includes(t),a=new Date(e.dateStarTime).toLocaleDateString("ru-RU"),r=new Date(e.dateEndTime).toLocaleDateString("ru-RU"),s=a.includes(t)||r.includes(t);return n||s})}return function(e,t){const n=[...e];switch(t){case Yu:return n.sort((e,t)=>new Date(e.dateStarTime).getTime()-new Date(t.dateStarTime).getTime());case Zu:return n.sort((e,t)=>{const n=new Date(e.dateStarTime).getTime();return new Date(t.dateStarTime).getTime()-n});case Xu:return n.sort((e,t)=>new Date(e.dateEndTime).getTime()-new Date(t.dateEndTime).getTime());case Ju:return n.sort((e,t)=>{const n=new Date(e.dateEndTime).getTime();return new Date(t.dateEndTime).getTime()-n});case ed:return n.sort((e,t)=>{const n=e.name??"",a=t.name??"";return n.localeCompare(a,"ru",{numeric:!0,sensitivity:"base"})});case td:return n.sort((e,t)=>{const n=e.name??"";return(t.name??"").localeCompare(n,"ru",{numeric:!0,sensitivity:"base"})});case nd:return n.sort((e,t)=>Gu(e)-Gu(t));case ad:return n.sort((e,t)=>{const n=Gu(e);return Gu(t)-n});default:throw new Error(`  : ${t}`)}}(e,d)},[p,o,d]),h=$.useCallback(()=>{if(void 0===(null==t?void 0:t.id))return;const n=c;e(Fu({databaseId:t.id,factoryNumber:n}))},[e,t,c]),g=$.useCallback(e=>{l(e)},[]),v=$.useCallback(()=>{l("")},[]),y=$.useCallback(e=>{f(e)},[]),b=$.useCallback(t=>{e(Sc({id:t.id,name:t.name}))},[e]),x=$.useCallback(n=>{void 0!==(null==t?void 0:t.id)&&(u(n),e(Nc(n)),e(Fu({databaseId:t.id,factoryNumber:n})))},[e,t]),_=$.useCallback(()=>{void 0!==(null==t?void 0:t.id)&&(u(void 0),e(Nc(void 0)),e(Fu({databaseId:t.id})))},[e,t]);if(r)return n.jsx("div",{className:wu.container,children:n.jsx(_d,{progress:a.progress,message:" ..."})});if(void 0!==s)return n.jsx("div",{className:wu.container,children:n.jsx(Qu,{message:s,onRetry:h})});const S=o.trim()&&0===m.length;return n.jsxs("div",{className:wu.containerTechnicalRunsPanel,children:[n.jsxs("div",{className:wu.header,children:[n.jsx("h2",{className:wu.title,children:""}),n.jsx("span",{className:wu.count,children:o.trim()?`${m.length}  ${p.length}`:p.length})]}),n.jsxs("div",{className:wu.controls,children:[void 0!==c&&n.jsxs("div",{className:wu.activeFilterBadge,children:[":  ",n.jsx("strong",{children:c})]}),n.jsx(Td,{onSearch:x,onClear:_,isActive:void 0!==c}),n.jsx(hd,{value:o,onChange:g,onClear:v,placeholder:"    ..."}),n.jsx(ud,{value:d,onChange:y})]}),n.jsx("div",{className:wu.list,children:0===p.length?n.jsx("div",{className:wu.placeholder,children:void 0!==c?`     ${c}`:"  "}):S?n.jsxs("div",{className:wu.placeholder,children:['     "',o,'"']}):n.jsx("ul",{className:wu.items,children:m.map(e=>n.jsx("li",{className:Nu(wu.item,i===e.id&&wu.itemActive),onClick:()=>b(e),children:n.jsxs("div",{className:wu.itemContent,children:[n.jsx("h3",{className:wu.itemName,children:"string"==typeof e.name?e.name:" "}),n.jsxs("div",{className:wu.info,children:[n.jsxs("span",{children:["ID:",e.id]}),n.jsx(Nd,{className:wu.btnCopyFactoryNumber,text:e.id,label:" ID "})]}),n.jsxs("div",{className:wu.itemDates,children:[n.jsx("span",{className:wu.itemDate,children:Ku(e.dateStarTime)}),n.jsx("span",{className:wu.itemDate,children:Ku(e.dateEndTime)})]})]})},e.id))})})]})}const jd="_container_jhu5h_3",Ed="_tabs_jhu5h_23",Ad="_closeAllButton_jhu5h_73",Rd="_placeholder_jhu5h_111",Dd="_tab_ibk5a_3",Ld="_active_ibk5a_41",Pd="_title_ibk5a_57",Fd="_closeButton_ibk5a_87";function Od({tab:e,isActive:t,onActivate:a,onClose:r}){const s=$.useCallback(e=>{e.stopPropagation(),r()},[r]);return n.jsxs("div",{className:Nu(Dd,t&&Ld),onClick:a,role:"tab","aria-selected":t,children:[n.jsx("span",{className:Pd,title:e.name??" ",children:e.name??" "}),n.jsx("button",{className:Fd,onClick:s,"aria-label":" ",type:"button",children:""})]})}function qd(){const e=ma(),t=ha(su),a=ha(iu),r=$.useCallback(()=>{e(Cc())},[e]);return 0===t.length?n.jsx("div",{className:jd,children:n.jsx("div",{className:Rd,children:"    "})}):n.jsxs("div",{className:jd,children:[n.jsx("div",{className:Ed,children:t.map(t=>n.jsx(Od,{tab:t,isActive:t.id===a,onActivate:()=>e(kc(t.id)),onClose:()=>e(wc(t.id))},t.id))}),t.length>1&&n.jsx("button",{className:Ad,onClick:r,title:" ",children:" "})]})}const zd="_container_tpc1f_3",$d="_header_tpc1f_19",Bd="_title_tpc1f_37",Ud="_count_tpc1f_51",Qd="_controls_tpc1f_69",Vd="_list_tpc1f_87",Hd="_placeholder_tpc1f_115",Wd="_error_tpc1f_135",Kd="_container_2hxgm_3",Gd="_label_2hxgm_15",Yd="_select_2hxgm_29";function Zd({value:e,onChange:t,className:a}){const r=$.useCallback(e=>{t(e.target.value)},[t]);return n.jsxs("div",{className:Nu(Kd,a),children:[n.jsx("label",{htmlFor:"device-sort-select",className:Gd,children:":"}),n.jsx("select",{id:"device-sort-select",className:Yd,value:e,onChange:r,"aria-label":"   ",children:cd.map(e=>n.jsx("option",{value:e.value,children:e.label},e.value))})]})}const Xd=Object.freeze([]);const Jd=oe({name:"tabs",initialState:{byId:{},allIds:[],activeTabId:void 0},reducers:{createTab(e,t){const{id:n,name:a}=t.payload;if(n in e.byId)return;const r=a??` ${e.allIds.length+1}`;e.byId[n]={id:n,name:r,contextIds:[],visibleContextIds:[],syncEnabled:!1,syncContextIds:[]},e.allIds=[...e.allIds,n],e.activeTabId=n},setActiveTab(e,t){const n=t.payload;n in e.byId&&(e.activeTabId=n)},closeTab(e,t){const n=t.payload;n in e.byId&&(delete e.byId[n],e.allIds=e.allIds.filter(e=>e!==n),e.activeTabId===n&&(e.activeTabId=e.allIds[0]))},renameTab(e,t){const{tabId:n,name:a}=t.payload,r=e.byId[n];r&&(e.byId[n]={...r,name:a})},addContextToTab(e,t){const{tabId:n,contextId:a}=t.payload,r=e.byId[n];r&&(r.contextIds.includes(a)||(e.byId[n]={...r,contextIds:[...r.contextIds,a],visibleContextIds:[...r.visibleContextIds,a]}))},removeContextFromTab(e,t){const{tabId:n,contextId:a}=t.payload,r=e.byId[n];r&&(e.byId[n]={...r,contextIds:r.contextIds.filter(e=>e!==a),visibleContextIds:r.visibleContextIds.filter(e=>e!==a),syncContextIds:r.syncContextIds.filter(e=>e!==a)})},toggleContextVisibility(e,t){const{tabId:n,contextId:a}=t.payload,r=e.byId[n];if(!r)return;const s=r.visibleContextIds.includes(a)?r.visibleContextIds.filter(e=>e!==a):[...r.visibleContextIds,a];e.byId[n]={...r,visibleContextIds:s}},showAllContexts(e,t){const n=t.payload,a=e.byId[n];a&&(e.byId[n]={...a,visibleContextIds:[...a.contextIds]})},hideAllContexts(e,t){const n=t.payload,a=e.byId[n];a&&(e.byId[n]={...a,visibleContextIds:[]})},clearTabContexts(e,t){const n=t.payload,a=e.byId[n];a&&(e.byId[n]={...a,contextIds:[],visibleContextIds:[],syncContextIds:[]})},toggleTabSync(e,t){const n=t.payload,a=e.byId[n];if(!a)return;const r=!a.syncEnabled;e.byId[n]={...a,syncEnabled:r,syncContextIds:r?a.syncContextIds:[]}},addSyncContext(e,t){const{tabId:n,contextId:a}=t.payload,r=e.byId[n];r&&(r.syncContextIds.includes(a)||(e.byId[n]={...r,syncContextIds:[...r.syncContextIds,a]}))},removeSyncContext(e,t){const{tabId:n,contextId:a}=t.payload,r=e.byId[n];r&&(e.byId[n]={...r,syncContextIds:r.syncContextIds.filter(e=>e!==a)})},clearTabSyncContexts(e,t){const n=t.payload,a=e.byId[n];a&&(e.byId[n]={...a,syncContextIds:[]})},clearAllTabs(e){e.byId={},e.allIds=[],e.activeTabId=void 0}}}),ef=je({key:"charts-tabs",storage:jo},Jd.reducer),{createTab:tf,setActiveTab:nf,closeTab:af,renameTab:rf,addContextToTab:sf,removeContextFromTab:of,toggleContextVisibility:lf,showAllContexts:cf,hideAllContexts:uf,clearTabContexts:df,clearAllTabs:ff,toggleTabSync:pf,addSyncContext:mf,removeSyncContext:hf,clearTabSyncContexts:gf}=Jd.actions,vf=e=>e.tabs.activeTabId,yf=e=>e.tabs.allIds,bf=re([e=>e.tabs.byId,(e,t)=>t],(e,t)=>e[t]),xf=re([bf],e=>null==e?void 0:e.name),_f=re([bf],e=>(null==e?void 0:e.contextIds)??Xd),Sf=re([bf],e=>(null==e?void 0:e.visibleContextIds)??Xd);re([bf,(e,t,n)=>n],(e,t)=>(null==e?void 0:e.visibleContextIds.includes(t))??!1),re([_f],e=>e.length),re([_f],e=>e.length>0),re([e=>e.tabs.byId,vf],(e,t)=>{if(void 0!==t)return e[t]});const Nf=re([e=>e.tabs.byId,yf],(e,t)=>t.map(t=>e[t]));re([yf],e=>e.length>0),re([yf],e=>e.length);const wf=re([bf],e=>(null==e?void 0:e.syncEnabled)??!1),kf=re([bf],e=>(null==e?void 0:e.syncContextIds)??Xd);re([bf,(e,t,n)=>n],(e,t)=>!!e&&e.syncContextIds.includes(t));const Cf=re([kf],e=>e.length),If=/{{\s*([\w:.\-]+)\s*}}/g;function Tf(e){if(!e)return[];const t=[];let n;for(If.lastIndex=0;null!==(n=If.exec(e));){const e=(n[1]||"").trim();e&&!t.includes(e)&&t.push(e)}return t}function Mf(e,t){const n=[];return(e??[]).forEach(e=>{(function(e){const t=[],n=e=>Tf(e).forEach(e=>{t.includes(e)||t.push(e)});return"string"==typeof e?n(e):Array.isArray(e)&&e.forEach(e=>{"string"==typeof e&&n(e)}),t})(e.value).forEach(e=>{n.includes(e)||n.push(e)})}),(null==t?void 0:t.whereSql)&&Tf(t.whereSql).forEach(e=>{n.includes(e)||n.push(e)}),n}function jf(e){return Mf(e.where,e.sql??null)}function Ef(e,t){return(e??[]).find(e=>((null==e?void 0:e.key)??"").trim()===t.trim())}function Af(e,t){if(null==e)return e;const n=(t??"").toLowerCase().trim(),a=n.endsWith("[]"),r=a?n.slice(0,-2):n,s=e=>{if(null==e)return e;const t="string"==typeof e?e.trim():String(e);if(["int","integer","smallint","bigint","int4","int8"].includes(r)){const n=parseInt(t,10);return Number.isFinite(n)?n:e}if(["double","float","float8","real","float4","numeric","decimal"].includes(r)){const n=Number(t.replace(",","."));return Number.isFinite(n)?n:e}if(["bool","boolean"].includes(r)){const e=t.toLowerCase();return"true"===e||"1"===e||"yes"===e||"y"===e||"on"===e}return"string"==typeof e?e:t};if(!a)return s(e);return(i=e,Array.isArray(i)?i.map(e=>null==e?"":String(e)):"string"==typeof i?i.split(/[,;]+/).map(e=>e.trim()).filter(e=>e.length>0):[String(i)]).map(s);var i}function Rf(e,t){const n=e.params,a=null==n?void 0:n.map(e=>{var n;const a=((null==e?void 0:e.key)??"").trim(),r=t[a];return{...e,value:Af(r,null==(n=null==e?void 0:e.field)?void 0:n.type)}});return{...e,params:a}}var Df=(e=>(e.Initial="initial",e.Zoom="zoom",e.Pan="pan",e.Refresh="refresh",e))(Df||{});const Lf=q(C()),Pf={syncFields:[],template:void 0,view:{},isDataLoaded:!1};function Ff(e,t){return t in e.chartContexts||(e.chartContexts[t]={contextId:t,syncFields:[],template:void 0,view:{},isDataLoaded:!1}),e.chartContexts[t]}const Of=oe({name:"contexts",initialState:{chartContexts:{}},reducers:{createContext(e,t){const{contextId:n,template:a}=t.payload;void 0===e.chartContexts[n]&&(e.chartContexts[n]={contextId:n,template:a,view:{},syncFields:[],isDataLoaded:!1})},deleteContext(e,t){const n=t.payload;delete e.chartContexts[n]},clearContext(e,t){const n=t.payload;void 0!==e.chartContexts[n]&&(e.chartContexts[n]={contextId:n,...Pf})},iniTopTile(e,t){var n;const{contextId:a,field:r,bucketMs:s,tile:i}=t.payload,o=e.chartContexts[a];if(!o)return;const l=o.view[r];l&&(null==(n=l.seriesLevel[s])||n.push(i))},updateResolvedCharReqTemplate(e,t){const{contextId:n,template:a}=t.payload;e.chartContexts[n]&&(e.chartContexts[n].template=a)},initialDataView(e,t){const{contextId:n,field:a,px:r,currentRange:s,originalRange:i,currentBucketsMs:o,seriesLevels:l,error:c}=t.payload;if(void 0===n)return;const u=e.chartContexts[n];if(!u)return;const d={};for(const f of l)d[f]=[];u.view[a]={originalRange:i,currentRange:s,currentBucketsMs:o,seriesLevel:d,px:r,loadingState:{active:!1,type:Df.Initial,progress:0,startTime:0},error:c}},initialViews(e,t){const{contextId:n,px:a,fields:r}=t.payload;if(void 0===n)return;const s=e.chartContexts[n];s&&r.forEach(e=>{e.name in s.view||(s.view[e.name]={originalRange:{fromMs:0,toMs:0},currentRange:{fromMs:0,toMs:0},currentBucketsMs:0,seriesLevel:{},px:a,loadingState:{active:!1,type:Df.Initial,progress:0,startTime:0},error:void 0})})},updateView(e,t){const{contextId:n,field:a,px:r}=t.payload,s=e.chartContexts[n];if(!s)return;const i=s.view[a];i&&(i.px=r)},setViewRange(e,t){const{contextId:n,field:a,range:r}=t.payload,s=e.chartContexts[n];if(!s)return;const i=s.view[a];i&&(i.currentRange=r)},setViewBucket(e,t){const{contextId:n,field:a,bucketMs:r}=t.payload,s=e.chartContexts[n];if(!s)return;const i=s.view[a];i&&(i.currentBucketsMs=r)},setLoadingState(e,t){const{contextId:n,field:a,loadingState:r}=t.payload,s=e.chartContexts[n];if(!s)return;const i=s.view[a];i&&(i.loadingState=r)},startLoading(e,t){const{contextId:n,field:a,type:r,message:s}=t.payload,i=e.chartContexts[n];if(!i)return;const o=i.view[a];o&&(o.loadingState={active:!0,type:r,progress:0,startTime:Date.now(),message:s})},startLoadingFields(e,t){const{contextId:n,fields:a,type:r,messageError:s}=t.payload,i=e.chartContexts[n];i&&a.forEach(e=>{const t=i.view[e.name];t&&(t.loadingState={active:!0,type:r,progress:0,startTime:Date.now(),message:s})})},updateLoadingProgress(e,t){const{contextId:n,field:a,progress:r,message:s}=t.payload,i=e.chartContexts[n];if(!i)return;const o=i.view[a];o&&o.loadingState.active&&(o.loadingState={...o.loadingState,progress:Math.min(r,100),message:s})},finishLoadings(e,t){const{contextId:n,fields:a,success:r}=t.payload,s=e.chartContexts[n];s&&a.forEach(e=>{const t=s.view[e.name];t&&(t.loadingState={active:!1,type:Df.Initial,progress:100,startTime:0,success:r})})},finishLoading(e,t){const{contextId:n,field:a,message:r,success:s}=t.payload,i=e.chartContexts[n];if(!i)return;const o=i.view[a];o&&(o.loadingState={active:!1,type:Df.Initial,progress:r?100:0,startTime:0,message:r,success:s})},setFieldError(e,t){const{contextId:n,fieldName:a,errorMessage:r}=t.payload,s=e.chartContexts[n];if(!s)return;const i=s.view[a];i&&(i.error=r)},clearFieldError(e,t){const{contextId:n,fieldName:a}=t.payload,r=e.chartContexts[n];if(!r)return;const s=r.view[a];s&&(s.error=void 0)},registerRequest(e,t){const{contextId:n,field:a,bucketMs:r,interval:s,requestId:i}=t.payload,o=Ff(e,n).view[a];if(!o)throw Error("view   "+a+"  ");o.seriesLevel[r]||(o.seriesLevel[r]=[]),o.seriesLevel[r].push({coverageInterval:s,bins:[],status:"loading",requestId:i})},completeRequest(e,t){const{contextId:n,field:a,bucketMs:r,requestId:s,bins:i}=t.payload,o=e.chartContexts[n];if(!o)return;const l=o.view[a];if(!l)return;const c=l.seriesLevel[r];if(!c)return;const u=c.find(e=>e.requestId===s);null!=u&&(u.bins=i,u.status="loading",delete u.requestId)},failRequest(e,t){const{contextId:n,field:a,bucketMs:r,requestId:s,error:i}=t.payload,o=e.chartContexts[n];if(!o)return;const l=o.view[a];if(!l)return;const c=l.seriesLevel[r];if(!c)return;const u=c.find(e=>e.requestId===s);u&&(u.status="error",u.error=i,delete u.requestId)},addContextSyncField(e,t){const{contextId:n,field:a}=t.payload,r=Ff(e,n);r.syncFields.some(e=>e.name===a.name)||(r.syncFields=[...r.syncFields,a])},removeContextSyncField(e,t){const{contextId:n,fieldName:a}=t.payload,r=Ff(e,n);r.syncFields=r.syncFields.filter(e=>e.name!==a)},clearContextSyncFields(e,t){Ff(e,t.payload).syncFields=[]},setIsDataLoaded(e,t){const{contextId:n,isLoaded:a}=t.payload,r=e.chartContexts[n];r&&(r.isDataLoaded=a)},setPx(e,t){const{contextId:n,px:a}=t.payload,r=e.chartContexts[n];r&&Object.values(r.view).forEach(e=>{e.px=a})},clearField(e,t){const{contextId:n,fieldName:a}=t.payload,r=e.chartContexts[n];r&&delete r.view[a]},clearAll(e){e.chartContexts={}},batchUpdateTiles(e,t){const{contextId:n,updates:a}=t.payload,r=e.chartContexts[n];r&&a.forEach(e=>{const t=r.view[e.field];t&&(t.seriesLevel[e.bucketMs]=e.tiles)})}}}),qf=Of.reducer,zf=je({key:"charts",storage:Lf.createInstance({name:"ChartsDB",storeName:"charts_data",description:"Cached chart tiles data"}),version:1,throttle:2e3,debug:!0},qf),{createContext:$f,deleteContext:Bf,clearContext:Uf,iniTopTile:Qf,updateResolvedCharReqTemplate:Vf,initialDataView:Hf,initialViews:Wf,updateView:Kf,setViewRange:Gf,setViewBucket:Yf,setLoadingState:Zf,startLoading:Xf,startLoadingFields:Jf,updateLoadingProgress:ep,finishLoadings:tp,finishLoading:np,setFieldError:ap,clearFieldError:rp,registerRequest:sp,completeRequest:ip,failRequest:op,addContextSyncField:lp,removeContextSyncField:cp,clearContextSyncFields:up,setIsDataLoaded:dp,setPx:fp,clearField:pp,clearAll:mp,batchUpdateTiles:hp}=Of.actions;async function gp(e,t,n,a,r,s,i,o){try{const l=r.find(e=>e.id===s),c=r.find(e=>e.id===i);if(!l)return void alert("   .  .");if(!c)return void alert("   .  .");const u=n.factoryNumber??"",d=t.id,f=So();e(tf({id:f,name:`${n.name??""} - ${n.factoryNumber}`})),e(nf(f));const p={deviceId:u,technicalRunToStartId:d},m=Rf({...l,databaseId:o},p),h=So();e($f({contextId:h,template:m})),e(sf({tabId:f,contextId:h}));for(const t of a){const n={deviceId:u,technicalRunToStartId:d,channelNumber:t.channelNumber??0},a=Rf({...c,databaseId:o},n);a.name=`${c.name} -  ${t.channelNumber} (${t.gas??"N/A"}) ${t.displayUnits??""}(${t.mainUnits??""})`;const r=So();e($f({contextId:r,template:a})),e(sf({tabId:f,contextId:r}))}}catch(l){alert("   . .   .")}}const vp="_container_w66o0_7",yp="_tabs_w66o0_65",bp="_tabWrapper_w66o0_81",xp="_tab_w66o0_65",_p="_tabActive_w66o0_147",Sp="_tabTitle_w66o0_173",Np="_tabCount_w66o0_205",wp="_buildButton_w66o0_229";function kp({devices:e,selectedPort:t,onPortChange:a,technicalRun:r,databaseId:s,dispatch:i,allTemplates:o,defaultBaseTemplateId:l,defaultSensorTemplateId:c}){const[u,d]=$.useState(void 0),[f,p]=$.useState(void 0),m=$.useRef(s);$.useEffect(()=>{m.current=s},[s]);const h=$.useMemo(()=>{const t=new Set;for(const n of e){if(!("comPortName"in n))continue;const e=n.comPortName;"string"==typeof e&&""!==e.trim()&&t.add(e.trim())}return Array.from(t).sort((e,t)=>{const n=parseInt(e.replace(/\D/g,""),10),a=parseInt(t.replace(/\D/g,""),10);return Number.isNaN(n)&&Number.isNaN(a)?e.localeCompare(t):Number.isNaN(n)?1:Number.isNaN(a)?-1:n-a})},[e]),g=$.useCallback(e=>{a(t===e?void 0:e)},[t,a]),v=$.useCallback(t=>e.filter(e=>{if(!("comPortName"in e))return!1;const n=e.comPortName;return"string"==typeof n&&n.trim()===t}),[e]),y=$.useCallback(e=>v(e).length,[v]),b=$.useCallback(async(e,t)=>{if(e.stopPropagation(),void 0===m.current)return void Xn.error("Database is undefined");const n=v(t);if(0!==n.length){p(t);try{for(const e of n){const t="factoryNumber"in e&&"string"==typeof e.factoryNumber?e.factoryNumber:"";if(""===t)continue;if(void 0===l){Xn.error(`defaultBaseTemplateId is undefined | ${t} | ${e.id}`);continue}if(void 0===c){Xn.error(`defaultSensorTemplateId is undefined | ${t} | ${e.id}`);continue}let n=[];try{n=(await i(qu({databaseId:m.current,technicalRunId:r.id,factoryNumber:t,signal:(new AbortController).signal})).unwrap()).data}catch(a){continue}await gp(i,r,e,n,o,l,c,m.current)}Xn.success(`   ${n.length}   ${t}`)}catch(a){Xn.error("  ")}finally{p(void 0)}}else Xn.error(`    ${t}`)},[v,r,i,o,l,c]);return 0===h.length?null:n.jsx("div",{className:vp,children:n.jsx("div",{className:yp,children:h.map(e=>{const a=y(e),r=u===e,s=f===e;return n.jsxs("div",{className:bp,onMouseEnter:()=>d(e),onMouseLeave:()=>d(void 0),children:[n.jsxs("button",{type:"button",className:Nu(xp,t===e&&_p),onClick:()=>g(e),title:t===e?`  ${e}`:`  ${e}`,children:[n.jsx("span",{className:Sp,children:e}),n.jsxs("span",{className:Np,children:["(",a,")"]})]}),r&&n.jsx("button",{type:"button",className:wp,onClick:t=>{b(t,e)},disabled:s,title:`      ${e}`,"aria-label":`   ${e}`,children:s?"":""})]},e)})})})}const Cp={item:"_item_132aq_3",selected:"_selected_132aq_29",header:"_header_132aq_39",expandButton:"_expandButton_132aq_55",btnCopyFactoryNumber:"_btnCopyFactoryNumber_132aq_91",comPortLabel:"_comPortLabel_132aq_111",arrow:"_arrow_132aq_121",expanded:"_expanded_132aq_135",content:"_content_132aq_143",nameContainer:"_nameContainer_132aq_159",name:"_name_132aq_159",metaRow:"_metaRow_132aq_185",factoryNumber:"_factoryNumber_132aq_199",gasesContainer:"_gasesContainer_132aq_211",gasBadge:"_gasBadge_132aq_225",displayUnit:"_displayUnit_132aq_249",chartButton:"_chartButton_132aq_265",children:"_children_132aq_315",loading:"_loading_132aq_325",empty:"_empty_132aq_327"},Ip="_list_6djr2_3",Tp="_item_1hdjp_3",Mp="_content_1hdjp_21",jp="_gas_1hdjp_35",Ep="_channel_1hdjp_47",Ap="_modification_1hdjp_57";function Rp({sensor:e}){return n.jsx("li",{className:Tp,children:n.jsxs("div",{className:Mp,children:[n.jsx("span",{className:jp,children:e.gas}),n.jsxs("span",{className:Ep,children:[" ",e.channelNumber]}),e.modification&&n.jsxs("span",{className:Ap,children:[e.modification," ",e.displayUnits," (",e.mainUnits,")"]})]})})}function Dp({sensors:e}){return n.jsx("ul",{className:Ip,children:e.map((e,t)=>n.jsx(Rp,{sensor:e},`${e.gas}-${e.channelNumber}-${t}`))})}function Lp({device:e,technicalRun:t,isFirst:a,isHighlighted:r}){const s=Ie(bu),i=Ie(xu);if(void 0===t||void 0===e)return n.jsx("li",{className:Cp.item,children:n.jsx("div",{className:Cp.error,children:":     "})});const o=ma(),l=ha(ru),c=$.useRef(l),u="factoryNumber"in e&&"string"==typeof e.factoryNumber?e.factoryNumber:"",d=ha(e=>((e,t)=>e.mirax.expandedDeviceFactoryNumbers.includes(t))(e,u)),f=ha(ou)===u,p=$.useRef(void 0),m=$.useRef(!1);$.useEffect(()=>{c.current=l},[l]);const h=ha(e=>e.chartsTemplates.items),g=ha(e=>gu(e,t.id,u)),v=ha(e=>du(e,t.id,u)).isLoading;$.useEffect(()=>{if(!a)return;if(!m.current&&void 0!==l&&""!==u&&0===g.length&&!v){m.current=!0;const e=new AbortController;p.current=e,o(qu({databaseId:l.id,technicalRunId:t.id,factoryNumber:u,signal:e.signal}))}},[a,l,t.id,u,g.length,v,o]);const y=$.useCallback(()=>{u&&o(Ec(u))},[o,u]),b=$.useCallback(async e=>{var n;if(e.stopPropagation(),u&&(o(Oc(u)),!d&&0===g.length&&void 0!==(null==l?void 0:l.id))){null==(n=p.current)||n.abort(),p.current=new AbortController;try{await o(qu({databaseId:l.id,technicalRunId:t.id,factoryNumber:u,signal:p.current.signal})).unwrap()}catch(a){null!==a&&"object"==typeof a&&"name"in a&&a.name}}},[o,u,d,g.length,l,t.id]),x=$.useCallback(async n=>{if(n.stopPropagation(),void 0===c.current)return void Xn.error("Database is undefined");let a=g;if(0===g.length&&u)try{a=(await o(qu({databaseId:c.current.id,technicalRunId:t.id,factoryNumber:u,signal:(new AbortController).signal})).unwrap()).data}catch(r){return}await gp(o,t,e,a,h,s,i,c.current.id)},[t,e,g,u,o,h,s,i]);return n.jsxs("li",{className:Nu(Cp.item,f&&Cp.selected,r&&Cp.highlighted),children:[n.jsxs("div",{className:Cp.header,onClick:y,children:[n.jsx("button",{className:Cp.expandButton,onClick:b,"aria-expanded":d,"aria-label":d?"":"",disabled:!u,type:"button",children:n.jsx("span",{className:Nu(Cp.arrow,d&&Cp.expanded),children:""})}),n.jsx("span",{className:Cp.comPortLabel,children:e.comPortName}),n.jsxs("div",{className:Cp.content,children:[n.jsxs("div",{className:Cp.nameContainer,children:[n.jsx("h4",{className:Cp.name,children:e.factoryNumber}),n.jsx(Nd,{className:Cp.btnCopyFactoryNumber,text:e.factoryNumber,label:" factoryNumber "})]}),n.jsxs("div",{className:Cp.metaRow,children:[e.factoryNumber&&n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:Cp.factoryNumber,children:["ID:",e.id]}),n.jsx(Nd,{className:Cp.btnCopyFactoryNumber,text:e.id,label:" ID "})]}),!v&&g.length>0&&n.jsx("div",{className:Cp.gasesContainer,children:g.map(e=>n.jsxs("div",{className:Cp.gasBadge,children:[e.gas," ",n.jsx("div",{className:Cp.displayUnit,children:e.displayUnits})]},e.gas))}),n.jsx("button",{className:Cp.chartButton,onClick:x,title:" ",type:"button",children:" "})]})]})]}),d&&n.jsx("div",{className:Cp.children,children:v?n.jsx("div",{className:Cp.loading,children:" ..."}):g.length>0?n.jsx(Dp,{sensors:g}):n.jsx("div",{className:Cp.empty,children:" "})})]})}const Pp="_list_om2q9_5",Fp="_deviceWrapper_om2q9_23",Op="_deviceWrapperActive_om2q9_35",qp="_errorState_om2q9_85",zp="_emptyState_om2q9_87";function $p({devices:e,technicalRun:t,activeFactoryNumber:a}){const r=$.useRef(null),s=$.useMemo(()=>void 0===a?-1:e.findIndex(e=>"factoryNumber"in e&&("string"==typeof e.factoryNumber&&e.factoryNumber===a)),[e,a]);return $.useEffect(()=>{if(void 0===a)return;if(-1===s)return;const e=requestAnimationFrame(()=>{const e=setTimeout(()=>{null!==r.current&&r.current.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},150);return()=>clearTimeout(e)});return()=>{cancelAnimationFrame(e)}},[a,s,e.length]),void 0===t?n.jsx("div",{className:qp,children:":   "}):0===e.length?n.jsx("div",{className:zp,children:" "}):n.jsx("ul",{className:Pp,children:e.map((e,a)=>{const i=a===s,o=0===a;return n.jsx("div",{ref:i?r:null,className:Nu(Fp,i&&Op),children:n.jsx(Lp,{device:e,technicalRun:t,isFirst:o,isHighlighted:i})},e.id)})})}function Bp({technicalRunId:e}){const t=ma(),a=ha(ru),r=ha(t=>uu(t,e)),s=ha(t=>((e,t)=>{var n;return(null==(n=e.mirax.devicesLoading[t])?void 0:n.isLoading)??!1})(t,e)),i=ha(t=>((e,t)=>{var n;return null==(n=e.mirax.devicesLoading[t])?void 0:n.error})(t,e)),o=ha(t=>vu(t,e)),l=ha(t=>yu(t,e)),c=ha(e=>e.chartsTemplates.items),u=ha(bu),d=ha(xu),[f,p]=$.useState(""),[m,h]=$.useState(void 0),[g,v]=$.useState(sd),y=ha(_u);$.useEffect(()=>{void 0===(null==a?void 0:a.id)||0!==l.length||s||void 0!==i||t(Ou({databaseId:a.id,technicalRunId:e}))},[t,a,e,l.length,s,i]);const b=$.useMemo(()=>{let e=l;if(void 0!==m&&(e=e.filter(e=>{if(!("comPortName"in e))return!1;const t=e.comPortName;return"string"==typeof t&&t.trim()===m})),f.trim()){const t=f.toLowerCase().trim();e=e.filter(e=>{const n="name"in e&&"string"==typeof e.name&&e.name.toLowerCase().includes(t),a="factoryNumber"in e&&"string"==typeof e.factoryNumber&&e.factoryNumber.toLowerCase().includes(t);return n||a})}return function(e,t){const n=[...e];switch(t){case sd:return n.sort((e,t)=>{const n=e.factoryNumber??"",a=t.factoryNumber??"";if(!n&&a)return 1;if(n&&!a)return-1;if(!n&&!a)return 0;const r=parseInt(n,10),s=parseInt(a,10);return isNaN(r)||isNaN(s)?n.localeCompare(a,"ru",{numeric:!0,sensitivity:"base"}):r-s});case id:return n.sort((e,t)=>{const n=e.factoryNumber??"",a=t.factoryNumber??"";if(!n&&a)return 1;if(n&&!a)return-1;if(!n&&!a)return 0;const r=parseInt(n,10),s=parseInt(a,10);return isNaN(r)||isNaN(s)?a.localeCompare(n,"ru",{numeric:!0,sensitivity:"base"}):s-r});case od:return n.sort((e,t)=>{const n=e.name??"",a=t.name??"";return!n&&a?1:n&&!a?-1:n||a?n.localeCompare(a,"ru",{numeric:!0,sensitivity:"base"}):0});case ld:return n.sort((e,t)=>{const n=e.name??"",a=t.name??"";return!n&&a?1:n&&!a?-1:n||a?a.localeCompare(n,"ru",{numeric:!0,sensitivity:"base"}):0});default:throw new Error(`   : ${t}`)}}(e,g)},[l,m,f,g]),x=$.useCallback(e=>{p(e)},[]),_=$.useCallback(()=>{p("")},[]),S=$.useCallback(e=>{h(e)},[]),N=$.useCallback(e=>{v(e)},[]),w=$.useCallback(()=>{void 0!==(null==a?void 0:a.id)&&t(Ou({databaseId:a.id,technicalRunId:e}))},[t,a,e]),k=(f.trim()||void 0!==m)&&0===b.length;return void 0===o?n.jsx("div",{className:zd,children:n.jsx("div",{className:Wd,children:":    "})}):void 0!==i?n.jsx("div",{className:zd,children:n.jsx(Qu,{message:i,onRetry:w})}):s?n.jsx("div",{className:zd,children:n.jsx(_d,{progress:r.progress,message:" ..."})}):n.jsxs("div",{className:zd,children:[n.jsxs("div",{className:$d,children:[n.jsx("h2",{className:Bd,children:""}),l.length>0&&n.jsx("span",{className:Ud,children:f.trim()||void 0!==m?`${b.length}  ${l.length}`:l.length})]}),l.length>0&&n.jsxs("div",{className:Qd,children:[n.jsx(hd,{value:f,onChange:x,onClear:_,placeholder:" ..."}),n.jsx(Zd,{value:g,onChange:N})]}),void 0!==(null==a?void 0:a.id)&&n.jsx(kp,{devices:l,selectedPort:m,onPortChange:S,technicalRun:o,databaseId:a.id,dispatch:t,allTemplates:c,defaultBaseTemplateId:u,defaultSensorTemplateId:d}),n.jsx("div",{className:Vd,children:0===l.length?n.jsx("div",{className:Hd,children:" "}):k?n.jsx("div",{className:Hd,children:void 0===m||f.trim()?`     "${f}"`:`    ${m}`}):n.jsx($p,{devices:b,technicalRun:o,activeFactoryNumber:y})})]})}const Up=zn({reducerPath:"metadataApi",baseQuery:Eu(),tagTypes:["Metadata/databases/all","Metadata/databases/create","Metadata/databases/update","Metadata/databases/delete","Metadata/databases/entities","Metadata/databases/fields"],endpoints:e=>({getDatabases:e.query({query:()=>({url:aa.DATABASES.All,method:"get"}),providesTags:["Metadata/databases/all"],keepUnusedDataFor:300}),createDatabase:e.mutation({query:e=>({url:aa.DATABASES.CREATE,method:"post",data:e}),invalidatesTags:["Metadata/databases/create"]}),updateDatabase:e.mutation({query:e=>({url:`${aa.DATABASES.UPDATE(e.id)}`,method:"put",data:e}),invalidatesTags:["Metadata/databases/update"]}),deleteDatabase:e.mutation({query:({id:e})=>({url:`${aa.DATABASES.DELETE(e)}`,method:"delete"}),invalidatesTags:[{type:"Metadata/databases/delete"}]}),getEntities:e.mutation({query:()=>({url:aa.DATABASES.ENTITIES,method:"get"}),invalidatesTags:[{type:"Metadata/databases/entities"}]}),getEntityFields:e.mutation({query:({entity:e})=>({url:aa.DATABASES.FIELDS,method:"get",params:{entity:e}}),invalidatesTags:[{type:"Metadata/databases/fields"}]})})}),Qp=zn({reducerPath:"chartReqTemplatesApi",baseQuery:Eu(),tagTypes:["Templates/all","Templates/create","Templates/update","Templates/delete"],endpoints:e=>({getTemplates:e.query({query:()=>({url:aa.TEMPLATES.All,method:"get"}),providesTags:["Templates/all"],keepUnusedDataFor:300}),createTemplate:e.mutation({query:e=>({url:aa.TEMPLATES.CREATE,method:"post",data:e}),invalidatesTags:["Templates/create"]}),updateTemplate:e.mutation({query:e=>({url:aa.TEMPLATES.UPDATE(e.id),method:"put",data:e}),invalidatesTags:["Templates/update"]}),deleteTemplate:e.mutation({query:e=>({url:aa.TEMPLATES.DELETE(e),method:"delete"}),invalidatesTags:["Templates/delete"]})})});function Vp(e){e&&("function"==typeof e.unsubscribe?e.unsubscribe():"function"==typeof e.reset&&e.reset())}const Hp=e=>e.id,Wp={activeTemplate:{},items:[],listLoaded:!1,loading:{list:!1,create:!1,update:!1,delete:!1},errors:{list:void 0,create:void 0,update:void 0,delete:void 0},getTemplateById:{}},Kp=ie("chartsTemplates/fetchAll",async(e,{getState:t,dispatch:n})=>{var a;const r=!(!e||!e.force),s=t().chartsTemplates;if(!r&&s.listLoaded&&s.items.length>0)return;n(sm({key:"list",value:!0}));const i=n(Qp.endpoints.getTemplates.initiate());try{const e=await Xn.run(i.unwrap(),{loading:{text:" "},success:{text:" ",toastOptions:{duration:700}},error:{text:"   ",toastOptions:{duration:3e3}}},{id:"fetch-fields"}),{getDatabasesById:a}=t().chartsMeta,r=e.map(e=>{const t=e.database??a[e.databaseId];return t?{...e,database:t}:{...e}});n(tm(r)),n(rm(!0)),n(om("list"))}catch(o){const e=(null==(a=null==o?void 0:o.data)?void 0:a.errorMessage)??("string"==typeof(null==o?void 0:o.data)?o.data:void 0)??(null==o?void 0:o.message)??"Request failed";n(im({key:"list",error:e}))}finally{n(sm({key:"list",value:!1})),Vp(i)}}),Gp=ie("chartsTemplates/create",async(e,{dispatch:t})=>{var n;t(sm({key:"create",value:!0}));const a=t(Qp.endpoints.createTemplate.initiate(e));try{const e=await Xn.run(a.unwrap(),{loading:{text:" "},success:{text:"  ",toastOptions:{duration:700}},error:{text:"   ",toastOptions:{duration:3e3}}},{id:"fetch-fields"});e&&t(nm(e)),t(om("create"))}catch(r){const e=(null==(n=null==r?void 0:r.data)?void 0:n.errorMessage)??("string"==typeof(null==r?void 0:r.data)?r.data:void 0)??(null==r?void 0:r.message)??"Request failed";t(im({key:"create",error:e}))}finally{t(sm({key:"create",value:!1})),Vp(a)}}),Yp=ie("chartsTemplates/update",async(e,{dispatch:t})=>{var n;t(sm({key:"update",value:!0}));const a=t(Qp.endpoints.updateTemplate.initiate(e));try{const e=await Xn.run(a.unwrap(),{loading:{text:" "},success:{text:"  ",toastOptions:{duration:700}},error:{text:"   ",toastOptions:{duration:3e3}}},{id:"fetch-fields"});e&&t(nm(e)),t(om("update"))}catch(r){const e=(null==(n=null==r?void 0:r.data)?void 0:n.errorMessage)??("string"==typeof(null==r?void 0:r.data)?r.data:void 0)??(null==r?void 0:r.message)??"Request failed";t(im({key:"update",error:e}))}finally{t(sm({key:"update",value:!1})),Vp(a)}}),Zp=ie("chartsTemplates/delete",async({id:e},{dispatch:t})=>{var n;t(sm({key:"delete",value:!0}));const a=t(Qp.endpoints.deleteTemplate.initiate(e));try{await Xn.run(a.unwrap(),{loading:{text:" "},success:{text:"   !",toastOptions:{duration:700}},error:{text:"    !",toastOptions:{duration:3e3}}},{id:"fetch-fields"}),t(am(e)),t(om("delete"))}catch(r){const e=(null==(n=null==r?void 0:r.data)?void 0:n.errorMessage)??("string"==typeof(null==r?void 0:r.data)?r.data:void 0)??(null==r?void 0:r.message)??"Request failed";t(im({key:"delete",error:e}))}finally{t(sm({key:"delete",value:!1})),Vp(a)}});ie("chartsMeta/applyTemplate",(e,{getState:t,dispatch:n})=>{var a,r;const s=t(),i=(null==(a=e.database)?void 0:a.id)??e.databaseId;if(!i)throw new Error("databaseId is undefined");const o=s.chartsMeta.getDatabasesById[i];if(!o)throw new Error("database is undefined");const l=null==(r=e.entity)?void 0:r.name,c=l?o.entities.find(e=>e.name===l):void 0,u={...e,database:o,entity:c};n(Jp(u))});const Xp=oe({name:"chartsTemplates",initialState:Wp,reducers:{setActiveTemplate(e,t){e.activeTemplate.id!=t.payload.id&&(e.activeTemplate=t.payload)},setTemplateDatabase(e,t){const n=e.getTemplateById[t.payload.itemId];void 0!==n&&(n.database=t.payload.database)},setTemplates(e,t){e.items=t.payload,e.items.forEach(t=>{e.getTemplateById[t.id]=t})},upsertTemplate(e,t){const n=t.payload,a=Hp(n),r=e.items.findIndex(e=>Hp(e)===a);r>=0?(e.items[r]=n,e.getTemplateById[n.id]=n):(e.items.unshift(n),e.getTemplateById[n.id]=n)},removeTemplate(e,t){e.items=e.items.filter(e=>Hp(e)!==t.payload),e.getTemplateById={},e.items.forEach(t=>{e.getTemplateById[t.id]=t})},setChartTemplatesListLoaded(e,t){e.listLoaded=t.payload},setChartTemplatesLoading(e,t){const{key:n,value:a}=t.payload;e.loading[n]=a,a&&(e.errors[n]=void 0)},setChartTemplatesError(e,t){const{key:n,error:a}=t.payload;e.errors[n]=a??"Unknown error"},clearChartTemplatesError(e,t){e.errors[t.payload]=void 0},clearAllTemplateData:()=>({...Wp}),setActiveTemplateDb(e,t){const n=t.payload;e.activeTemplate.databaseId=n.id,e.activeTemplate.database=n,e.activeTemplate.entity=e.activeTemplate.database.entities[0],e.activeTemplate.selectedFields=[]},setActiveTemplateEntity(e,t){e.activeTemplate.entity=t.payload},clearBoundActiveTemplate(e){e.activeTemplate.id=void 0},setActiveTemplateWhere(e,t){e.activeTemplate.where=t.payload},setActiveTemplateSql(e,t){e.activeTemplate.sql=t.payload},setActiveTemplateParams(e,t){e.activeTemplate.params=t.payload},setActiveTemplateTimeField(e,t){e.activeTemplate.timeField=t.payload},setActiveTemplateName(e,t){e.activeTemplate.name=t.payload},setActiveTemplateDesc(e,t){e.activeTemplate.description=t.payload},setActiveTemplateRange(e,t){e.activeTemplate.originalFromMs!=t.payload.fromMs&&(e.activeTemplate.originalFromMs=t.payload.fromMs),e.activeTemplate.originalToMs!=t.payload.toMs&&(e.activeTemplate.originalToMs=t.payload.toMs)},setActiveTemplateSelectedFields(e,t){e.activeTemplate.selectedFields=t.payload},toggleActiveTemplateSelectedField(e,t){const n=t.payload,a=e.activeTemplate.selectedFields??[],r=a.findIndex(e=>e.name===n.name);e.activeTemplate.selectedFields=r>=0?a.filter((e,t)=>t!==r):[...a,n]},resetActiveTemplateEntitiesAndFields(e){e.activeTemplate.entity=void 0,e.activeTemplate.selectedFields=[]},resetActiveTemplateOnLoad(e){e.activeTemplate={},e.loading={list:!1,create:!1,update:!1,delete:!1},e.errors={list:void 0,create:void 0,update:void 0,delete:void 0}}}}),{setActiveTemplate:Jp,setTemplateDatabase:em,setTemplates:tm,upsertTemplate:nm,removeTemplate:am,setChartTemplatesListLoaded:rm,setChartTemplatesLoading:sm,setChartTemplatesError:im,clearChartTemplatesError:om,setActiveTemplateEntity:lm,setActiveTemplateDb:cm,setActiveTemplateTimeField:um,setActiveTemplateSelectedFields:dm,toggleActiveTemplateSelectedField:fm,clearBoundActiveTemplate:pm,resetActiveTemplateEntitiesAndFields:mm,setActiveTemplateWhere:hm,setActiveTemplateSql:gm,setActiveTemplateParams:vm,clearAllTemplateData:ym,setActiveTemplateName:bm,setActiveTemplateDesc:xm,setActiveTemplateRange:_m,resetActiveTemplateOnLoad:Sm}=Xp.actions,Nm=e=>{var t;return null==(t=e.chartsTemplates.activeTemplate.database)?void 0:t.entities},wm=e=>e.chartsTemplates.activeTemplate.entity,km=e=>{var t,n;return null==(n=null==(t=e.chartsTemplates.activeTemplate)?void 0:t.entity)?void 0:n.fields},Cm=e=>e.chartsTemplates.activeTemplate.timeField,Im=e=>e.chartsTemplates.activeTemplate.selectedFields,Tm=e=>e.chartsTemplates.activeTemplate.database,Mm=e=>e.chartsTemplates.activeTemplate,jm=e=>e.chartsTemplates.items,Em=e=>e.chartsTemplates.loading,Am=e=>e.chartsTemplates.listLoaded,Rm=e=>e.chartsTemplates.getTemplateById,Dm=je({key:"chartsTemplates",storage:Tt,whitelist:[]},Xp.reducer),Lm={databases:[],loading:{databases:!1,entities:!1,fields:!1},errors:{databases:void 0,entities:void 0,fields:void 0},databasesLoaded:!1,getDatabasesById:{},databaseLoadingStates:{}},Pm=ie("chartsMeta/fetchDatabases",async(e,{getState:t,dispatch:n})=>{var a;const r=!(!e||!e.force),s=t().chartsMeta;if(!r&&s.databasesLoaded&&s.databases.length>0)return;n(Qm({key:"databases",value:!0}));const i=n(Up.endpoints.getDatabases.initiate());try{const e=await Xn.run(i.unwrap(),{loading:{text:" "},success:{text:" ",toastOptions:{duration:700}},error:{text:"   ",toastOptions:{duration:3e3}}},{id:"fetch-databases"});e.forEach(e=>{n(Um({dbId:e.id,state:"success"}))}),n(qm(e)),n(zm(!0)),n(Hm("databases"))}catch(o){const e=(null==(a=null==o?void 0:o.data)?void 0:a.errorMessage)??("string"==typeof(null==o?void 0:o.data)?o.data:void 0)??(null==o?void 0:o.message)??"Request failed";n(Vm({key:"databases",error:e}))}finally{n(Qm({key:"databases",value:!1})),i.unsubscribe()}}),Fm=ie("chartsMeta/fetchEntities",async(e,{getState:t,dispatch:n})=>{var a;const r=t().chartsTemplates.activeTemplate.database;if(!r)throw new Error("Database does not exist");n(Um({dbId:r.id,state:"loading"})),n(Qm({key:"entities",value:!0}));const s=n(Up.endpoints.getEntities.initiate());try{const e=await Xn.run(s.unwrap(),{loading:{text:" "},success:{text:" ",toastOptions:{duration:700}},error:{text:"   ",toastOptions:{duration:3e3}}},{id:"fetch-entities"});n($m({dbId:r.id,entities:e})),n(Um({dbId:r.id,state:"success"})),n(Hm("entities"))}catch(i){n($m({dbId:r.id,entities:void 0})),n(Um({dbId:r.id,state:"error"}));const e=(null==(a=null==i?void 0:i.data)?void 0:a.errorMessage)??("string"==typeof(null==i?void 0:i.data)?i.data:void 0)??(null==i?void 0:i.message)??"Request failed";n(Vm({key:"entities",error:e}))}finally{n(Qm({key:"entities",value:!1}))}});ie("chartsMeta/fetchEntityFields",async(e,{getState:t,dispatch:n})=>{var a,r;const s=t().chartsTemplates,i=s.activeTemplate.database,o=null==(a=s.activeTemplate.entity)?void 0:a.name;if(null==i)throw Error("databaseId is undefined");if(null==o)throw Error("entity name is undefined");const l=e&&e.entity||s.activeTemplate.entity;if(!l)return void n(Bm({dbId:i.id,entity:l,fields:void 0}));n(Um({dbId:i.id,state:"loading"})),n(Qm({key:"fields",value:!0}));const c=n(Up.endpoints.getEntityFields.initiate({entity:l}));try{const e=await Xn.run(c.unwrap(),{loading:{text:" "},success:{text:" ",toastOptions:{duration:700}},error:{text:"   ",toastOptions:{duration:3e3}}},{id:"fetch-fields"})??[];n(Bm({dbId:i.id,entity:l,fields:e})),n(Um({dbId:i.id,state:"success"}));const t=new Set(e.map(e=>e.name));n(dm(s.activeTemplate.selectedFields.filter(e=>t.has(e.name)))),n(Hm("fields"))}catch(u){n(Bm({dbId:i.id,entity:l,fields:void 0})),n(Um({dbId:i.id,state:"error"}));const e=(null==(r=null==u?void 0:u.data)?void 0:r.errorMessage)??("string"==typeof(null==u?void 0:u.data)?u.data:void 0)??(null==u?void 0:u.message)??"Request failed";n(Vm({key:"fields",error:e}))}finally{n(Qm({key:"fields",value:!1}))}});const Om=oe({name:"chartsMeta",initialState:Lm,reducers:{setFieldsDatabase(e,t){const n=t.payload.dbId,a=e.getDatabasesById[n];if(!a)throw Error("database is undefined");const r=a.entities.find(e=>e.name==t.payload.entity);if(!r)throw Error("entity is undefined");r.fields=t.payload.fields??[]},setDatabases(e,t){e.databases=t.payload??[],e.databases.forEach(t=>{e.getDatabasesById[t.id]=t})},setDatabasesLoaded(e,t){e.databasesLoaded=t.payload},setEntitiesDatabase(e,t){const n=t.payload.dbId,a=e.getDatabasesById[n];if(null==a)throw Error("database is undefined");a.entities=t.payload.entities??[]},setDatabaseLoadingState(e,t){const{dbId:n,state:a}=t.payload;e.databaseLoadingStates[n]=a},setDatabasesLoading(e,t){const{key:n,value:a}=t.payload;e.loading[n]=a,a&&(e.errors[n]=void 0)},setDatabasesError(e,t){const{key:n,error:a}=t.payload;e.errors[n]=a??"Unknown error"},clearDatabasesError(e,t){const n=t.payload;e.errors[n]=void 0},resetDatabasesState:()=>({...Lm})}}),{setDatabases:qm,setDatabasesLoaded:zm,setEntitiesDatabase:$m,setFieldsDatabase:Bm,setDatabaseLoadingState:Um,setDatabasesLoading:Qm,setDatabasesError:Vm,clearDatabasesError:Hm}=Om.actions,Wm=e=>e.chartsMeta.databases,Km=e=>e.chartsMeta.getDatabasesById,Gm=e=>e.chartsMeta.databasesLoaded,Ym=e=>e.chartsMeta.loading,Zm=e=>e.chartsMeta.errors,Xm=je({key:"chartsMeta",storage:Tt,whitelist:[]},Om.reducer);function Jm(){const e=ma(),t=ha(iu),a=ha(ru),r=Ie(Gm),s=Ie(Ym).databases,i=Ie(Km),o=Ie(Wm);$.useEffect(()=>{s||r||e(Pm())},[e,r,s]),$.useEffect(()=>{if(!s&&r&&(null==o?void 0:o.length)>0&&null==a){const t=o.find(e=>"default"==e.name);t&&e(vc(t))}},[e,s,r,o]);return r?0===o.length?n.jsx("div",{className:rc,children:n.jsx("div",{className:ic,children:"   "})}):n.jsxs("div",{className:Gl,children:[n.jsxs("div",{className:Yl,children:[n.jsx("label",{htmlFor:"database-select",className:Jl,children:null==a?n.jsx("span",{className:Zl,children:'   "'}):n.jsx(n.Fragment,{children:n.jsx("div",{className:Xl})})}),n.jsxs("select",{id:"database-select",className:ec,value:(null==a?void 0:a.id)??"",onChange:t=>{const n=t.target.value,a=i[n];void 0!==a&&e(vc(a))},children:[n.jsx("option",{value:"",disabled:!0,children:"  "}),o.map(e=>n.jsx("option",{value:e.id,children:e.name},e.id))]})]}),void 0===a?n.jsx("div",{className:rc,children:n.jsx("div",{className:ic,children:"   "})}):n.jsxs("div",{className:tc,children:[n.jsx(Md,{}),n.jsxs("div",{className:nc,children:[n.jsx(qd,{}),n.jsx("div",{className:ac,children:void 0!==t?n.jsx(Bp,{technicalRunId:t}):n.jsx("div",{className:sc,children:n.jsx("div",{className:ic,children:"  "})})})]})]})]}):n.jsx("div",{className:rc,children:n.jsx("div",{className:ic,children:"  ..."})})}const eh="_backdrop_1hs48_1",th="_dialog_1hs48_21",nh="_title_1hs48_43",ah="_desc_1hs48_55",rh="_actions_1hs48_67",sh="_btn_1hs48_79",ih="_primary_1hs48_101",oh="_danger_1hs48_111",lh=$.createContext(void 0);function ch(){const e=$.useContext(lh);if(!e)throw new Error("useConfirm must be used within <ConfirmProvider>");return e}const uh=({children:e})=>{const t=$.useRef(void 0),[a,r]=$.useState(!1),[s,i]=$.useState({}),o=e=>{var n;r(!1),null==(n=t.current)||n.call(t,e),t.current=void 0},l=$.useCallback(e=>(i(e??{}),r(!0),new Promise(e=>{t.current=e})),[]),c=e=>{"Escape"!==e.key||s.disableBackdropClose||o(!1),"Enter"===e.key&&o(!0)},u=$.useMemo(()=>a?G.createPortal(n.jsx("div",{className:eh,"aria-hidden":!a,onMouseDown:()=>!s.disableBackdropClose&&o(!1),children:n.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":"confirm-title","aria-describedby":"confirm-desc",className:th,onMouseDown:e=>e.stopPropagation(),onKeyDown:c,tabIndex:-1,children:[s.title&&n.jsx("h3",{id:"confirm-title",className:nh,children:s.title}),s.description&&n.jsx("p",{id:"confirm-desc",className:ah,children:s.description}),n.jsxs("div",{className:rh,children:[n.jsx("button",{type:"button",className:sh,onClick:()=>o(!1),children:s.cancelText??"Cancel"}),n.jsx("button",{type:"button",className:`${sh} ${s.danger?oh:ih}`,onClick:()=>o(!0),autoFocus:!0,children:s.confirmText??"Confirm"})]})]})}),document.body):null,[a,s]);return n.jsxs(lh.Provider,{value:l,children:[e,u]})},dh="_container_1i604_1",fh="_emptyText_1i604_11",ph="_list_1i604_41",mh="_card_1i604_53",hh="_blockId_1i604_105",gh="_btnCopyFactoryNumber_1i604_123",vh="_cardTitle_1i604_133",yh="_cardDescr_1i604_143",bh="_btnExec_1i604_159",xh="_btnExecRun_1i604_205",_h="_card_center_1i604_213",Sh="_actions_1i604_235",Nh="_btnDelete_1i604_261",wh="_btnExecEdit_1i604_277",kh={wrap:"_wrap_14k8f_1",full:"_full_14k8f_21",icon:"_icon_14k8f_37",spin:"_spin_14k8f_45",label:"_label_14k8f_71"},Ch=({label:e,fullScreen:t,className:a,threePointOffset:r})=>n.jsxs("div",{className:[kh.wrap,t?kh.full:"",a??""].join(" "),role:"status","aria-live":"polite",children:[n.jsx(I,{className:`${kh.icon} ${kh.spin}`,"aria-hidden":!0}),n.jsx("span",{className:kh.label,style:{marginLeft:r||null==r&&null==e?6:0},children:e??""})]});function Ih({items:e,onPick:t,onDelete:a,onExecute:r,onExecuteShow:s}){const i=Ie(Em),o=Ie(Mm),{theme:l}=_a();return n.jsxs("div",{className:dh,"data-theme":l,children:[i.list&&n.jsx(Ch,{}),0===e.length&&!i.list&&n.jsx("div",{className:fh,children:"  "}),n.jsx("div",{className:ph,children:e.map(e=>{const c=e.id,u=e.name,d=e.description;return n.jsxs("div",{"data-theme":l,className:mh,onClick:()=>t(e),"data-active":o.id===c,children:[n.jsxs("div",{className:hh,children:[n.jsxs("span",{children:["ID:",e.id]}),n.jsx(Nd,{className:gh,text:e.id,label:" Id "})]}),n.jsxs("div",{className:_h,children:[n.jsxs("div",{className:Sh,children:[n.jsx("button",{className:`${bh} ${Nh}`,onClick:()=>a(c,u),title:"",disabled:i.delete,children:i.delete?"":n.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:n.jsx("path",{d:"M3 6H21M8 6V4C8 3.45 8.45 3 9 3H15C15.55 3 16 3.45 16 4V6M10 11V17M14 11V17M4 6H20V20C20 21.10 19.10 22 18 22H6C4.90 22 4 21.10 4 20V6Z",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),n.jsx("button",{className:`${bh} ${wh}`,onClick:()=>{s(e)},title:"",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M12 20h9"}),n.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})})]}),n.jsx("div",{className:vh,children:u}),d&&n.jsx("div",{className:yh,children:d})]}),n.jsx("button",{className:`${bh} ${xh}`,onClick:()=>{r(e)},title:"",children:""})]},c)})})]})}const Th="_backdrop_73mj9_3",Mh="_modal_73mj9_25",jh="_modalHeader_73mj9_47",Eh="_modalTitle_73mj9_65",Ah="_btnClose_73mj9_75",Rh="_modalBody_73mj9_101",Dh="_fieldRow_73mj9_115",Lh="_fieldLabel_73mj9_129",Ph="_metaText_73mj9_137",Fh="_badge_73mj9_147",Oh="_input_73mj9_169",qh="_inputError_73mj9_191",zh="_modalFooter_73mj9_201",$h="_btnPrimary_73mj9_219",Bh="_btnSecondary_73mj9_221",Uh="_container_1ic8i_5",Qh="_timezoneContainer_1ic8i_17",Vh="_timezoneInfo_1ic8i_31",Hh="_timezoneLabel_1ic8i_119",Wh="_row_1ic8i_165",Kh="_row_a_1ic8i_177",Gh="_label_1ic8i_189",Yh="_input_1ic8i_237",Zh="_helpers_1ic8i_289",Xh="_helperBtn_1ic8i_299",Jh="_error_1ic8i_359",eg=[1e3,2e3,5e3,1e4,15e3,2e4,3e4,6e4,12e4,3e5,6e5,9e5,18e5,36e5,72e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,15552e6,31536e6,63072e6,15768e7];function tg(e,t,n,a=!1,r=52){const s=Math.max(1,t-e),i=Math.max(20,Math.floor(.05*n)),o=Math.max(1,s/i);for(const l of eg)if(l>=o)return l;if(a){const e=6048e5;let t=Math.ceil(o/e);return t=Math.max(1,Math.min(t,r)),Math.round(t*e)}return eg.length>0?eg[eg.length-1]:6048e5}const ng=oe({name:"chartsSettings",initialState:{bucketing:{targetPointsPerPx:.05,minTargetPoints:20,enableWeeklyMultiples:!1,maxWeeksMultiple:52,niceMilliseconds:eg},timeSettings:{useTimeZone:!0,timeZone:"UTC"}},reducers:{setTimeSettings(e,t){e.timeSettings=t.payload}}}),ag=e=>e.chartsSettings.timeSettings,rg=e=>e.chartsSettings.bucketing,{setTimeSettings:sg}=ng.actions,ig=ng.reducer;function og(e){if(null==e)return;if(e instanceof Date)return isNaN(e.getTime())?void 0:e;const t=new Date(e);return isNaN(t.getTime())?void 0:t}function lg(e,t){const n=og(e);if(!n)return"";const a=e=>String(e).padStart(2,"0");if((null==t?void 0:t.useTimeZone)&&"UTC"===(null==t?void 0:t.timeZone)){return`${n.getUTCFullYear()}-${a(n.getUTCMonth()+1)}-${a(n.getUTCDate())}T${a(n.getUTCHours())}:${a(n.getUTCMinutes())}`}return`${n.getFullYear()}-${a(n.getMonth()+1)}-${a(n.getDate())}T${a(n.getHours())}:${a(n.getMinutes())}`}function cg(e,t){if(!e)return;const[n,a]=e.split("T");if(!n||!a)return;const[r,s,i]=n.split("-").map(Number),[o,l]=a.split(":").map(Number);return(null==t?void 0:t.useTimeZone)&&"UTC"===(null==t?void 0:t.timeZone)?new Date(Date.UTC(r??0,(s??1)-1,i??1,o??0,l??0,0,0)):new Date(r??0,(s??1)-1,i??1,o??0,l??0,0,0)}function ug(e,t,n){const a=og(e);if(!a||isNaN(a.getTime()))return"";const r={timeZone:t.useTimeZone?t.timeZone:void 0,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1,...n};try{return new Intl.DateTimeFormat("ru-RU",r).format(a)}catch(s){return""}}const dg=({range:e,onChange:t,labelFrom:a="From",labelTo:r="To",disabled:s})=>{const i=ha(ag),o=$.useMemo(()=>function(e){if(!e.useTimeZone)return"";const t=e.timeZone;if("UTC"===t)return"+00:00";try{const e=new Date,n=new Intl.DateTimeFormat("en-US",{timeZone:t,hour:"numeric",minute:"numeric",hour12:!1}),a=new Intl.DateTimeFormat("en-US",{timeZone:"UTC",hour:"numeric",minute:"numeric",hour12:!1}),r=n.format(e),s=a.format(e),[i,o]=r.split(":").map(Number),[l,c]=s.split(":").map(Number);if(!(i&&o&&l&&c))return"";let u=60*i+o-(60*l+c);u>720&&(u-=1440),u<-720&&(u+=1440);const d=u>=0?"+":"-",f=Math.abs(u),p=Math.floor(f/60),m=f%60;return`${d}${p.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}`}catch(n){return""}}(i),[i]),l=$.useMemo(()=>lg(e.fromMs,i),[e.fromMs,i]),c=$.useMemo(()=>lg(e.toMs,i),[e.toMs,i]),u=!!e.fromMs&&!!e.toMs&&e.fromMs>=e.toMs;return n.jsxs("div",{className:Uh,children:[i.useTimeZone&&n.jsx("div",{className:Qh,children:n.jsx("div",{className:Vh,children:n.jsxs("span",{className:Hh,children:[" : ",i.timeZone," (",o,")"]})})}),n.jsxs("div",{className:Wh,children:[n.jsx("label",{className:Gh,htmlFor:"from",children:a}),n.jsxs("div",{className:Kh,children:[n.jsx("input",{id:"from",className:Yh,type:"datetime-local",value:l,max:c||void 0,onChange:n=>{var a;return t({fromMs:null==(a=cg(n.target.value,i))?void 0:a.getTime(),toMs:e.toMs})},disabled:s}),n.jsxs("div",{className:Zh,children:[n.jsx("button",{type:"button",className:Xh,onClick:()=>t({fromMs:void 0,toMs:e.toMs}),disabled:s,children:"Clear"}),n.jsx("button",{type:"button",className:Xh,onClick:()=>t({fromMs:(new Date).getTime(),toMs:e.toMs}),disabled:s,children:"Now"})]})]})]}),n.jsxs("div",{className:Wh,children:[n.jsx("label",{className:Gh,htmlFor:"to",children:r}),n.jsxs("div",{className:Kh,children:[n.jsx("input",{id:"to",className:Yh,type:"datetime-local",value:c,min:l||void 0,onChange:n=>{var a;return t({toMs:null==(a=cg(n.target.value,i))?void 0:a.getTime(),fromMs:e.fromMs})},disabled:s}),n.jsxs("div",{className:Zh,children:[n.jsx("button",{type:"button",className:Xh,onClick:()=>t({toMs:void 0,fromMs:e.fromMs}),disabled:s,children:"Clear"}),n.jsx("button",{type:"button",className:Xh,onClick:()=>t({toMs:(new Date).getTime(),fromMs:e.fromMs}),disabled:s,children:"Now"})]})]})]}),u&&n.jsxs("div",{className:Jh,children:["",a,"    ",r,""]})]})};function fg({template:e,onCancel:t,onSubmit:a}){const r=$.useMemo(()=>jf(e),[e]),s=$.useMemo(()=>(null==e?void 0:e.params)??[],[e]),[i,o]=$.useState({});$.useEffect(()=>{const e={};r.forEach(t=>{const n=Ef(s,t),a=(null==n?void 0:n.value)??(null==n?void 0:n.defaultValue);e[t]=null!=a?String(a):""}),o(e)},[r,s]);const[l,c]=$.useState({fromMs:e.originalFromMs,toMs:e.originalToMs});$.useEffect(()=>{c({fromMs:e.originalFromMs,toMs:e.originalToMs})},[e]);const u=function(e,t,n){return e.some(e=>{const a=Ef(t,e);return!!(null==a?void 0:a.required)&&""===String(n[e]??"").trim()})}(r,s,i);return $.useEffect(()=>{const e=e=>{"Escape"===e.key&&t()};document.addEventListener("keydown",e);const n=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow=n}},[t]),n.jsx("div",{className:Th,onClick:t,role:"dialog","aria-modal":"true",children:n.jsxs("div",{className:Mh,onClick:e=>e.stopPropagation(),children:[n.jsxs("div",{className:jh,children:[n.jsx("div",{className:Eh,children:e.name||" "}),n.jsx("button",{className:Ah,onClick:t,"aria-label":"",children:""})]}),n.jsxs("div",{className:Rh,children:[n.jsx(dg,{range:l,onChange:e=>c(e)}),r.map(e=>{const t=Ef(s,e),a=!!(null==t?void 0:t.required),r=""===String(i[e]??"").trim();return n.jsxs("div",{className:Dh,children:[n.jsxs("div",{className:Lh,children:[n.jsx("code",{children:`{{${e}}}`}),a&&n.jsx("span",{className:Fh,children:"required"}),(null==t?void 0:t.type)&&n.jsxs("div",{className:Ph,children:["type: ",t.type]}),(null==t?void 0:t.description)&&n.jsx("div",{className:Ph,children:t.description})]}),n.jsx("input",{className:`${Oh} ${a&&r?qh:""}`,value:i[e]??"",onChange:t=>o(n=>({...n,[e]:t.target.value})),placeholder:(null==t?void 0:t.description)||e})]},e)})]}),n.jsxs("div",{className:zh,children:[n.jsx("button",{className:Bh,onClick:t,children:""}),n.jsx("button",{className:$h,disabled:u,onClick:()=>{if(u)return;const e={};for(const t of r)e[t]=i[t];a({values:e,range:l})},title:u?"  ":"OK",children:"OK"})]})]})})}const pg="_chartTemplatePanelContainer_1aqqh_1",mg="_templates_1aqqh_31",hg="_dataSourcePanel_1aqqh_43",gg="_backdrop_1jdq7_5",vg="_modal_1jdq7_51",yg="_modalHeader_1jdq7_99",bg="_modalTitle_1jdq7_115",xg="_btnClose_1jdq7_127",_g="_modalBody_1jdq7_167",Sg="_optionNew_1jdq7_213",Ng="_optionTab_1jdq7_249",wg="_optionIcon_1jdq7_287",kg="_optionContent_1jdq7_321",Cg="_optionTitle_1jdq7_329",Ig="_optionDescription_1jdq7_343",Tg="_divider_1jdq7_355",Mg="_dividerText_1jdq7_387",jg="_tabsList_1jdq7_407",Eg="_modalFooter_1jdq7_451",Ag="_btnCancel_1jdq7_469";function Rg({onSelectExisting:e,onCreateNew:t,onCancel:a}){const r=Ie(Nf);return $.useEffect(()=>{const e=e=>{"Escape"===e.key&&a()};document.addEventListener("keydown",e);const t=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow=t}},[a]),n.jsx("div",{className:gg,onClick:a,role:"dialog","aria-modal":"true",children:n.jsxs("div",{className:vg,onClick:e=>e.stopPropagation(),children:[n.jsxs("div",{className:yg,children:[n.jsx("div",{className:bg,children:"  ?"}),n.jsx("button",{className:xg,onClick:a,"aria-label":"",type:"button",children:""})]}),n.jsxs("div",{className:_g,children:[n.jsxs("button",{className:Sg,onClick:t,type:"button",children:[n.jsx("span",{className:wg,children:"+"}),n.jsxs("div",{className:kg,children:[n.jsx("div",{className:Cg,children:"  "}),n.jsx("div",{className:Ig,children:"     "})]})]}),r.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:Tg,children:n.jsx("span",{className:Mg,children:"   "})}),n.jsx("div",{className:jg,children:r.map(t=>n.jsxs("button",{className:Ng,onClick:()=>e(t.id),type:"button",children:[n.jsx("span",{className:wg,children:""}),n.jsxs("div",{className:kg,children:[n.jsx("div",{className:Cg,children:t.name}),n.jsx("div",{className:Ig,children:0===t.contextIds.length?" ":`${t.contextIds.length} ${1===t.contextIds.length?"":""}`})]})]},t.id))})]})]}),n.jsx("div",{className:Eg,children:n.jsx("button",{className:Ag,onClick:a,type:"button",children:""})})]})})}const Dg={};function Lg(){const e=ma(),t=Ie(Wm),a=Ie(Tm),r=Ie(Km),s=Ie(Ym).databases,i=Ie(Zm).databases,o=Ie(Gm);$.useEffect(()=>{o||s||e(Pm({force:!1}))},[e,o,s]);return n.jsxs("section",{style:{display:"grid",gap:6},children:[n.jsx("label",{style:{fontSize:12,opacity:.85},children:" "}),n.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[n.jsxs("select",{value:(null==a?void 0:a.id)??"",onChange:t=>(t=>{const n=r[t];n&&e(cm(n))})(t.currentTarget.value),disabled:s,children:[n.jsx("option",{value:"",disabled:!0,children:s?"":" "}),t.map(e=>n.jsx("option",{value:e.id,children:e.name},e.id))]}),n.jsx("button",{onClick:()=>e(Pm({force:!0})),disabled:s,children:""})]}),i&&n.jsx("small",{style:{color:"tomato"},children:i})]})}function Pg(){const e=ma(),t=Ie(Nm)??[],a=Ie(Ym).entities,r=Ie(Zm).entities,s=Ie(wm);return n.jsxs("section",{style:{display:"grid",gap:6},children:[n.jsx("label",{style:{fontSize:12,opacity:.85},children:" (entity)"}),n.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[n.jsxs("select",{value:null==s?void 0:s.name,onChange:n=>{return a=n.target.value,void e(lm(t.find(e=>e.name==a)));var a},disabled:a||0===t.length,children:[t.map(e=>n.jsx("option",{value:e.name,children:e.name},e.name)),0===t.length&&n.jsx("option",{children:a?"":""})]}),n.jsx("button",{onClick:()=>e(Fm()),disabled:a||0===t.length,children:""})]}),r&&n.jsx("small",{style:{color:"tomato"},children:r})]})}function Fg(){const e=ma(),t=Ie(Ym).fields,a=Ie(km)??[],[r,s]=$.useState(void 0),i=$.useMemo(()=>(a??[]).filter(e=>null==e?void 0:e.isTime),[a]),o=Ie(Cm);return $.useEffect(()=>{!r&&i.length&&s(i[0]),r&&!i.includes(r)&&s(i[0]),e(um(r))},[i,r]),n.jsxs("section",{style:{display:"grid",gap:6},children:[n.jsx("label",{style:{fontSize:12,opacity:.85},children:"  ( X)"}),n.jsx("div",{style:{display:"flex",gap:8,alignItems:"center"},children:n.jsxs("select",{value:(null==o?void 0:o.name)??"",onChange:e=>s(i.find(t=>t.name===e.target.value)),disabled:t||0===i.length,children:[i.map(e=>n.jsx("option",{value:e.name,children:e.name},e.name)),0===i.length&&n.jsx("option",{children:t?"":""})]})})]})}function Og(){const e=ma(),t=Ie(km)??[],a=Ie(Ym).fields,r=Ie(Zm).fields,s=Ie(Im),i=V.useMemo(()=>new Set((s??[]).map(e=>e.name)),[s]),o=V.useCallback(t=>{e(fm(t))},[e]),l=V.useCallback(()=>{e(dm(t.filter(e=>e.isNumeric)))},[e,t]),c=V.useCallback(()=>{e(dm([]))},[e]);return n.jsxs("section",{style:{display:"grid",gap:6},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("label",{style:{fontSize:12,opacity:.85},children:" (  /)"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{onClick:l,disabled:a||0===t.length,children:" numeric"}),n.jsx("button",{onClick:c,disabled:a||0===t.length,children:""})]})]}),n.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8,padding:8,border:"1px solid #333",borderRadius:6,minHeight:44},children:[a&&n.jsx("span",{style:{fontSize:12,opacity:.7},children:""}),!a&&0===t.length&&n.jsx("span",{style:{fontSize:12,opacity:.7},children:" "}),!a&&t.map(e=>{const t=i.has(e.name);return n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,padding:"2px 6px",border:"1px solid #444",borderRadius:6,fontSize:12,cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:t,onChange:()=>o(e)}),n.jsx("span",{children:e.name}),n.jsx("span",{style:{opacity:.6},children:e.isTime?" ":e.isNumeric?" #":""})]},e.name)})]}),r&&n.jsx("small",{style:{color:"tomato"},children:r})]})}function qg(){const e=ma(),t=Ie(Mm).sql,a=(null==t?void 0:t.whereSql)??"",r=$.useCallback(t=>{const n=t.trim();e(gm(n?{whereSql:n}:void 0))},[e]);return n.jsxs("div",{style:{display:"grid",gap:8},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("div",{style:{fontWeight:600},children:" SQL (WHERE)"}),a&&n.jsx("button",{type:"button",onClick:()=>{r("")},style:{fontSize:12},children:""})]}),n.jsx("textarea",{rows:6,placeholder:": BatteryVoltage BETWEEN 10 AND 50 AND FactoryNumber = 'ABC123'",value:a,onChange:e=>{return t=e.target.value,void r(t);var t},style:{width:"100%",fontFamily:"monospace",fontSize:13,padding:8,border:"1px solid #ddd",borderRadius:4,resize:"vertical"}}),n.jsxs("div",{style:{fontSize:12,opacity:.7},children:[n.jsx("div",{children:" :"}),n.jsxs("ul",{style:{margin:"4px 0",paddingLeft:20},children:[n.jsx("li",{children:"   WHERE    WHERE"}),n.jsxs("li",{children:["  : ",n.jsx("code",{children:"{{paramKey}}"})]}),n.jsxs("li",{children:["  : ",n.jsxs("code",{children:["Temperature ",">"," ","{{minTemp}}"," AND Humidity ","<"," ","{{maxHumidity}}"]})]})]})]}),a&&n.jsxs("div",{style:{padding:8,background:"#f5f5f5",borderRadius:4,fontSize:12,fontFamily:"monospace"},children:[n.jsx("div",{style:{fontWeight:600,marginBottom:4},children:" SQL:"}),n.jsxs("div",{style:{color:"#666"},children:["SELECT * FROM table WHERE ",n.jsx("span",{style:{color:"#0066cc"},children:a})]})]})]})}var zg=(e=>(e.Eq="Eq",e.Ne="Ne",e.Gt="Gt",e.Gte="Gte",e.Lt="Lt",e.Lte="Lte",e.Between="Between",e.In="In",e.Nin="Nin",e.Like="Like",e.ILike="ILike",e.IsNull="IsNull",e.NotNull="NotNull",e))(zg||{});function $g({value:e,isNumeric:t,onChange:a}){const r=String(e||""),s=/^{{.*}}$/.test(r),[i,o]=V.useState(()=>{if(s){const e=r.match(/^{{\s*(.*?)\s*}}$/);return e&&e[1]||""}return""});V.useEffect(()=>{if(s){const e=r.match(/^{{\s*(.*?)\s*}}$/);o(e&&e[1]||"")}},[r,s]);return n.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[n.jsxs("select",{value:s?"key":"value",onChange:e=>{"key"===e.target.value?(o(""),a("{{}}")):(o(""),a(""))},children:[n.jsx("option",{value:"value",children:""}),n.jsx("option",{value:"key",children:""})]}),s?n.jsx("input",{type:"text",placeholder:" ",value:i,onChange:e=>{return t=e.target.value,o(t),void a(`{{${t}}}`);var t}}):n.jsx("input",{type:"text",placeholder:t?"":"",value:r,onChange:e=>a(e.target.value)})]})}function Bg(e){const t=Number(e.replace(",","."));return Number.isFinite(t)?t:e}function Ug({value:e,isNumeric:t,onChange:a}){const r=Array.isArray(e)?e.join(", "):"",s=e=>{const n=function(e,t){return e.split(",").map(e=>e.trim()).filter(Boolean).map(e=>t?Bg(e):e)}(e,t);a(n)};return n.jsx("input",{type:"text",placeholder:t?"x, y, z":"a, b, c",value:r,onChange:e=>s(e.target.value)})}function Qg({value:e,isNumeric:t,onChange:a}){const r=Array.isArray(e)&&2===e.length?e:["",""],[s,i]=r;return n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6},children:[n.jsx("input",{type:"text",placeholder:"min",value:String(s||""),onChange:e=>(e=>{const n=t?Bg(e):e;a([n,i])})(e.target.value)}),n.jsx("input",{type:"text",placeholder:"max",value:String(i||""),onChange:e=>(e=>{const n=t?Bg(e):e;a([s,n])})(e.target.value)})]})}const Vg=[{op:zg.Eq,label:"=",kind:"single"},{op:zg.Ne,label:"",kind:"single"},{op:zg.Gt,label:">",kind:"single"},{op:zg.Gte,label:"",kind:"single"},{op:zg.Lt,label:"<",kind:"single"},{op:zg.Lte,label:"",kind:"single"},{op:zg.Between,label:"between",kind:"between"},{op:zg.In,label:"in",kind:"array"},{op:zg.Nin,label:"not in",kind:"array"},{op:zg.Like,label:"like",kind:"single"},{op:zg.ILike,label:"ilike",kind:"single"},{op:zg.IsNull,label:"is null",kind:"none"},{op:zg.NotNull,label:"not null",kind:"none"}];function Hg({clause:e,availableFields:t,onUpdate:a,onRemove:r}){const s=t.find(t=>t.name===e.field.name),i=null==s?void 0:s.isNumeric,o=(Vg.find(t=>t.op===e.op)??Vg[0]).kind;return n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 140px 1fr auto",gap:8,alignItems:"center"},children:[n.jsx("select",{value:e.field.name,onChange:e=>(e=>{const n=t.find(t=>t.name===e);n&&a({field:n})})(e.target.value),children:t.map(e=>n.jsx("option",{value:e.name,children:e.name},e.name))}),n.jsx("select",{value:e.op,onChange:t=>(t=>{const n=Vg.find(e=>e.op===t)??Vg[0];let r=e.value;"none"===n.kind?r=void 0:"single"===n.kind&&Array.isArray(r)?r="":"array"!==n.kind||Array.isArray(r)?"between"===n.kind&&(r=Array.isArray(r)&&2===r.length?r:["",""]):r=[],a({op:t,value:r})})(t.target.value),children:Vg.map(e=>n.jsx("option",{value:e.op,children:e.label},e.op))}),n.jsxs("div",{children:["none"===o&&n.jsx("i",{style:{opacity:.7},children:""}),"single"===o&&n.jsx($g,{value:e.value,isNumeric:i,onChange:e=>a({value:e})}),"array"===o&&n.jsx(Ug,{value:e.value,isNumeric:i,onChange:e=>a({value:e})}),"between"===o&&n.jsx(Qg,{value:e.value,isNumeric:i,onChange:e=>a({value:e})})]}),n.jsx("button",{type:"button",onClick:r,title:"",children:""})]})}function Wg(){const e=ma(),t=Ie(Mm),a=Ie(km)??[],r=t.where??[],s=V.useCallback(t=>{e(hm(t))},[e]),i=V.useCallback(()=>{if(0===a.length)return void Xn.show("   ");const e={field:a[0],op:zg.Eq,value:""};s([...r,e])},[a,r,s]),o=V.useCallback((e,t)=>{const n=[...r];n[e]={...n[e],...t},s(n)},[r,s]),l=V.useCallback(e=>{const t=r.filter((t,n)=>n!==e);s(t)},[r,s]);return n.jsxs("div",{style:{display:"grid",gap:8},children:[n.jsx("div",{style:{fontWeight:600},children:" (WHERE)"}),r.map((e,t)=>n.jsx(Hg,{clause:e,availableFields:a,onUpdate:e=>o(t,e),onRemove:()=>l(t)},t)),n.jsx("div",{children:n.jsx("button",{type:"button",onClick:i,children:"+  "})})]})}var Kg=(e=>(e.Text="text",e.String="string",e.Int="int",e.Bigint="bigint",e.Double="double",e.Numeric="numeric",e.Bool="bool",e.Uuid="uuid",e.Date="date",e.Timestamp="timestamp",e.Timestamptz="timestamptz",e))(Kg||{});function Gg(e){return null==e?"":"boolean"==typeof e?e?"true":"false":String(e)}function Yg(e,t){const n=e.trim();if(n)switch(t){case Kg.Int:case Kg.Bigint:{const e=Number(n.replace(",","."));return Number.isFinite(e)?Math.trunc(e):n}case Kg.Double:{const e=Number(n.replace(",","."));return Number.isFinite(e)?e:n}case Kg.Bool:{const e=n.toLowerCase();return!!["true","1","yes","y"].includes(e)||!["false","0","no","n"].includes(e)&&n}default:return n}}function Zg({value:e,type:t,onChange:a}){return t===Kg.Bool?n.jsxs("label",{style:{display:"flex",gap:6,alignItems:"center",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:!!e,onChange:e=>a(e.target.checked)}),n.jsx("span",{style:{fontSize:13},children:"default"})]}):t===Kg.Int||t===Kg.Bigint?n.jsx("input",{type:"number",placeholder:"default",value:Gg(e),onChange:e=>a(Yg(e.target.value,t)),style:{width:"100%"}}):t===Kg.Double?n.jsx("input",{type:"number",step:"any",placeholder:"default",value:Gg(e),onChange:e=>a(Yg(e.target.value,t)),style:{width:"100%"}}):t===Kg.Date?n.jsx("input",{type:"date",value:Gg(e),onChange:e=>a(e.target.value||void 0),style:{width:"100%"}}):t===Kg.Timestamp||t===Kg.Timestamptz?n.jsx("input",{type:"datetime-local",value:Gg(e),onChange:e=>a(e.target.value||void 0),style:{width:"100%"}}):n.jsx("input",{type:"text",placeholder:"default",value:Gg(e),onChange:e=>a(e.target.value||void 0),style:{width:"100%"}})}const Xg=[Kg.Text,Kg.Int,Kg.Bigint,Kg.Double,Kg.Bool,Kg.Date,Kg.Timestamp,Kg.Timestamptz,Kg.Uuid];function Jg({param:e,availableFields:t,onUpdate:a,onRemove:r}){var s,i;const o=(null==(s=e.field)?void 0:s.name)??"",l=e.type??(null==(i=e.field)?void 0:i.sqlParamType);return n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1.5fr 1fr 140px 100px 1fr auto",gap:8,alignItems:"center",padding:"4px",borderRadius:"4px",border:"1px solid #ddd"},children:[n.jsx("input",{type:"text",placeholder:"key",value:e.key??"",onChange:e=>a({key:e.target.value})}),n.jsx("input",{type:"text",placeholder:"",value:e.description??"",onChange:e=>a({description:e.target.value})}),n.jsxs("select",{value:o,onChange:e=>{const n=e.target.value?t.find(t=>t.name===e.target.value):void 0;a({field:n})},children:[n.jsx("option",{value:"",children:"  "}),t.map(e=>n.jsx("option",{value:e.name,children:e.name},e.name))]}),n.jsxs("select",{value:e.type??"",onChange:e=>{const t=e.target.value?e.target.value:void 0;a({type:t})},children:[n.jsx("option",{value:"",children:"auto"}),Xg.map(e=>n.jsx("option",{value:e,children:e},e))]}),n.jsxs("label",{style:{display:"flex",gap:6,alignItems:"center",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:!!e.required,onChange:e=>a({required:e.target.checked})}),n.jsx("span",{style:{fontSize:13},children:"required"})]}),n.jsx(Zg,{value:e.defaultValue,type:l,onChange:e=>a({defaultValue:e})}),n.jsx("button",{type:"button",onClick:r,title:" ",style:{cursor:"pointer"},children:""})]})}function ev(){const e=ma(),t=Ie(Mm),a=Ie(km)??[],r=t.params??[],s=$.useCallback(t=>{e(vm(t))},[e]),i=$.useCallback(()=>{s([...r,{key:"",description:"",value:void 0,defaultValue:void 0,field:void 0,type:void 0,required:!1}])},[r,s]),o=$.useCallback((e,t)=>{const n=[...r];n[e]={...n[e],...t},s(n)},[r,s]),l=$.useCallback(e=>{const t=r.filter((t,n)=>n!==e);s(t)},[r,s]),c=r.map(e=>(e.key||"").trim()).filter(Boolean),u=new Set(c).size!==c.length;return n.jsxs("div",{style:{display:"grid",gap:8},children:[n.jsx("div",{style:{fontWeight:600},children:" (Params)"}),u&&n.jsx("div",{style:{color:"orange",fontSize:13},children:"    "}),r.map((e,t)=>n.jsx(Jg,{param:e,availableFields:a,onUpdate:e=>o(t,e),onRemove:()=>l(t)},t)),n.jsx("div",{children:n.jsx("button",{type:"button",onClick:i,children:"+  "})})]})}function tv(){return n.jsxs("div",{style:{display:"grid",gap:16},children:[n.jsx(Wg,{}),n.jsx(ev,{}),n.jsx(qg,{})]})}function nv(){const e=ma(),t=Ie(Mm);return n.jsxs("div",{children:[n.jsxs("label",{style:{display:"grid",gap:6},children:[n.jsx("span",{style:{fontSize:12,opacity:.8},children:"*"}),n.jsx("input",{type:"text",value:t.name??"",onChange:t=>e(bm(t.target.value))})]}),n.jsxs("label",{style:{display:"grid",gap:6},children:[n.jsx("span",{style:{fontSize:12,opacity:.8},children:""}),n.jsx("textarea",{rows:3,placeholder:"   ",value:t.description??"",onChange:t=>e(xm(t.target.value))})]})]})}function av(){const e=ma(),t=Ie(Mm),a=Ie(Tm),r=()=>{var e;const n=[];if(t.database||n.push(" "),t.entity||n.push(" (entity)"),t.timeField||n.push("  (timeField)"),(null==(e=t.name)?void 0:e.trim())||n.push(""),n.length)return alert(`: ${n.join(", ")}`),!1;return!((null==a?void 0:a.chartReqTemplates)??[]).some(e=>{var n;return e.name.trim().toLowerCase()===(null==(n=t.name)?void 0:n.trim().toLowerCase())&&e.id!==t.id})||(alert(`   "${t.name}"      .\n  .`),!1)};return n.jsx("div",{style:{display:"flex",justifyContent:"space-between",gap:8},children:n.jsx("div",{children:null!=t.id?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>{t.id?r()&&e(Yp({...t})):alert("    ")},children:" "}),n.jsx("button",{onClick:()=>e(pm()),children:" "})]}):n.jsx("button",{onClick:()=>{r()&&e(Gp({...t}))},children:" "})})})}function rv({className:e}){const t=ma(),a=Ie(Mm);return n.jsxs("div",{className:`${e} ${Dg.container}`,children:[n.jsx("div",{style:{fontWeight:600},children:" "}),n.jsx(Lg,{}),n.jsx(Pg,{}),n.jsx(Fg,{}),n.jsx(dg,{range:{fromMs:a.originalFromMs,toMs:a.originalToMs},onChange:e=>t(_m(e))}),n.jsx(Og,{}),n.jsx(tv,{}),n.jsx(nv,{}),n.jsx(av,{})]})}function sv(){const e=ma(),{theme:t}=_a(),a=ch(),r=Ie(jm),s=Ie(Gm),i=Ie(Ym).databases,o=Ie(Am),l=Ie(yf),[c,u]=$.useState(null),[d,f]=$.useState(null),p=$.useRef(!1),m=$.useMemo(()=>!!c&&jf(c).length>0,[c]);$.useEffect(()=>{s||i||e(Pm())},[e,s,i]),$.useEffect(()=>{o||e(Kp({force:!1}))},[e,o]);const h=e=>{0===l.length?g(e):f(e)},g=t=>{if(!p.current){p.current=!0;try{const n=So();e($f({contextId:n,template:t}));const a=So();e(tf({id:a,name:` ${l.length+1}`})),e(nf(a)),e(sf({tabId:a,contextId:n}))}finally{setTimeout(()=>{p.current=!1},300)}}};return n.jsxs("div",{className:pg,"data-theme":t,children:[n.jsx("div",{className:mg,children:n.jsx(Ih,{items:r,onPick:t=>{e(Jp(t))},onDelete:async t=>{await a({title:" ?",description:" .",confirmText:"",cancelText:"",danger:!0})&&e(Zp({id:t}))},onExecute:e=>{if(0===jf(e).length&&void 0!==e.originalFromMs&&void 0!==e.originalToMs){h(e)}else u(e)},onExecuteShow:e=>{}})}),n.jsx("div",{className:hg,children:n.jsx(rv,{})}),c&&m&&n.jsx(fg,{template:c,onCancel:()=>u(null),onSubmit:e=>{if(!c)return;const t=function(e,t){const n=[];for(const a of e??[])if(null==a?void 0:a.required){const e=t[a.key];null!=e&&""!==String(e).trim()||n.push(a.key)}return n}(c.params,e.values);if(t.length>0)return void alert(t[0]);const n={...Rf(c,e.values),resolvedFromMs:e.range.fromMs,resolvedToMs:e.range.toMs};h(n),u(null)}}),d&&n.jsx(Rg,{onSelectExisting:t=>{((t,n)=>{if(!p.current){p.current=!0;try{const a=So();e($f({contextId:a,template:t})),e(sf({tabId:n,contextId:a})),e(nf(n))}finally{setTimeout(()=>{p.current=!1},300)}}})(d,t),f(null)},onCreateNew:()=>{g(d),f(null)},onCancel:()=>f(null)})]})}const iv="_tabContent_w4m0w_5",ov="_contextFilter_w4m0w_25",lv="_filterToggle_w4m0w_41",cv="_filterArrow_w4m0w_75",uv="_filterTitle_w4m0w_87",dv="_filterContent_w4m0w_99",fv="_filterActions_w4m0w_109",pv="_filterToggleAll_w4m0w_121",mv="_contextList_w4m0w_155",hv="_contextSections_w4m0w_171",gv="_contextWrapper_w4m0w_191",vv="_emptyState_w4m0w_203",yv="_emptyStateOverlay_w4m0w_225",bv="_hint_w4m0w_275",xv="_contextFilterItem_1nfxf_5",_v="_itemHeader_1nfxf_37",Sv="_checkboxLabel_1nfxf_51",Nv="_checkbox_1nfxf_51",wv="_templateName_1nfxf_83",kv="_actions_1nfxf_101",Cv="_fieldsToggle_1nfxf_115",Iv="_fieldsToggleActive_1nfxf_149",Tv="_removeButton_1nfxf_161",Mv="_fieldsOrderEditor_w2rhp_5",jv="_header_w2rhp_27",Ev="_title_w2rhp_43",Av="_empty_w2rhp_55",Rv="_fieldList_w2rhp_69",Dv="_fieldItem_w2rhp_81",Lv="_fieldName_w2rhp_107";function Pv({fields:e}){const t=$.useMemo(()=>[...e].map((e,t)=>({...e,visualOrder:e.visualOrder??t})).sort((e,t)=>e.visualOrder-t.visualOrder),[e]);return 0===t.length?n.jsx("div",{className:Av,children:" "}):n.jsxs("div",{className:Mv,children:[n.jsx("div",{className:jv,children:n.jsx("span",{className:Ev,children:"  :"})}),n.jsx("div",{className:Rv,children:t.map(e=>n.jsx("div",{className:Dv,children:n.jsx("span",{className:Lv,title:e.name,children:e.name})},e.name))})]})}const Fv={active:!1,type:Df.Initial,progress:0,startTime:0},Ov=[],qv=[],zv=[],$v=(e,t)=>e.contexts.chartContexts[t],Bv=e=>e.contexts.chartContexts,Uv=(e,t)=>{const n=$v(e,t);return null==n?void 0:n.template},Qv=(e,t)=>{const n=$v(e,t);return(null==n?void 0:n.syncFields)??zv},Vv=(e,t,n)=>Qv(e,t).some(e=>e.name===n),Hv=(e,t)=>{const n=$v(e,t);return(null==n?void 0:n.view)??{}},Wv=(e,t,n)=>{const a=$v(e,t);return null==a?void 0:a.view[n]},Kv=(e,t,n)=>{const a=Wv(e,t,n);return null==a?void 0:a.originalRange},Gv=(e,t,n)=>{const a=Wv(e,t,n);return null==a?void 0:a.currentRange},Yv=(e,t,n)=>{const a=Wv(e,t,n);return null==a?void 0:a.currentBucketsMs},Zv=(e,t,n)=>{const a=Wv(e,t,n);return null==a?void 0:a.seriesLevel},Xv=(e,t,n,a)=>{const r=Zv(e,t,n);if(!r)return Ov;return r[a]??Ov},Jv=re([(e,t,n)=>Zv(e,t,n)],e=>e?Object.keys(e).map(Number).filter(e=>!isNaN(e)):qv);function ey({contextId:e,isVisible:t,onToggle:a,onRemove:r}){const s=ma(),i=Ie(t=>Uv(t,e)),o=ha(Rm),l=null!=(null==i?void 0:i.id)?o[i.id]:void 0,[c,u]=$.useState(!1),d=(null==l?void 0:l.name)??` ${e.slice(0,8)}`,f=(null==l?void 0:l.selectedFields)&&l.selectedFields.length>0,p=$.useCallback(e=>{if(!l)return;const t={id:l.id,name:l.name,description:l.description,databaseId:l.databaseId,entity:l.entity,timeField:l.timeField,selectedFields:[...e],where:l.where,params:l.params,sql:l.sql,originalFromMs:l.originalFromMs,originalToMs:l.originalToMs,visualOrder:l.visualOrder??0};s(Yp(t))},[s,l]);return n.jsxs("div",{className:xv,children:[n.jsxs("div",{className:_v,children:[n.jsxs("label",{className:Sv,children:[n.jsx("input",{type:"checkbox",checked:t,onChange:a,className:Nv}),n.jsx("span",{className:wv,children:d})]}),n.jsxs("div",{className:kv,children:[f&&n.jsx("button",{className:`${Cv} ${c?Iv:""}`,onClick:()=>u(!c),title:c?"  ":"  ",type:"button",children:""}),n.jsx("button",{className:Tv,onClick:r,title:"  ",type:"button",children:""})]})]}),c&&f&&l&&n.jsx(Pv,{fields:l.selectedFields,onReorder:p})]})}function ty(e){const t={};return Object.keys(e).sort().forEach(n=>{const a=e[n];Array.isArray(a)?t[n]=[...a].sort():t[n]=a&&"object"==typeof a?Object.keys(a).sort().reduce((e,t)=>(e[t]=a[t],e),{}):a}),JSON.stringify(t)}re([(e,t)=>Uv(e,t)],e=>(null==e?void 0:e.selectedFields)??zv),re([(e,t)=>Hv(e,t)],e=>{const t=Object.entries(e).filter(([e,t])=>t.loadingState.active).map(([e])=>e);return Object.freeze(t)});const ny=zn({reducerPath:"chartsApi",baseQuery:Eu(),tagTypes:["MultiSeries","Raw","MultiRaw"],endpoints:e=>({getMultiSeries:e.query({query:({body:e,dbId:t})=>({url:aa.CHARTS.MULTI,method:"post",data:e,headers:{"X-Db":String(t)}}),providesTags:(e,t,{body:n})=>[{type:"MultiSeries",id:ty(n)}],keepUnusedDataFor:60})})}),ay=ie("charts/fetchMultiSeriesData",async({data:e,contextId:t},{dispatch:n,rejectWithValue:a})=>{var r,s;const{request:i,fields:o,loadingType:l,signal:c,onProgress:u}=e;if(!(null==(r=i.template)?void 0:r.databaseId))return a("Missing template or databaseId");if(null==c?void 0:c.aborted)return{response:{},wasAborted:!0};o.forEach(e=>{n(Xf({contextId:t,field:e.name,type:l,message:" ..."}))});const d={...i,template:{...i.template,selectedFields:o}},f=(new Date(d.template.resolvedFromMs),new Date(d.template.resolvedToMs),n(ny.endpoints.getMultiSeries.initiate(Pu(d,i.template.databaseId))));try{let e;if(u){let a=0;e=setInterval(()=>{a<90&&(a+=10,u(a),o.forEach(e=>{n(ep({contextId:t,field:e.name,progress:a,message:`: ${a}%`}))}))},100)}const a=await f.unwrap();return e&&clearInterval(e),(null==c?void 0:c.aborted)?(o.forEach(e=>{n(np({contextId:t,field:e.name,success:!1,message:void 0}))}),{response:a,wasAborted:!0}):(u&&u(100),o.forEach(e=>{n(ep({contextId:t,field:e.name,progress:100,message:void 0})),n(np({contextId:t,field:e.name,success:!0,message:void 0}))}),{response:a,wasAborted:!1})}catch(p){if("AbortError"===p.name||(null==c?void 0:c.aborted))return o.forEach(e=>{n(np({contextId:t,field:e.name,success:!1,message:void 0}))}),{response:{},wasAborted:!0};const e=(null==p?void 0:p.message)||"  ";return o.forEach(a=>{n(ap({contextId:t,fieldName:a.name,errorMessage:e})),n(np({contextId:t,field:a.name,success:!1,message:e}))}),a(e)}finally{null==(s=f.unsubscribe)||s.call(f)}});class ry{static addTile(e,t,n,a){const{strategy:r="replace",onDataLoss:s,validate:i=!0}=a??{};if(i&&(this.validateInterval(n.coverageInterval,"newTile"),this.validateInterval(e,"originalRange")),!this.isWithinRange(n.coverageInterval,e))return{tiles:t,wasAdded:!1,wasMerged:!1,affectedIndices:[]};const o=[],l=[];let c=!1,u=!1,d=n;for(let p=0;p<t.length;p++){const e=t[p],n=this.analyzeOverlap(e.coverageInterval,d.coverageInterval);switch(n.type){case"none":o.push(e);break;case"full":if("ready"===e.status&&e.bins.length>0){if("throw"===r)throw new Error(`Data loss: tile [${e.coverageInterval.fromMs}-${e.coverageInterval.toMs}] with ${e.bins.length} bins would be lost`);if("merge"===r&&"ready"===d.status){const t=this.mergeBins(e.bins,d.bins);d={...d,bins:t}}null==s||s(e)}l.push(p),u=!0;break;case"contains":{const t=this.splitTile(e,d.coverageInterval);t.length,o.push(...t),l.push(p),u=!0;break}case"partial":{const t=this.trimTile(e,d.coverageInterval);if(t&&o.push(t),"merge"===r&&"ready"===e.status&&"ready"===d.status){const t=e.bins.filter(e=>{const t=e.t;return void 0!==n.overlapFrom&&void 0!==n.overlapTo&&t>=n.overlapFrom&&t<n.overlapTo}),a=d.bins.filter(e=>{const t=e.t;return void 0!==n.overlapFrom&&void 0!==n.overlapTo&&t>=n.overlapFrom&&t<n.overlapTo});if(t.length>0||a.length>0){const e=this.mergeBins(t,a),r=[...d.bins.filter(e=>{const t=e.t;return!(void 0!==n.overlapFrom&&void 0!==n.overlapTo&&t>=n.overlapFrom&&t<n.overlapTo)}),...e].sort((e,t)=>e.t-t.t);d={...d,bins:r}}}l.push(p),u=!0;break}}}o.push(d),c=!0;const f=this.sortTiles(o);return i&&this.validateNoOverlaps(f),{tiles:f,wasAdded:true,wasMerged:u,affectedIndices:l}}static removeTile(e,t){return t<0||t>=e.length?e:[...e.slice(0,t),...e.slice(t+1)]}static updateTileStatus(e,t,n,a){return e.map(e=>this.intervalsEqual(e.coverageInterval,t)?{...e,status:n,error:a,loadedAt:"ready"===n?Date.now():e.loadedAt}:e)}static findGaps(e,t,n){const a=n??e,r=t.filter(e=>"ready"===e.status);if(0===r.length)return{gaps:[a],coverage:0,hasFull:!1};const s=this.sortTiles(r),i=[];let o=0,l=a.fromMs;for(const d of s){const e=Math.max(d.coverageInterval.fromMs,a.fromMs),t=Math.min(d.coverageInterval.toMs,a.toMs);if(t<=e||e>=a.toMs)continue;e>l&&i.push({fromMs:l,toMs:e});const n=Math.max(0,t-Math.max(l,e));n>0&&(o+=n,l=Math.max(l,t))}l<a.toMs&&i.push({fromMs:l,toMs:a.toMs});const c=a.toMs-a.fromMs,u=c>0?o/c*100:0;return{gaps:i,coverage:Math.min(100,u),hasFull:u>=99.9}}static getStats(e,t){const n=t.filter(e=>"ready"===e.status),{coverage:a}=this.findGaps(e,t);return{totalTiles:t.length,readyTiles:n.length,loadingTiles:t.filter(e=>"loading"===e.status).length,errorTiles:t.filter(e=>"error"===e.status).length,totalBins:n.reduce((e,t)=>e+t.bins.length,0),coverage:a}}static isWithinRange(e,t){return e.fromMs>=t.fromMs&&e.toMs<=t.toMs}static intervalsEqual(e,t){return e.fromMs===t.fromMs&&e.toMs===t.toMs}static analyzeOverlap(e,t){if(e.toMs<=t.fromMs||e.fromMs>=t.toMs)return{type:"none"};if(e.fromMs>=t.fromMs&&e.toMs<=t.toMs)return{type:"full",overlapFrom:e.fromMs,overlapTo:e.toMs};if(e.fromMs<=t.fromMs&&e.toMs>=t.toMs)return{type:"contains",overlapFrom:t.fromMs,overlapTo:t.toMs};return{type:"partial",overlapFrom:Math.max(e.fromMs,t.fromMs),overlapTo:Math.min(e.toMs,t.toMs)}}static splitTile(e,t){const n=[];if(e.coverageInterval.fromMs<t.fromMs){const a="ready"===e.status?e.bins.filter(e=>e.t<t.fromMs):[];("ready"!==e.status||a.length>0)&&n.push({...e,coverageInterval:{fromMs:e.coverageInterval.fromMs,toMs:t.fromMs},bins:a})}if(e.coverageInterval.toMs>t.toMs){const a="ready"===e.status?e.bins.filter(e=>e.t>=t.toMs):[];("ready"!==e.status||a.length>0)&&n.push({...e,coverageInterval:{fromMs:t.toMs,toMs:e.coverageInterval.toMs},bins:a})}return n}static validateInterval(e,t){if(!Number.isFinite(e.fromMs)||!Number.isFinite(e.toMs))throw new Error(`[${t}] Invalid interval: fromMs and toMs must be finite numbers`);if(e.fromMs>=e.toMs)throw new Error(`[${t}] Invalid interval: fromMs (${e.fromMs}) must be < toMs (${e.toMs})`)}static validateNoOverlaps(e){for(let t=0;t<e.length-1;t++){const n=e[t],a=e[t+1];if(n.coverageInterval.toMs>a.coverageInterval.fromMs)throw new Error(`Overlapping tiles: [${n.coverageInterval.fromMs}-${n.coverageInterval.toMs}] and [${a.coverageInterval.fromMs}-${a.coverageInterval.toMs}]`)}}static mergeBins(e,t){const n=new Map;return e.forEach(e=>{n.set(e.t,e)}),t.forEach(e=>{n.set(e.t,e)}),Array.from(n.values()).sort((e,t)=>e.t-t.t)}static trimTile(e,t){const n=e.coverageInterval;if(t.fromMs<=n.fromMs&&t.toMs>=n.toMs)return null;if(t.fromMs>n.fromMs&&t.toMs<n.toMs)throw new Error(`[trimTile] Cannot trim: interval is inside tile. Use splitTile instead. tile: [${n.fromMs}-${n.toMs}], trim: [${t.fromMs}-${t.toMs}]`);if(t.fromMs<=n.fromMs&&t.toMs>n.fromMs&&t.toMs<n.toMs){const a=t.toMs,r=n.toMs,s="ready"===e.status?e.bins.filter(e=>{const t=e.t;return t>=a&&t<r}):[];return"ready"!==e.status||s.length>0?{...e,coverageInterval:{fromMs:a,toMs:r},bins:s}:null}if(t.toMs>=n.toMs&&t.fromMs>n.fromMs&&t.fromMs<n.toMs){const a=n.fromMs,r=t.fromMs,s="ready"===e.status?e.bins.filter(e=>{const t=e.t;return t>=a&&t<r}):[];return"ready"!==e.status||s.length>0?{...e,coverageInterval:{fromMs:a,toMs:r},bins:s}:null}return e}static sortTiles(e){return[...e].sort((e,t)=>e.coverageInterval.fromMs-t.coverageInterval.fromMs)}static findUnifiedGap(e,t,n){const a=this.findGaps(e,t,n);if(0===a.gaps.length)return null;if(1===a.gaps.length)return a.gaps[0];const r=a.gaps[0],s=a.gaps[a.gaps.length-1];return{fromMs:r.fromMs,toMs:s.toMs}}}class sy{static processServerResponse(e){const{contextId:t,response:n,bucketMs:a,requestedInterval:r,dispatch:s,getState:i}=e,o=[];for(const l of n.series){const e=this.processFieldSeries({contextId:t,fieldName:l.field.name,bins:l.bins,bucketMs:a,requestedInterval:r,getState:i});e.success&&e.newTiles&&o.push({field:l.field.name,bucketMs:a,tiles:e.newTiles})}o.length>0&&s(hp({contextId:t,updates:o}))}static processFieldSeries(e){const{contextId:t,fieldName:n,bins:a,bucketMs:r,requestedInterval:s,getState:i}=e;try{const e=i(),o=Wv(e,t,n);if(!o)return{contextId:t,field:n,success:!1,newTiles:null,binsReceived:0,error:"Field view not found"};if(!o.originalRange)return{contextId:t,field:n,success:!1,newTiles:null,binsReceived:0,error:"Original range not found"};const l=o.seriesLevel[r]??[],c=this.convertAndFilterBins(a,s),u={coverageInterval:s,bins:c,status:"ready",loadedAt:Date.now()};return{contextId:t,field:n,success:!0,newTiles:[...ry.addTile(o.originalRange,[...l],u,{strategy:"replace",validate:!0,onDataLoss:e=>{if(e.coverageInterval.fromMs===s.fromMs&&e.coverageInterval.toMs===s.toMs)return;s.fromMs<=e.coverageInterval.fromMs&&s.toMs>=e.coverageInterval.toMs&&(c.length,e.bins.length)}}).tiles],binsReceived:c.length}}catch(o){return{contextId:t,field:n,success:!1,newTiles:null,binsReceived:0,error:o instanceof Error?o.message:String(o)}}}static prepareLoadingTiles(e){const{contextId:t,fields:n,bucketMs:a,loadingInterval:r,requestId:s,getState:i}=e,o=[],l=i();for(const c of n){const e=Wv(l,t,c);if(!e||!e.originalRange)continue;const n=e.seriesLevel[a]??[];if(n.some(e=>"loading"===e.status&&e.coverageInterval.fromMs===r.fromMs&&e.coverageInterval.toMs===r.toMs))continue;const i={coverageInterval:r,bins:[],status:"loading",requestId:s},u=ry.addTile(e.originalRange,[...n],i,{strategy:"replace",validate:!1});o.push({field:c,bucketMs:a,tiles:[...u.tiles]})}return o}static analyzeLoadNeeds(e,t,n,a,r,s,i){var o,l;const c=i(),u=Wv(c,e,t);if(!u||!u.originalRange)return!1;const d=u.seriesLevel[r]??[],f=Math.floor(n/r)*r,p=Math.ceil(a/r)*r,m=ry.findGaps(u.originalRange,d,{fromMs:f,toMs:p});if(m.hasFull||0===m.gaps.length)return!1;if(m.gaps.some(e=>d.some(t=>"loading"===t.status&&t.coverageInterval.fromMs<=e.fromMs&&t.coverageInterval.toMs>=e.toMs)))return!1;const h=this.selectTargetGap(m.gaps),g=this.optimizeGapInterval({gap:h,tiles:d,originalRange:u.originalRange,bucketMs:r,minBucketsThreshold:3,proximityThreshold:.2}),v=null==(o=c.contexts.chartContexts[e])?void 0:o.template;if(!v)return!1;const y=v.selectedFields.find(e=>e.name===t);return!!y&&{template:{...v,selectedFields:[...(null==(l=c.contexts.chartContexts[e])?void 0:l.syncFields)??[],y],resolvedFromMs:g.fromMs,resolvedToMs:g.toMs},px:s,bucketMs:r}}static selectTargetGap(e){if(0===e.length)throw new Error("[selectTargetGap] No gaps provided");if(1===e.length)return e[0];if(e.length<=3){const t=e[0],n=e[e.length-1];return{fromMs:t.fromMs,toMs:n.toMs}}let t=e[0],n=t.toMs-t.fromMs;for(let a=1;a<e.length;a++){const r=e[a],s=r.toMs-r.fromMs;s>n&&(t=r,n=s)}return t}static optimizeGapInterval(e){const{gap:t,tiles:n,originalRange:a,bucketMs:r,minBucketsThreshold:s,proximityThreshold:i}=e;let o=t.fromMs,l=t.toMs;const c=t.toMs-t.fromMs,u=t.fromMs-a.fromMs;if(Math.floor(u/r)<=s||(c>0?u/c:0)<=i){const e=Math.floor(a.fromMs/r)*r;o=Math.max(e,a.fromMs)}const d=a.toMs-t.toMs;if(Math.floor(d/r)<=s||(c>0?d/c:0)<=i){const e=Math.ceil(a.toMs/r)*r;l=Math.min(e,a.toMs)}const f=n.filter(e=>"ready"===e.status||"loading"===e.status).sort((e,t)=>e.coverageInterval.fromMs-t.coverageInterval.fromMs),p=f.filter(e=>e.coverageInterval.toMs<=t.fromMs);if(p.length>0){const e=p[p.length-1],n=t.fromMs-e.coverageInterval.toMs;(Math.floor(n/r)<=s||(c>0?n/c:0)<=i)&&(o=e.coverageInterval.toMs)}const m=f.filter(e=>e.coverageInterval.fromMs>=t.toMs);if(m.length>0){const e=m[0],n=e.coverageInterval.fromMs-t.toMs;(Math.floor(n/r)<=s||(c>0?n/c:0)<=i)&&(l=e.coverageInterval.fromMs)}const h=Math.ceil((l-o)/r);if(h<s){const e=(s-h)*r,t=Math.floor(e/2);o=Math.max(a.fromMs,Math.floor((o-t)/r)*r),l=Math.min(a.toMs,Math.ceil((l+e-t)/r)*r)}return{fromMs:o,toMs:l}}static convertAndFilterBins(e,t){if(!e||0===e.length)return[];const n=[];for(const a of e){if(!a||"object"!=typeof a){0;continue}if(isNaN(a.t)){0;continue}if(a.t<t.fromMs||a.t>=t.toMs){0;continue}const e=null!=a.avg&&!isNaN(Number(a.avg)),r=null!=a.min&&!isNaN(Number(a.min)),s=null!=a.max&&!isNaN(Number(a.max));if(!e&&!r&&!s){0;continue}const i={t:a.t,avg:e?Number(a.avg):void 0,min:r?Number(a.min):void 0,max:s?Number(a.max):void 0,count:null==a.count||isNaN(Number(a.count))?1:Number(a.count)};n.push(i)}return n.sort((e,t)=>e.t-t.t),n}static checkFullCoverage(e,t,n){const a=e.filter(e=>"ready"===e.status).sort((e,t)=>e.coverageInterval.fromMs-t.coverageInterval.fromMs);let r=t;for(const s of a){const e=s.coverageInterval.fromMs,a=s.coverageInterval.toMs;if(!(a<=t||e>=n)){if(e>r)return!1;if(r=Math.max(r,a),r>=n)return!0}}return!1}static calculateLoadInterval(e){const{tiles:t,originalRange:n,requestedFrom:a,requestedTo:r,bucketMs:s,minBucketsThreshold:i=3,proximityThreshold:o=.2}=e,l=Math.floor(a/s)*s,c=Math.ceil(r/s)*s;if(c<=l)return null;const u=Math.ceil((c-l)/s);if(this.checkFullCoverage(t,l,c))return null;if(t.some(e=>"loading"===e.status&&e.coverageInterval.fromMs<=l&&e.coverageInterval.toMs>=c))return null;let d=l,f=c;const p=this.expandToGraphBoundaries({from:d,to:f,originalRange:n,bucketMs:s,requestSizeBuckets:u,minBucketsThreshold:i,proximityThreshold:o});d=p.from,f=p.to;const m=this.expandToNeighborTiles({tiles:t,from:d,to:f,bucketMs:s,requestSizeBuckets:u,minBucketsThreshold:i,proximityThreshold:o});if(d=m.from,f=m.to,f<=d)return null;if(this.checkFullCoverage(t,d,f))return null;const h=Math.ceil((f-d)/s);if(h<i){const e=(i-h)*s,t=Math.floor(e/2);d=Math.max(n.fromMs,Math.floor((d-t)/s)*s),f=Math.min(n.toMs,Math.ceil((f+e-t)/s)*s)}return{fromMs:d,toMs:f}}static expandToGraphBoundaries(e){const{from:t,to:n,originalRange:a,bucketMs:r,minBucketsThreshold:s,proximityThreshold:i}=e;let o=t,l=n;const c=n-t,u=t-a.fromMs;(Math.floor(u/r)<=s||(c>0?u/c:0)<=i)&&(o=Math.floor(a.fromMs/r)*r);const d=a.toMs-n;return(Math.floor(d/r)<=s||(c>0?d/c:0)<=i)&&(l=Math.ceil(a.toMs/r)*r),{from:o,to:l}}static expandToNeighborTiles(e){const{tiles:t,from:n,to:a,bucketMs:r,minBucketsThreshold:s,proximityThreshold:i}=e;let o=n,l=a;const c=t.filter(e=>"ready"===e.status||"loading"===e.status).sort((e,t)=>e.coverageInterval.fromMs-t.coverageInterval.fromMs),u=a-n,d=c.filter(e=>e.coverageInterval.toMs<=n);if(d.length>0){const e=d[d.length-1],t=n-e.coverageInterval.toMs;(Math.floor(t/r)<=s||(u>0?t/u:0)<=i)&&(o=e.coverageInterval.toMs)}const f=c.filter(e=>e.coverageInterval.fromMs>=a);if(f.length>0){const e=f[0],t=e.coverageInterval.fromMs-a;(Math.floor(t/r)<=s||(u>0?t/u:0)<=i)&&(l=e.coverageInterval.fromMs)}return{from:o,to:l}}}class iy{constructor(e,n,a){t(this,"dispatch"),t(this,"getState"),t(this,"contextId"),t(this,"activeRequests"),t(this,"requestHistory"),t(this,"metrics"),t(this,"REQUEST_TIMEOUT_MS",3e4),t(this,"MAX_CONCURRENT_REQUESTS",4),t(this,"isDisposed"),this.dispatch=e,this.getState=n,this.contextId=a,this.activeRequests=new Map,this.requestHistory=new Map,this.isDisposed=!1,this.metrics={totalRequests:0,successfulRequests:0,failedRequests:0,cancelledRequests:0,averageLoadTime:0}}async loadVisibleRange(e,t,n,a,r){if(this.isDisposed)return;this.getState().chartsSettings.timeSettings;const s=sy.analyzeLoadNeeds(this.contextId,e,t,n,a,r,this.getState);if(!1===s)return;if(void 0===s.template.resolvedFromMs||void 0===s.template.resolvedToMs)return;const i=`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,o={fromMs:s.template.resolvedFromMs,toMs:s.template.resolvedToMs},l=s.template.selectedFields.map(e=>e.name),c=sy.prepareLoadingTiles({contextId:this.contextId,fields:l,bucketMs:a,loadingInterval:o,requestId:i,getState:this.getState});c.length>0&&this.dispatch(hp({contextId:this.contextId,updates:c})),await this.executeRequest(s,a,o,i)}async executeRequest(e,t,n,a){var r;const s=null==(r=e.template.selectedFields[0])?void 0:r.name;if(!s)return;if(void 0===e.template.resolvedFromMs||void 0===e.template.resolvedToMs)return;const i=this.buildRequestKey(s,t,e.template.resolvedFromMs,e.template.resolvedToMs);if(this.activeRequests.has(i))return;const o=this.requestHistory.get(i);if(o&&Date.now()-o<1e3)return;for(;this.activeRequests.size>=this.MAX_CONCURRENT_REQUESTS&&!this.isDisposed;)await new Promise(e=>setTimeout(e,100));if(this.isDisposed)return;const l=new AbortController,c=Date.now(),u=this.performHttpRequest(e,l,a,n).then(()=>{this.requestHistory.set(i,Date.now()),this.metrics.successfulRequests++,this.updateAverageLoadTime(Date.now()-c)}).catch(e=>{if(!(e instanceof Error&&"AbortError"===e.name||l.signal.aborted))throw this.metrics.failedRequests++,e;this.metrics.cancelledRequests++}).finally(()=>{this.activeRequests.delete(i)});this.activeRequests.set(i,{requestId:a,abortController:l,promise:u,startTime:c,selectedFields:e.template.selectedFields,bucketMs:t,requestedInterval:n}),this.metrics.totalRequests++,await u}async performHttpRequest(e,t,n,a){const r=setTimeout(()=>{t.abort()},this.REQUEST_TIMEOUT_MS);try{const n=await this.dispatch(ay({data:{request:e,fields:e.template.selectedFields,loadingType:Df.Zoom,signal:t.signal},contextId:this.contextId})).unwrap();if(clearTimeout(r),n.wasAborted){const e=new Error("Aborted");throw e.name="AbortError",e}sy.processServerResponse({contextId:this.contextId,response:n.response,bucketMs:e.bucketMs,requestedInterval:a,dispatch:this.dispatch,getState:this.getState})}catch(s){throw clearTimeout(r),s}}cancelFieldRequests(e){let t=0;const n=[];for(const[a,r]of this.activeRequests.entries()){if(r.selectedFields.some(t=>t.name===e)){r.abortController.abort();for(const e of r.selectedFields)n.push({field:e.name,bucketMs:r.bucketMs,requestId:r.requestId});this.activeRequests.delete(a),t++}}t>0&&(this.metrics.cancelledRequests+=t,this.removeLoadingTiles(n))}removeLoadingTiles(e){const t=[],n=new Set(e.map(e=>e.requestId));for(const{field:a,bucketMs:r}of e){const e=Wv(this.getState(),this.contextId,a);if(!e)continue;const s=e.seriesLevel[r];if(!s)continue;const i=s.filter(e=>!("loading"===e.status&&e.requestId&&n.has(e.requestId)));i.length!==s.length&&t.push({field:a,bucketMs:r,tiles:i})}t.length>0&&this.dispatch(hp({contextId:this.contextId,updates:t}))}buildRequestKey(e,t,n,a){return`${e}:${t}:${n}:${a}`}updateAverageLoadTime(e){const{successfulRequests:t,averageLoadTime:n}=this.metrics;this.metrics.averageLoadTime=(n*(t-1)+e)/t}clearOldHistory(e=6e4){if(this.isDisposed)return;const t=Date.now();for(const[n,a]of this.requestHistory.entries())t-a>e&&this.requestHistory.delete(n)}getMetrics(){return{...this.metrics}}getContextId(){return this.contextId}dispose(){if(!this.isDisposed){this.isDisposed=!0;for(const e of this.activeRequests.values())e.abortController.abort();this.activeRequests.clear(),this.requestHistory.clear()}}}const oy=$.createContext(null);const ly=new class{constructor(){t(this,"managers",new Map)}register(e,t){this.managers.has(e),this.managers.set(e,t)}unregister(e){this.managers.delete(e)}get(e){return this.managers.get(e)}has(e){return this.managers.has(e)}getAllContextIds(){return Array.from(this.managers.keys())}clear(){this.managers.clear()}size(){return this.managers.size}};function cy({contextId:e,children:t}){const a=ma(),r=Ce(),s=$.useRef(null);return s.current||(s.current=new iy(a,()=>r.getState(),e)),$.useEffect(()=>{const t=s.current;if(t)return ly.register(e,t),()=>{ly.unregister(e),t.dispose()}},[e]),$.useEffect(()=>{const e=s.current;if(!e)return;const t=setInterval(()=>{e.clearOldHistory(6e4)},3e4);return()=>clearInterval(t)},[]),n.jsx(oy.Provider,{value:s.current,children:t})}const uy="_chartContainer_bfe5e_1",dy="_chartsGrid_bfe5e_19",fy="_loading_bfe5e_53",py="_error_bfe5e_55",my="_empty_bfe5e_57",hy="_spinner_bfe5e_103",gy="_retryButton_bfe5e_149",vy=ie("charts/fetchMultiSeriesInit",async(e,{dispatch:t,rejectWithValue:n})=>{var a,r;if(!(null==(a=e.data.template)?void 0:a.databaseId))return n("Missing template or databaseId");const s=t(ny.endpoints.getMultiSeries.initiate(Pu(e.data,e.data.template.databaseId)));t(Jf({contextId:e.contextId,fields:e.data.template.selectedFields,type:Df.Initial,messageError:" ..."}));try{const n=await Xn.run(s.unwrap(),{loading:{text:" ..."},success:{text:" ",toastOptions:{duration:700}},error:{toastOptions:{duration:3e3}}},{id:"fetch-init"});return t(tp({contextId:e.contextId,fields:e.data.template.selectedFields,success:!0})),t(dp({isLoaded:!0,contextId:e.contextId})),n}catch(i){const a=Yn(i);return e.data.template.selectedFields.forEach(n=>{t(ap({contextId:e.contextId,fieldName:n.name,errorMessage:a})),t(np({contextId:e.contextId,field:n.name,success:!1,message:a}))}),n(a)}finally{null==(r=s.unsubscribe)||r.call(s)}});class yy{static processInitResponse(e){const{contextId:t,px:n,response:a,dispatch:r,niceMilliseconds:s}=e;a.series.forEach(e=>{const i=this.buildBucketLevels(e.bucketMs,s),o=this.determineCurrentRange(e.fromMs,e.toMs,a);r(Hf({contextId:t,field:e.field.name,px:n,currentRange:o,originalRange:{fromMs:o.fromMs,toMs:o.toMs},currentBucketsMs:e.bucketMs,seriesLevels:i}));const l=this.snapRange(o.fromMs,o.toMs,e.bucketMs),c=this.createReadyTile(l,e.bins);r(Qf({contextId:t,field:e.field.name,bucketMs:e.bucketMs,tile:c}))})}static buildBucketLevels(e,t){const n=Math.max(1,Math.floor(e)),a=t.map(e=>Math.max(1,Math.floor(e))).filter(e=>e<=n),r=Array.from(new Set(a));return r[r.length-1]!==n&&r.push(n),r.reverse()}static determineCurrentRange(e,t,n){let a=e,r=t;if(!a){let e=Number.MAX_VALUE;n.series.forEach(t=>{t.bins.forEach(t=>{t.t<e&&(e=t.t)})}),a=e!==Number.MAX_VALUE?e:(new Date).getTime()}if(!r){let e=Number.MIN_VALUE;n.series.forEach(t=>{t.bins.forEach(t=>{t.t>e&&(e=t.t)})}),r=e!==Number.MIN_VALUE?e:(new Date).getTime()}return{fromMs:a,toMs:r}}static snapRange(e,t,n){const a=e,r=t,s=Math.max(1,n);return{fromMs:Math.floor(a/s)*s,toMs:Math.ceil(r/s)*s}}static createReadyTile(e,t){return{coverageInterval:e,bins:[...t],status:"ready",loadedAt:Date.now()}}}function by(e){const t=ma(),n=ha(t=>Uv(t,e.contextId)),a=ha(rg),r=ha(t=>Hv(t,e.contextId)),[s,i]=$.useState({isInitializing:!1,isInitialized:!1,error:null}),o=$.useRef(!1),l=$.useRef(!1),c=$.useCallback(async()=>{if(l.current)return;if(!n)return void i(e=>({...e,error:"Template is not set"}));if(void 0===e.px)return;if(o.current)return;const s=n.selectedFields.map(e=>e.name),c=function(e,t){var n;if(!(null==(n=null==e?void 0:e.charts)?void 0:n.view))return!1;let a=!1,r=0;for(const s of t){const t=e.charts.view[s];if(null==t?void 0:t.seriesLevel)for(const e of Object.values(t.seriesLevel)){const t=e.filter(e=>{var t;return"ready"===e.status&&(null==(t=e.bins)?void 0:t.length)>0});t.length>0&&(a=!0,r+=t.reduce((e,t)=>{var n;return e+((null==(n=t.bins)?void 0:n.length)||0)},0))}}return a}({charts:{view:r}},s);if(c)return o.current=!0,i({isInitializing:!1,isInitialized:!0,error:null}),void t(Wf({contextId:e.contextId,px:e.px,fields:n.selectedFields}));o.current=!0,l.current=!0,i({isInitializing:!0,isInitialized:!1,error:null});try{t(Wf({contextId:e.contextId,px:e.px,fields:n.selectedFields}));const r=await t(vy({data:{template:n,px:e.px},contextId:e.contextId})).unwrap();yy.processInitResponse({contextId:e.contextId,px:e.px,response:r,dispatch:t,niceMilliseconds:a.niceMilliseconds}),i({isInitializing:!1,isInitialized:!0,error:null})}catch(u){const e=u instanceof Error?u.message:"Initialization failed";i({isInitializing:!1,isInitialized:!1,error:e})}finally{l.current=!1}},[t,n,e.contextId,e.px,a.niceMilliseconds,r]),u=$.useCallback(()=>{o.current=!1,l.current=!1,i({isInitializing:!1,isInitialized:!1,error:null}),c()},[c]);return $.useEffect(()=>{let t=!1;return n&&void 0!==e.px&&!o.current&&!s.isInitializing&&!s.isInitialized&&!t&&c(),()=>{t=!0}},[e.contextId,e.px]),{...s,initialize:c,reinitialize:u}}class xy{static insertNullsForGaps(e,t,n){if(0===e.length||0===t.length)return e;const a=[];let r=0;const s=[...t].sort((e,t)=>e.fromMs-t.toMs);for(const i of s){for(;r<e.length;){const t=e[r];if(t.t>=i.fromMs)break;a.push(t),r++}a.push({t:i.fromMs,avg:null,min:null,max:null,count:0}),a.push({t:i.toMs,avg:null,min:null,max:null,count:0})}for(;r<e.length;)a.push(e[r]),r++;return a}static mergeBins(e){const t=[];for(const n of e)"ready"===n.status&&t.push(...n.bins);return t.sort((e,t)=>e.t-t.t),t}static selectOptimalData(e){const{targetBucketMs:t,targetFromMs:n,targetToMs:a,originalRange:r,seriesLevels:s,availableBuckets:i}=e,o=s[t];if(o&&o.length>0){const e=ry.findGaps(r,o,{fromMs:n,toMs:a}),s=this.mergeBins(o),i=o.filter(e=>"ready"===e.status);let l=Number.MAX_VALUE,c=Number.MIN_VALUE;for(const t of i)l=Math.min(l,t.coverageInterval.fromMs),c=Math.max(c,t.coverageInterval.toMs);const u=l<c?ry.findGaps(r,o,{fromMs:l,toMs:c}):{gaps:[]};if(s.length>0){const n=u.gaps.map(e=>({fromMs:e.fromMs,toMs:e.toMs})),a=this.insertNullsForGaps(s,n,t),r=e.gaps.map(e=>({fromMs:e.fromMs,toMs:e.toMs}));return{data:a,quality:"exact",coverage:e.coverage,sourceBucketMs:t,isStale:!1,gaps:r}}}const l=[...i].sort((e,n)=>Math.abs(e-t)-Math.abs(n-t));for(const c of l){if(c===t)continue;const e=s[c];if(!e||0===e.length)continue;const i=ry.findGaps(r,e,{fromMs:n,toMs:a});if(i.coverage>=80){const n=this.mergeBins(e),a=e.filter(e=>"ready"===e.status);let s=Number.MAX_VALUE,o=Number.MIN_VALUE;for(const e of a)s=Math.min(s,e.coverageInterval.fromMs),o=Math.max(o,e.coverageInterval.toMs);const l=(s<o?ry.findGaps(r,e,{fromMs:s,toMs:o}):{gaps:[]}).gaps.map(e=>({fromMs:e.fromMs,toMs:e.toMs})),u=this.insertNullsForGaps(n,l,c),d=c<t?"upsampled":"downsampled",f=i.gaps.map(e=>({fromMs:e.fromMs,toMs:e.toMs}));return{data:u,quality:d,coverage:i.coverage,sourceBucketMs:c,isStale:!0,gaps:f}}}return{data:[],quality:"none",coverage:0,sourceBucketMs:void 0,isStale:!1,gaps:[{fromMs:n,toMs:a}]}}static selectOptimalDataWithoutRange(e){const{targetBucketMs:t,seriesLevels:n,availableBuckets:a}=e,r=n[t];if(r&&r.length>0){const e=this.mergeTileBins(r),n=this.calculateTilesCoverage(r);if(n>=95)return{data:e,quality:"exact",coverage:n,sourceBucketMs:t,isStale:!1,gaps:[]}}const s=[...a].sort((e,n)=>Math.abs(e-t)-Math.abs(n-t));for(const i of s){if(i===t)continue;const e=n[i];if(!e||0===e.length)continue;const a=this.calculateTilesCoverage(e);if(a>=80){return{data:this.mergeTileBins(e),quality:i<t?"upsampled":"downsampled",coverage:a,sourceBucketMs:i,isStale:!0,gaps:[]}}}return{data:[],quality:"none",coverage:0,sourceBucketMs:void 0,isStale:!1,gaps:[]}}static calculateTilesCoverage(e){const t=e.filter(e=>"ready"===e.status);if(0===t.length)return 0;let n=Number.MAX_VALUE,a=Number.MIN_VALUE;for(const s of t)n=Math.min(n,s.coverageInterval.fromMs),a=Math.max(a,s.coverageInterval.toMs);if(n>=a)return 0;const r={fromMs:n,toMs:a};return ry.findGaps(r,e).coverage}static mergeTileBins(e){const t=[];for(const n of e)"ready"===n.status&&t.push(...n.bins);return t.sort((e,t)=>e.t-t.t),t}}re([(e,t,n)=>Gv(e,t,n),(e,t,n)=>Kv(e,t,n),(e,t,n)=>Yv(e,t,n),(e,t,n)=>{const a=Yv(e,t,n);return a?Xv(e,t,n,a):[]}],(e,t,n,a)=>{if(!e||!n||!t)return{coverage:0,gaps:[],coveredRanges:[]};const r=ry.findGaps(t,a,{fromMs:e.fromMs,toMs:e.toMs});return{coverage:r.coverage,gaps:r.gaps.map(e=>({fromMs:e.fromMs,toMs:e.toMs})),coveredRanges:[]}}),re([(e,t,n,a,r)=>r,(e,t,n,a,r,s)=>s,(e,t,n)=>Kv(e,t,n),(e,t,n,a)=>Xv(e,t,n,a)],(e,t,n,a)=>{if(!n)return{coverage:0,gaps:[],coveredRanges:[]};const r=ry.findGaps(n,a,{fromMs:e,toMs:t});return{coverage:r.coverage,gaps:r.gaps.map(e=>({fromMs:e.fromMs,toMs:e.toMs})),coveredRanges:[]}});const _y=re([(e,t,n)=>Yv(e,t,n),(e,t,n)=>Gv(e,t,n),(e,t,n)=>Kv(e,t,n),(e,t,n)=>Zv(e,t,n),(e,t,n)=>Jv(e,t,n)],(e,t,n,a,r)=>e&&a&&t&&n?xy.selectOptimalData({targetBucketMs:e,targetFromMs:t.fromMs,targetToMs:t.toMs,originalRange:n,seriesLevels:a,availableBuckets:r}):{data:[],quality:"none",coverage:0,sourceBucketMs:void 0,isStale:!1,gaps:[]}),Sy=re([(e,t,n)=>((e,t,n)=>{const a=Wv(e,t,n);return(null==a?void 0:a.loadingState)??Fv})(e,t,n),(e,t,n)=>Zv(e,t,n)],(e,t)=>{let n=0;return t&&Object.values(t).forEach(e=>{n+=e.filter(e=>"loading"===e.status).length}),{isLoading:e.active,loadingType:e.type,progress:e.progress,activeRequestsCount:n,estimatedEndTime:e.estimatedEndTime}}),Ny=new WeakMap;const wy=re([(e,t,n)=>_y(e,t,n),(e,t,n)=>Yv(e,t,n),(e,t,n)=>n],(e,t,n)=>{const a=function(e){const t=Ny.get(e);if(t)return t;const n=[],a=[],r=[];for(const i of e){const e=i.t;n.push([e,i.avg??null,i.count]),a.push([e,i.min??i.avg??null,i.count]),r.push([e,i.max??i.avg??null,i.count]),i.avg}const s={avg:Object.freeze(n),min:Object.freeze(a),max:Object.freeze(r)};return Ny.set(e,s),s}(e.data);return{avgPoints:a.avg,minPoints:a.min,maxPoints:a.max,bucketMs:t,quality:e.quality,isEmpty:0===a.avg.length}}),ky=re([(e,t,n)=>_y(e,t,n),(e,t,n)=>Sy(e,t,n)],(e,t)=>({totalPoints:e.data.length,coverage:e.coverage,gapsCount:e.gaps.length,quality:e.quality,isLoading:t.isLoading,loadingProgress:t.progress})),Cy=re([(e,t,n)=>wy(e,t,n),(e,t,n)=>Gv(e,t,n)],(e,t)=>{if(!t||0===e.avgPoints.length)return e.avgPoints.length;const n=t.fromMs,a=t.toMs,r=function(e,t){let n=0,a=e.length-1,r=0;for(;n<=a;){const s=Math.floor((n+a)/2),i=e[s];if(!i)break;i[0]<t?n=s+1:(r=s,a=s-1)}return r}(e.avgPoints,n),s=function(e,t){let n=0,a=e.length-1,r=e.length-1;for(;n<=a;){const s=Math.floor((n+a)/2),i=e[s];if(!i)break;i[0]<=t?(r=s,n=s+1):a=s-1}return r}(e.avgPoints,a);return Math.max(0,s-r+1)});const Iy=re([(e,t,n)=>Wv(e,t,n),(e,t,n)=>Yv(e,t,n),(e,t,n)=>Gv(e,t,n)],(e,t,n)=>{if(!(e&&t&&n&&e.originalRange))return Ty;const a=e.seriesLevel[t]??[],r={fromMs:n.fromMs,toMs:n.toMs},s=ry.findGaps(e.originalRange,a,r),i=[],o=[];for(const l of s.gaps){a.some(e=>"loading"===e.status&&e.coverageInterval.fromMs<=l.fromMs&&e.coverageInterval.toMs>=l.toMs)?o.push(l):i.push(l)}return 0===i.length&&0===o.length?Ty:{dataGaps:Object.freeze(i),loadingGaps:Object.freeze(o)}}),Ty=Object.freeze({dataGaps:Object.freeze([]),loadingGaps:Object.freeze([])}),My="_fullscreenWrapper_gbtul_7",jy="_fullscreenActive_gbtul_19",Ey="_viewFieldChartContainer_gbtul_51",Ay="_header_gbtul_79",Ry="_title_gbtul_101",Dy="_templateName_gbtul_109",Ly="_fieldName_gbtul_119",Py="_chartWrapper_gbtul_133",Fy="_chartHeaderWrapper_gbtul_223",Oy="_indicationContainer_gbtul_239",qy="_headerHidden_gbtul_259",zy="_headerVisible_gbtul_271",$y="_toggleHeaderButton_gbtul_283",By="_toggleIcon_gbtul_333",Uy="_exportButton_gbtul_353",Qy=$.forwardRef(function({options:e,totalPoints:t,onZoomEnd:a,loading:r=!1,currentRange:s,originalRange:i},o){const l=$.useRef(null),c=$.useRef(null),u=$.useRef(a),d=$.useRef(t),f=$.useRef(null),p=$.useRef(!1),m=$.useRef(!1),h=$.useRef(null),g=$.useRef(null),v=$.useRef(null),y=$.useRef(0),b=$.useRef(null),x=$.useRef(window.devicePixelRatio),_=$.useRef(null),S=$.useRef(0);return d.current=t,u.current=a,$.useImperativeHandle(o,()=>({resetZoom:()=>{var e;const t=c.current;t&&(m.current=!0,h.current&&clearTimeout(h.current),t.setOption({dataZoom:[{type:"inside",startValue:null==i?void 0:i.fromMs,endValue:null==i?void 0:i.toMs,zoomLock:!1}]},{replaceMerge:["dataZoom"]}),g.current=i,v.current=null,null==(e=u.current)||e.call(u,i),h.current=setTimeout(()=>{m.current=!1,h.current=null},500))}}),[i]),$.useEffect(()=>{const t=l.current;if(!t)return;const n=Ve(t,null,{renderer:"canvas",useDirtyRect:!0,locale:"RU"});c.current=n,n.setOption(e,{notMerge:!0});const a=()=>{var e,t;if(m.current)return;const a=null==(e=n.getOption().dataZoom)?void 0:e[0];if(null!=(null==a?void 0:a.startValue)&&null!=(null==a?void 0:a.endValue)){const e={fromMs:a.startValue,toMs:a.endValue},n=1;if(g.current&&Math.abs(g.current.fromMs-e.fromMs)<=n&&Math.abs(g.current.toMs-e.toMs)<=n)return;if(v.current&&Math.abs(v.current.fromMs-e.fromMs)<=n&&Math.abs(v.current.toMs-e.toMs)<=n)return;v.current=e,g.current=e,null==(t=u.current)||t.call(u,e)}},r=e=>{m.current||p.current||(f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{a()},150))},s=e=>{0===e.button&&(p.current=!0,f.current&&(clearTimeout(f.current),f.current=null))},i=e=>{0===e.button&&p.current&&(p.current=!1,f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{a()},100))};n.on("dataZoom",r),t.addEventListener("mousedown",s),document.addEventListener("mouseup",i);const o=()=>{if(t&&n)try{const e=t.getBoundingClientRect(),a=Math.round(e.width),r=Math.round(e.height);if(a<=0||r<=0)return;n.resize({width:a,height:r,animation:{duration:200,easing:"cubicInOut"}}),requestAnimationFrame(()=>{const e=t.querySelectorAll("canvas");let n=!1;e.forEach(e=>{e.width/window.devicePixelRatio>a+1&&(n=!0)}),n&&S.current<3?(S.current++,setTimeout(()=>o(),50)):S.current=0})}catch(e){}},d=()=>{b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{o()})})},100)},y=new ResizeObserver(e=>{for(const t of e){const{width:e,height:n}=t.contentRect;d()}});y.observe(t);const N=()=>{const e=window.devicePixelRatio;Math.abs(e-x.current)>.01?(x.current=e,_.current&&clearTimeout(_.current),S.current=0,d(),_.current=setTimeout(()=>{d()},200),setTimeout(()=>{d()},500)):d()};window.addEventListener("resize",N);const w=()=>{d()};return window.visualViewport&&window.visualViewport.addEventListener("resize",w),()=>{f.current&&clearTimeout(f.current),h.current&&clearTimeout(h.current),b.current&&clearTimeout(b.current),_.current&&clearTimeout(_.current),y.disconnect(),n.off("dataZoom",r),t.removeEventListener("mousedown",s),document.removeEventListener("mouseup",i),window.removeEventListener("resize",N),window.visualViewport&&window.visualViewport.removeEventListener("resize",w),n.dispose(),c.current=null}},[i]),$.useEffect(()=>{const t=c.current;t&&t.setOption(e,{notMerge:!1,lazyUpdate:!1,silent:!1})},[e]),$.useEffect(()=>{var e;const t=c.current;if(!t||!s)return void(!s&&g.current&&(g.current=null));const n=null==(e=t.getOption().dataZoom)?void 0:e[0],a=null==n?void 0:n.startValue,r=null==n?void 0:n.endValue;return null!=a&&null!=r&&Math.abs(a-s.fromMs)<=1&&Math.abs(r-s.toMs)<=1?(g.current=s,void(y.current=0)):(y.current+=1,y.current>3?(m.current=!1,y.current=0,void(h.current&&(clearTimeout(h.current),h.current=null))):(m.current=!0,h.current&&clearTimeout(h.current),t.setOption({dataZoom:[{type:"inside",startValue:s.fromMs,endValue:s.toMs,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}]},{replaceMerge:["dataZoom"],silent:!0}),g.current=s,h.current=setTimeout(()=>{m.current=!1,h.current=null,y.current=0},500),()=>{h.current&&clearTimeout(h.current)}))},[s]),$.useEffect(()=>{const e=c.current;e&&(r?e.showLoading("default",{text:"...",color:"#4A90E2",maskColor:"rgba(255, 255, 255, 0.8)"}):e.hideLoading())},[r]),n.jsx("div",{ref:l,style:{width:"100%",height:"100%",flex:1,maxWidth:"100%",boxSizing:"border-box",minWidth:0,minHeight:0,overflow:"hidden",position:"relative"}})}),Vy={},Hy=["UTC","Europe/Moscow"],Wy=({value:e,onChange:t,available:a,className:r,style:s,label:i="   "})=>{const o=$.useMemo(()=>Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",[]),l=$.useMemo(()=>{let e=[];if(a&&a.length>0)e=[...a];else{try{"function"==typeof Intl.supportedValuesOf&&(e=Intl.supportedValuesOf("timeZone"))}catch(i){}0===e.length&&(e=[...Hy])}const t=new Set(e);t.has("UTC")||t.add("UTC"),o&&!t.has(o)&&t.add(o);const n=Array.from(t),r=[];r.push("UTC");for(const a of Hy)"UTC"!==a&&n.includes(a)&&r.push(a);const s=n.filter(e=>!r.includes(e)).sort();return r.push(...s),r},[a,o]),c=e=>"UTC"===e?"UTC (+00:00)":e===o?`${e} ( )`:e;return n.jsxs("div",{className:Nu(r,Vy.timeZomePickerContainer),style:{display:"flex",gap:12,alignItems:"center",...s||{}},children:[n.jsxs("label",{style:{display:"flex",gap:6,alignItems:"center",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:e.useTimeZone,onChange:()=>t({...e,useTimeZone:!e.useTimeZone}),style:{cursor:"pointer"}}),n.jsx("span",{style:{userSelect:"none"},children:i})]}),n.jsx("select",{value:e.timeZone,onChange:n=>{t({...e,timeZone:n.target.value})},disabled:!e.useTimeZone,"aria-label":" ",style:{minWidth:"250px",padding:"4px 8px",borderRadius:"4px",border:"1px solid #d9d9d9",backgroundColor:e.useTimeZone?"#fff":"#f5f5f5",cursor:e.useTimeZone?"pointer":"not-allowed",color:"#333",fontWeight:"UTC"===e.timeZone?"600":"normal"},children:l.map((e,t)=>{const a=t===Hy.length&&l.length>Hy.length+1;return n.jsxs(V.Fragment,{children:[n.jsx("option",{value:e,children:c(e)}),a&&n.jsx("option",{disabled:!0,value:"",children:""})]},e)})})]})},Ky="_statsBadge_1h4xl_5",Gy="_stat_1h4xl_5",Yy="_statLabel_1h4xl_41",Zy="_qualityBadge_1h4xl_55",Xy="_loading_1h4xl_103";function Jy({contextId:e,totalPoints:t,coverage:a,quality:r,isLoading:s,fieldName:i}){const o=ma(),l=Ie(e=>ag(e)),c=Ie(t=>Yv(t,e,i)),u=Ie(t=>Cy(t,e,i)),d=a>=95?"green":a>=80?"orange":"red";return n.jsxs("div",{className:Ky,children:[n.jsx(Wy,{value:l,onChange:e=>o(sg(e)),label:""}),void 0!==c&&n.jsxs("span",{className:Gy,children:[n.jsx("span",{className:Yy,children:"Bucket:"}),n.jsx("strong",{children:eb(c)})]}),n.jsxs("span",{className:Gy,children:[n.jsx("span",{className:Nu(Yy),children:":"}),n.jsx("strong",{children:`${u} / ${t}`})]}),n.jsxs("span",{className:Gy,children:[n.jsx("span",{className:Yy,children:":"}),n.jsxs("strong",{style:{color:d},children:[a.toFixed(0),"%"]})]}),n.jsxs("span",{className:Gy,children:[n.jsx("span",{className:Yy,children:":"}),n.jsx("span",{className:Zy,"data-quality":r,children:tb(r)})]}),s&&n.jsx("span",{className:Xy,title:" ...",children:""})]})}function eb(e){const t=e/1e3,n=t/60,a=n/60,r=a/24;return r>=1?`${r.toFixed(0)}d`:a>=1?`${a.toFixed(0)}h`:n>=1?`${n.toFixed(0)}m`:`${t.toFixed(0)}s`}function tb(e){switch(e){case"exact":return"";case"upsampled":return"Upsampled";case"downsampled":return"Downsampled";case"none":return" ";default:return e}}const nb="_chartFooter_1rdy2_1",ab="_stat_1rdy2_31",rb="_statLabel_1rdy2_43",sb="_rangeValue_1rdy2_55",ib="_dateTimeBlock_1rdy2_67",ob="_timeRange_1rdy2_79",lb="_dateText_1rdy2_91",cb="_timeText_1rdy2_101",ub="_separator_1rdy2_113";function db(e){const t=e.match(/^(.+?),\s*(.+)$/);return t?{date:t[1].trim(),time:t[2].trim()}:{date:e,time:""}}const fb=({fromMs:e,toMs:t,timeSettings:a})=>{const r=$.useMemo(()=>{const n=ug(e,a),r=ug(t,a),s=db(n),i=db(r);return{from:s,to:i,isSameDate:s.date===i.date}},[e,t,a]);return r.isSameDate?n.jsxs("span",{className:sb,children:[n.jsx("span",{className:lb,children:r.from.date}),n.jsxs("span",{className:ob,children:[n.jsx("strong",{className:cb,children:r.from.time}),n.jsx("span",{className:ub,children:""}),n.jsx("strong",{className:cb,children:r.to.time})]})]}):n.jsxs("span",{className:sb,children:[n.jsxs("span",{className:ib,children:[n.jsx("span",{className:lb,children:r.from.date}),n.jsx("strong",{className:cb,children:r.from.time})]}),n.jsx("span",{className:ub,children:""}),n.jsxs("span",{className:ib,children:[n.jsx("span",{className:lb,children:r.to.date}),n.jsx("strong",{className:cb,children:r.to.time})]})]})},pb=({fieldName:e,contextId:t})=>{const a=Ie(n=>Gv(n,t,e)),r=Ie(e=>ag(e)),s=Ie(n=>Kv(n,t,e));return n.jsxs("div",{className:nb,children:[s&&n.jsxs("span",{className:ab,children:[n.jsx("span",{className:rb,children:":"}),n.jsx(fb,{fromMs:s.fromMs,toMs:s.toMs,timeSettings:r})]}),a&&n.jsxs("span",{className:ab,children:[n.jsx("span",{className:rb,children:":"}),n.jsx(fb,{fromMs:a.fromMs,toMs:a.toMs,timeSettings:r})]})]})},mb="_container_1x3ds_5",hb="_header_1x3ds_21",gb="_title_1x3ds_39",vb="_loadingIndicator_1x3ds_51",yb="_stats_1x3ds_65",bb="_statItem_1x3ds_77",xb="_statLabel_1x3ds_91",_b="_statValue_1x3ds_105",Sb="_error_1x3ds_119",Nb="_errorIcon_1x3ds_141",wb="_levelsList_1x3ds_149",kb="_emptyState_1x3ds_167",Cb="_row_55t3u_13",Ib="_rowDefault_55t3u_33",Tb="_rowCurrent_55t3u_53",Mb="_label_55t3u_73",jb="_labelDefault_55t3u_93",Eb="_labelCurrent_55t3u_101",Ab="_labelText_55t3u_109",Rb="_currentIndicator_55t3u_119",Db="_statistics_55t3u_165",Lb="_statsText_55t3u_199",Pb="_statsPercent_55t3u_207",Fb="_loadingBadge_55t3u_217",Ob="_errorBadge_55t3u_219",qb="_debugInfo_55t3u_263",zb="_debugItem_55t3u_299",$b="_coverageBarWrapper_55t3u_321",Bb="_wrapper_584v4_13",Ub="_progress_584v4_35",Qb="_container_584v4_57",Vb="_containerNoAnimation_584v4_67",Hb="_segment_584v4_83",Wb="_segmentNoAnimation_584v4_105",Kb="_segmentCovered_584v4_129",Gb="_segmentLoading_584v4_155",Yb="_coveragePercent_584v4_229";function Zb(e){return new Date(e).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function Xb(e,t,n){const a=n-t;if(a<=0)return null;const r=Math.max(e.fromMs,t),s=Math.min(e.toMs,n);if(r>=s)return null;const i=e=>(e-t)/a*100;return{left:i(r),width:i(s)-i(r),startMs:r,endMs:s}}const Jb=({coverage:e,originalRange:t,backgroundColor:a="#e5e7eb",coverageColor:r="#3b82f6",loadingColor:s="#fbbf24",loadingIntervals:i=[],showTooltip:o=!0,animate:l=!0,showPercent:c=!0,className:u})=>{const d=$.useMemo(()=>{if(t.toMs-t.fromMs<=0)return{covered:[],loading:[]};return{covered:e.map(e=>Xb(e,t.fromMs,t.toMs)).filter(e=>null!==e),loading:i.map(e=>Xb(e,t.fromMs,t.toMs)).filter(e=>null!==e)}},[e,i,t]),f=$.useMemo(()=>{const n=t.toMs-t.fromMs;if(n<=0)return 0;let a=0;return e.forEach(e=>{const n=Math.max(e.fromMs,t.fromMs),r=Math.min(e.toMs,t.toMs);r>n&&(a+=r-n)}),Math.round(a/n*100)},[e,t.fromMs,t.toMs]),p=e=>{if(o)return`${Zb(e.startMs)}  ${Zb(e.endMs)}`},m=(e,t)=>({left:`${e.left}%`,width:`${e.width}%`,backgroundColor:t}),h=Nu(l?Qb:Vb,Ub,u),g=e=>Nu(l?Hb:Wb,"covered"===e?Kb:Gb);return n.jsxs("div",{className:Bb,children:[n.jsxs("div",{className:h,style:{backgroundColor:a},title:o?`: ${f}%`:void 0,children:[d.loading.map((e,t)=>n.jsx("div",{className:g("loading"),style:m(e,s),title:p(e),"aria-label":`: ${Zb(e.startMs)}  ${Zb(e.endMs)}`},`loading-${e.startMs}-${e.endMs}-${t}`)),d.covered.map((e,t)=>n.jsx("div",{className:g("covered"),style:m(e,r),title:p(e),"aria-label":`: ${Zb(e.startMs)}  ${Zb(e.endMs)}`},`covered-${e.startMs}-${e.endMs}-${t}`))]}),c&&n.jsxs("div",{className:Yb,"aria-label":` : ${f}%`,children:[f,"%"]})]})};function ex(){const e=$.useContext(oy);if(!e)throw new Error("[useLocalRequestManager] Must be used within RequestManagerProvider. Add <RequestManagerProvider> to your App component.");return e}const tx=({level:e,fieldName:t,width:a,originalRange:r,showDetails:s=!0})=>{const i=ex(),o=e.errorCoverage.length>0,l=e.loadingCoverage.length>0,c=e.isCurrent?`${Cb} ${Tb}`:`${Cb} ${Ib}`,u=e.isCurrent?`${Mb} ${Eb}`:`${Mb} ${jb}`,d=e.isCurrent?"#3b82f6":"#10b981",f=o?"#fee2e2":"rgba(229, 231, 235, 0.55)";return n.jsxs("div",{className:c,children:[n.jsxs("button",{onClick:()=>{i.loadVisibleRange(t,r.fromMs,r.toMs,e.bucketMs,a)},children:["load ",e.bucketMs]}),n.jsxs("div",{className:u,children:[e.isCurrent&&n.jsx("span",{className:Rb,title:" ","aria-label":" "}),n.jsx("span",{className:Ab,children:e.bucketLabel})]}),s?n.jsxs("div",{className:Db,children:[n.jsxs("span",{className:Lb,children:[e.coveredBins," / ",e.totalBins]}),n.jsxs("span",{className:Pb,children:["(",e.coveragePercent,"%)"]}),l&&n.jsx("span",{className:Fb,title:" ",children:""}),o&&n.jsx("span",{className:Ob,title:" ",children:""})]}):n.jsx("div",{className:Db}),s&&e.debugInfo?n.jsxs("div",{className:qb,children:[n.jsxs("span",{className:zb,children:["T: ",e.debugInfo.readyTiles,"/",e.debugInfo.totalTiles]}),n.jsxs("span",{className:zb,children:["P: ",e.debugInfo.totalDataPoints.toLocaleString("ru-RU")]})]}):n.jsx("div",{className:qb}),n.jsx("div",{className:$b,children:n.jsx(Jb,{coverage:e.coverage,loadingIntervals:e.loadingCoverage,originalRange:r,coverageColor:d,loadingColor:"#fbbf24",backgroundColor:f})})]})};function nx(e){if(!e||!Number.isFinite(e))return"";const t=Math.floor(e/1e3),n=Math.floor(t/60),a=Math.floor(n/60),r=Math.floor(a/24),s=Math.floor(r/7),i=Math.floor(r/30),o=Math.floor(r/365);return o>0?`${o}`:i>0?`${i}`:s>0?`${s}`:r>0?`${r}`:a>0?`${a}`:n>0?`${n}`:`${t}`}const ax=({contextId:e,width:t,fieldName:a,showDetails:r=!0})=>{const s=ha(t=>Wv(t,e,a)),i=Ie(t=>Kv(t,e,a)),o=$.useMemo(()=>{if(!s)return{levels:[],originalRange:void 0,currentBucketMs:void 0,isFieldLoading:!1,fieldError:void 0,totalLevels:0};if(!i)return{levels:[],originalRange:void 0,currentBucketMs:s.currentBucketsMs,isFieldLoading:s.loadingState.active,fieldError:s.error,totalLevels:0};if(i.toMs<=i.fromMs)return{levels:[],originalRange:void 0,currentBucketMs:s.currentBucketsMs,isFieldLoading:s.loadingState.active,fieldError:"  ",totalLevels:0};const e=Object.keys(s.seriesLevel).map(e=>Number(e)).filter(e=>Number.isFinite(e)&&e>0).sort((e,t)=>t-e);if(0===e.length)return{levels:[],originalRange:i,currentBucketMs:s.currentBucketsMs,isFieldLoading:s.loadingState.active,fieldError:s.error,totalLevels:0};const t=[];return e.forEach(e=>{const n=s.seriesLevel[e];if(!n)return;const a=n.filter(e=>"ready"===e.status),r=n.filter(e=>"loading"===e.status),o=n.filter(e=>"error"===e.status),l=a.reduce((e,t)=>{var n;return e+((null==(n=t.bins)?void 0:n.length)??0)},0),c=a.map(e=>e.coverageInterval),u=r.map(e=>e.coverageInterval),d=o.map(e=>e.coverageInterval),f=i.toMs-i.fromMs,p=Math.ceil(f/e);let m=0;c.forEach(e=>{const t=Math.max(e.fromMs,i.fromMs),n=Math.min(e.toMs,i.toMs);n>t&&(m+=n-t)});const h=Math.floor(m/e),g=f>0?Math.round(m/f*100):0,v=e===s.currentBucketsMs;t.push({bucketMs:e,bucketLabel:nx(e),coverage:c,loadingCoverage:u,errorCoverage:d,totalBins:p,coveredBins:h,coveragePercent:g,isCurrent:v,debugInfo:{totalTiles:n.length,readyTiles:a.length,loadingTiles:r.length,errorTiles:o.length,totalDataPoints:l}})}),{levels:t,originalRange:i,currentBucketMs:s.currentBucketsMs,isFieldLoading:s.loadingState.active,fieldError:s.error,totalLevels:t.length}},[s,i,a]),l=$.useMemo(()=>{if(0===o.levels.length)return 0;const e=o.levels.filter(e=>e.debugInfo&&e.debugInfo.totalTiles>0);if(0===e.length)return 0;const t=e.reduce((e,t)=>e+t.coveragePercent,0);return Math.round(t/e.length)},[o.levels]);return n.jsxs("div",{className:mb,children:[n.jsxs("div",{className:hb,children:[n.jsx("div",{className:gb,children:o.isFieldLoading&&n.jsx("span",{className:vb,children:"(...)"})}),n.jsxs("div",{className:yb,children:[n.jsxs("div",{className:bb,children:[n.jsx("div",{className:xb,children:""}),n.jsx("div",{className:_b,children:o.totalLevels})]}),n.jsxs("div",{className:bb,children:[n.jsx("div",{className:xb,children:""}),n.jsx("div",{className:_b,children:o.currentBucketMs?nx(o.currentBucketMs):""})]}),n.jsxs("div",{className:bb,children:[n.jsx("div",{className:xb,children:""}),n.jsxs("div",{className:_b,children:[l,"%"]})]})]})]}),o.fieldError&&n.jsxs("div",{className:Sb,children:[n.jsx("span",{className:Nb,children:""}),n.jsxs("span",{children:[": ",o.fieldError]})]}),o.originalRange?n.jsx("div",{className:wb,children:0===o.levels.length?n.jsx("div",{className:kb,children:"  "}):o.levels.map(e=>n.jsx(tx,{level:e,fieldName:a,width:t,originalRange:o.originalRange,showDetails:r},e.bucketMs))}):n.jsx("div",{className:kb,children:"   "})]})},rx="_container_r4myl_7",sx="_containerBottom_r4myl_33",ix="_containerTop_r4myl_59",ox="_progressBar_r4myl_85",lx="_indeterminate_r4myl_121",cx=({chartFieldStatus:e,position:t})=>{if(!e.isLoading)return null;const a="belowAxis"===t?sx:"top"===t?ix:rx;return n.jsx("div",{className:a,children:e.loadingProgress>0?n.jsx("div",{className:ox,style:{width:`${e.loadingProgress}%`}}):n.jsx("div",{className:lx})})},ux="_resizableContainer_138f2_1",dx="_resizing_138f2_31",fx="_resizableContainer__content_138f2_39",px="_resizeHandle_138f2_75",mx="_resizeGrip_138f2_101",hx="_groupSyncButton_138f2_135",gx="_groupControl_138f2_185",vx="_active_138f2_227";const yx=new class{constructor(){t(this,"groups",new Map)}getGroup(e){return this.groups.has(e)||this.groups.set(e,{height:500,listeners:new Set,stateListeners:new Set,enabled:!1}),this.groups.get(e)}subscribe(e,t){const n=this.getGroup(e);return n.listeners.add(t),()=>n.listeners.delete(t)}subscribeToState(e,t){const n=this.getGroup(e);return n.stateListeners.add(t),t(n.enabled),()=>n.stateListeners.delete(t)}updateHeight(e,t){const n=this.getGroup(e);n.height=t,n.enabled&&n.listeners.forEach(e=>e(t))}toggleGroup(e,t){const n=this.getGroup(e),a=void 0!==t?t:!n.enabled;return n.enabled=a,n.stateListeners.forEach(e=>e(a)),a&&n.listeners.forEach(e=>e(n.height)),a}setIndividualSync(e,t){const n=this.getGroup(e);t&&!n.enabled&&(n.enabled=!0,n.stateListeners.forEach(e=>e(!0)))}isGroupEnabled(e){return this.getGroup(e).enabled}getGroupHeight(e){return this.getGroup(e).height}},bx=({groupId:e,children:t,minHeight:a=200,maxHeight:r=1200,defaultHeight:s=500,onHeightChange:i,className:o,disabled:l=!1})=>{const c=$.useRef(null),[u,d]=$.useState(s),[f,p]=$.useState(!1),[m,h]=$.useState(!1),g=$.useRef(!1);$.useEffect(()=>{d(s)},[s]);const v=$.useCallback(t=>{if(l)return;const n=Math.max(a,Math.min(r,t));d(n),null==i||i(n),m&&!g.current&&yx.updateHeight(e,n)},[a,r,i,m,e,l]);$.useEffect(()=>{const t=yx.subscribe(e,e=>{if(m&&!l){g.current=!0;const t=Math.max(a,Math.min(r,e));d(t),null==i||i(t),g.current=!1}}),n=yx.subscribeToState(e,t=>{if(!l&&(h(t),t)){const t=yx.getGroupHeight(e),n=Math.max(a,Math.min(r,t));g.current=!0,d(n),null==i||i(n),g.current=!1}});return()=>{t(),n()}},[e,a,r,i,m,l]);const y=$.useCallback(e=>{if(l)return;e.preventDefault(),p(!0);const t=e.clientY,n=u,a=e=>{const a=e.clientY-t;v(n+a)},r=()=>{p(!1),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",r)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",r)},[u,v,l]);return n.jsxs("div",{ref:c,className:`${ux} ${o||""} ${f?dx:""}`,style:{height:u},children:[n.jsx("div",{className:fx,children:t}),!l&&n.jsx("div",{className:px,onMouseDown:y,children:n.jsxs("div",{className:mx,children:[n.jsx(xx,{groupId:e}),n.jsx("span",{}),n.jsx("span",{}),n.jsx("span",{})]})})]})},xx=({groupId:e})=>{const[t,a]=$.useState(!1),[r,s]=$.useState(500);$.useEffect(()=>{const t=yx.subscribe(e,e=>{s(e)}),n=yx.subscribeToState(e,e=>{a(e)});return a(yx.isGroupEnabled(e)),s(yx.getGroupHeight(e)),()=>{t(),n()}},[e]);return n.jsx("div",{className:gx,children:n.jsx("button",{onClick:()=>{const t=yx.toggleGroup(e);a(t)},className:`${hx} ${t?vx:""}`,children:t?"":""})})};const _x={enabled:!1,duration:800,easing:"cubicOut",staggerPoints:!0,updateDuration:200};function Sx(e){const{avgPoints:t,minPoints:n,maxPoints:a,fieldName:r,originalRange:s,timeSettings:i,gapsInfo:o,isZoomOnMouseWheelKeyCtrl:l=!0,isEmphasis:c=!1,animationConfig:u=_x,customYAxisRange:d}=e;if(0===t.length)return{title:{text:r,left:"center"},xAxis:{type:"time"},yAxis:{type:"value"},series:[]};const f=(null==s?void 0:s.fromMs)??0,p=(null==s?void 0:s.toMs)??0,m=t.length<50?6:4,h=u.enabled&&t.length<2e3,g=[];if(t.forEach(e=>{Array.isArray(e)&&e.length>=2&&"number"==typeof e[1]&&Number.isFinite(e[1])&&g.push(e)}),n.forEach(e=>{Array.isArray(e)&&e.length>=2&&"number"==typeof e[1]&&Number.isFinite(e[1])&&g.push(e)}),a.forEach(e=>{Array.isArray(e)&&e.length>=2&&"number"==typeof e[1]&&Number.isFinite(e[1])&&g.push(e)}),0===g.length)return{title:{text:r,left:"center"},xAxis:{type:"time",...void 0!==f&&{min:f},...void 0!==p&&{max:p}},yAxis:{type:"value"},series:[]};const v=function(e,t){const n=[];for(const v of e){const e=v[1];Number.isFinite(e)&&n.push(e)}if(0===n.length)return{min:(null==t?void 0:t.min)??0,max:(null==t?void 0:t.max)??100};let a=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;for(const v of n)v<a&&(a=v),v>r&&(r=v);const s=r-a,i=Math.max(Math.abs(a),Math.abs(r)),o=n.reduce((e,t)=>e+t,0)/n.length,l=n.reduce((e,t)=>e+Math.pow(t-o,2),0)/n.length,c=Math.sqrt(l),u=Math.max(1e-10*i,1e-10);let d,f;if(s<u||c<u){const e=o,t=Math.abs(e),n=t>0?Math.floor(Math.log10(t)):0;let a;a=t<1e-10?1:t<1e-6||t<.001?Math.pow(10,n-1):t<1?Math.max(.1,Math.pow(10,n-1)):t<100?Math.max(1,2*Math.pow(10,n-1)):5*Math.pow(10,n-1),d=e-a,f=e+a}else{let e;e=c<.05*i?.15:i<.001?.25:i<1?.15:.1;const t=.5*c,n=s*e,o=Math.max(t,n);d=a-o,f=r+o;const l=e=>{if(Math.abs(e)<1e-6)return e;const t=Math.abs(e),n=Math.floor(Math.log10(t)),a=Math.pow(10,n-1);return Math.round(e/a)*a};i>=10&&(d=l(d),f=l(f))}const p=f-d,m=Math.max(.05*i,1e-6);if(p<m){const e=(d+f)/2,t=m/2;d=e-t,f=e+t}const h=(null==t?void 0:t.min)??d,g=(null==t?void 0:t.max)??f;if(g<=h)return{min:h,max:h+Math.max(1,.1*i)};return{min:h,max:g}}(g,d),y=v.min,b=v.max,x=[];n.length>0&&a.length>0&&(x.push({name:`${r} ()`,type:"line",data:n,lineStyle:{opacity:0},stack:"confidence",symbol:"none",areaStyle:{color:"rgba(74, 144, 226, 0.15)",opacity:.7},z:0,silent:!0,animation:!1}),x.push({name:`${r} ( )`,type:"line",data:a,lineStyle:{opacity:0},stack:"confidence",symbol:"none",z:0,silent:!0,animation:!1})),n.length>0&&x.push({name:`${r} (min)`,type:"line",data:n,smooth:!1,symbol:"circle",symbolSize:m-1,lineStyle:{width:1.5,color:"#82ca9d",type:"dashed",opacity:.8},itemStyle:{color:"#82ca9d",borderColor:"#fff",borderWidth:1},emphasis:{focus:c?"series":"none",lineStyle:{width:2},itemStyle:{borderWidth:2,shadowBlur:10,shadowColor:"#82ca9d"}},connectNulls:!1,animation:!1,z:2}),a.length>0&&x.push({name:`${r} (max)`,type:"line",data:a,smooth:!1,symbol:"circle",symbolSize:m-1,lineStyle:{width:1.5,color:"#ff6b6b",type:"dashed",opacity:.8},itemStyle:{color:"#ff6b6b",borderColor:"#fff",borderWidth:1},emphasis:{focus:c?"series":"none",lineStyle:{width:2},itemStyle:{borderWidth:2,shadowBlur:10,shadowColor:"#ff6b6b"}},connectNulls:!1,animation:!1,z:2});const _=function(e,t,n){if(!e||0===e.dataGaps.length&&0===e.loadingGaps.length)return;const a=[];for(const r of e.dataGaps)a.push([{name:" ",xAxis:r.fromMs,yAxis:t,itemStyle:{color:"rgba(255, 107, 107, 0.1)",borderColor:"rgba(255, 107, 107, 0.3)",borderWidth:1,borderType:"dashed"}},{xAxis:r.toMs,yAxis:n}]);for(const r of e.loadingGaps)a.push([{name:"...",xAxis:r.fromMs,yAxis:t,itemStyle:{color:"rgba(251, 191, 36, 0.08)",borderColor:"rgba(251, 191, 36, 0.4)",borderWidth:1,borderType:"dotted"}},{xAxis:r.toMs,yAxis:n}]);return{silent:!0,data:a}}(o,y,b);return x.push({name:r,type:"line",data:t,smooth:!1,symbol:"circle",symbolSize:m,lineStyle:{width:2.5,color:"#4A90E2",shadowBlur:2,shadowColor:"#4A90E2",shadowOffsetY:1},itemStyle:{color:"#4A90E2",borderColor:"#fff",borderWidth:2},emphasis:{focus:c?"series":"none",lineStyle:{width:3.5},itemStyle:{borderWidth:3,shadowBlur:10,shadowColor:"#4A90E2"}},connectNulls:!1,markArea:_,animation:h,animationDuration:h?u.staggerPoints?e=>e/Math.max(1,t.length-1)*u.duration:u.duration:0,animationEasing:u.easing,animationDelay:h&&u.staggerPoints?e=>2*e:0,animationDurationUpdate:h?u.updateDuration:0,animationEasingUpdate:"cubicInOut",animationDelayUpdate:0,z:3}),{useUTC:!i.useTimeZone||"UTC"===i.timeZone,tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"},animation:!1},className:"echarts-tooltip",backgroundColor:"transparent",borderWidth:0,padding:0,formatter:e=>{var t,n;if(!Array.isArray(e)||0===e.length)return"";const a=e.filter(e=>e&&e.seriesName&&(e.seriesName===r||e.seriesName===`${r} (min)`||e.seriesName===`${r} (max)`));if(0===a.length)return"";const s=a.find(e=>e.seriesName===r),o=a.find(e=>e.seriesName===`${r} (min)`),l=a.find(e=>e.seriesName===`${r} (max)`);if(!s||!s.value||!Array.isArray(s.value)||s.value.length<2)return"";const c=s.value[0];if("number"!=typeof c||!Number.isFinite(c))return"";return`\n                    <div class="echarts-tooltip-container">\n                        <div class="echarts-tooltip-time">${ug(c,i,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}</div>\n                        \n                        <div class="echarts-tooltip-row">\n                            <span class="echarts-tooltip-marker" style="background-color: #4A90E2;"></span>\n                            <span class="echarts-tooltip-label">:</span>\n                            <span class="echarts-tooltip-value">${s.value[1]}</span>\n                        </div>\n                        \n                        <div class="echarts-tooltip-row">\n                            <span class="echarts-tooltip-marker" style="background-color: #82ca9d;"></span>\n                            <span class="echarts-tooltip-label">:</span>\n                            <span class="echarts-tooltip-value">${null==(t=null==o?void 0:o.value)?void 0:t[1]}</span>\n                        </div>\n                        \n                        <div class="echarts-tooltip-row">\n                            <span class="echarts-tooltip-marker" style="background-color: #ff6b6b;"></span>\n                            <span class="echarts-tooltip-label">:</span>\n                            <span class="echarts-tooltip-value">${null==(n=null==l?void 0:l.value)?void 0:n[1]}</span>\n                        </div>\n                        \n                        <div class="echarts-tooltip-count">\n                            <span class="echarts-tooltip-label">-   :</span>\n                            <span class="echarts-tooltip-value">${s.value[2]??0}</span>\n                        </div>\n                    </div>\n                `}},toolbox:{feature:{dataZoom:{yAxisIndex:"none",title:{zoom:" ",back:" "}},restore:{title:""},saveAsImage:{pixelRatio:2,title:"  "}},right:10,top:10},legend:{data:[r,`${r} (min)`,`${r} (max)`],top:30,selected:{[r]:!0,[`${r} (min)`]:!0,[`${r} (max)`]:!0}},xAxis:{type:"time",min:f,max:p,axisLabel:{show:!1},axisPointer:{show:!0,type:"line",snap:!0,lineStyle:{color:"#4A90E2",width:1,type:"dashed"},label:{show:!0,formatter:e=>{const t=e.value;return"number"!=typeof t?"":ug(t,i,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})},backgroundColor:"rgba(74, 144, 226, 0.9)",color:"#fff",padding:[8,12],fontSize:12,fontWeight:"bold",borderRadius:4}},splitLine:{show:!1},axisLine:{lineStyle:{color:"#ddd"}},axisTick:{show:!1}},yAxis:{type:"value",scale:!0,min:y,max:b,name:"",nameTextStyle:{fontSize:12,color:"#666"},splitLine:{show:!0,lineStyle:{color:"#E0E0E0",type:"dashed"}},axisLine:{show:!0,lineStyle:{color:"#ddd"}},axisLabel:{fontSize:11,formatter:e=>{if(0===e)return"0";const t=Math.abs(e);return t>=1e6?(e/1e6).toFixed(1)+"M":t>=1e3?(e/1e3).toFixed(1)+"K":t<.01?e.toExponential(2):e.toFixed(2)}}},grid:{left:50,right:20,top:80,bottom:60,containLabel:!0},dataZoom:[{type:"inside",xAxisIndex:0,zoomOnMouseWheel:!l||"ctrl",moveOnMouseWheel:!1,minValueSpan:6e4,filterMode:"none",zoomLock:!1},{type:"inside",yAxisIndex:0,filterMode:"none",zoomOnMouseWheel:"shift",moveOnMouseWheel:!1,throttle:100},{type:"slider",xAxisIndex:0,minValueSpan:6e4,filterMode:"none",height:30,bottom:10,borderColor:"#ddd",backgroundColor:"rgba(47, 69, 84, 0.05)",fillerColor:"rgba(70, 130, 180, 0.15)",handleStyle:{color:"#4A90E2",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.3)"},textStyle:{fontSize:11}}],series:x,animation:!1}}const Nx={container:"_container_1acqg_5",toggleButton:"_toggleButton_1acqg_21",active:"_active_1acqg_65",icon:"_icon_1acqg_77",buttonText:"_buttonText_1acqg_87",deviationBadge:"_deviationBadge_1acqg_99",low:"_low_1acqg_115",medium:"_medium_1acqg_125",high:"_high_1acqg_135",panel:"_panel_1acqg_147",header:"_header_1acqg_197",title:"_title_1acqg_215",headerButtons:"_headerButtons_1acqg_233",iconButton:"_iconButton_1acqg_243",resetButton:"_resetButton_1acqg_275",quickActions:"_quickActions_1acqg_315",quickButton:"_quickButton_1acqg_333",expand:"_expand_1acqg_357",shrink:"_shrink_1acqg_377",section:"_section_1acqg_399",sectionHeader:"_sectionHeader_1acqg_421",label:"_label_1acqg_441",value:"_value_1acqg_453",sliderContainer:"_sliderContainer_1acqg_477",slider:"_slider_1acqg_477",sliderLabels:"_sliderLabels_1acqg_589",presetButtons:"_presetButtons_1acqg_609",presetButton:"_presetButton_1acqg_609",increase:"_increase_1acqg_645",decrease:"_decrease_1acqg_665",mild:"_mild_1acqg_685",manualInput:"_manualInput_1acqg_707",inputLabel:"_inputLabel_1acqg_723",numberInput:"_numberInput_1acqg_737",manualButtons:"_manualButtons_1acqg_769",cancelButton:"_cancelButton_1acqg_781",applyButton:"_applyButton_1acqg_783",info:"_info_1acqg_851",infoRow:"_infoRow_1acqg_869",infoLabel:"_infoLabel_1acqg_895",infoValue:"_infoValue_1acqg_905",deviation:"_deviation_1acqg_99"},wx=[{factor:3,label:"3",className:Nx.increase},{factor:2,label:"2",className:Nx.increase},{factor:1.5,label:"1.5",className:Nx.increase},{factor:1.1,label:"+10%",className:Nx.mild},{factor:.9,label:"-10%",className:Nx.mild},{factor:.75,label:"0.75",className:Nx.decrease},{factor:.5,label:"0.5",className:Nx.decrease}],kx=[{factor:.5,label:"0.5",className:Nx.decrease},{factor:.75,label:"0.75",className:Nx.decrease},{factor:.9,label:"-10%",className:Nx.mild},{factor:1.1,label:"+10%",className:Nx.mild},{factor:1.5,label:"1.5",className:Nx.increase},{factor:2,label:"2",className:Nx.increase},{factor:3,label:"3",className:Nx.increase}],Cx=16,Ix=({control:e,className:t})=>{const[a,r]=$.useState(!1),[s,i]=$.useState(!1),[o,l]=$.useState(""),[c,u]=$.useState(""),[d,f]=$.useState({}),p=$.useRef(null),m=$.useRef(null),h=$.useCallback(()=>{r(e=>!e)},[]),g=$.useCallback(()=>{i(t=>(t||(l(e.currentRange.min.toString()),u(e.currentRange.max.toString())),!t))},[e.currentRange]);$.useEffect(()=>{if(!a||!p.current||!m.current)return;const e=()=>{if(!p.current||!m.current)return;const e=p.current.getBoundingClientRect(),t=m.current,n=t.offsetWidth,a=t.offsetHeight,r=window.innerWidth,s=window.innerHeight,i=e.left,o=e.right,l=e.top,c=e.bottom;e.width;let u,d=c+8,h=!1;d+a>s-Cx&&(d=l-a-8,h=!0,d<Cx&&(d=c+8,h=!1));const g=o-n;if(g>=Cx&&o<=r-Cx)u=g;else if(i>=Cx&&i+n<=r-Cx)u=i;else{u=r-o>i?r-n-Cx:Cx}u<Cx&&(u=Cx),u+n>r-Cx&&(u=r-n-Cx),d<Cx&&(d=Cx);f({top:`${d}px`,left:`${u}px`})},t=setTimeout(e,20),n=()=>{e()},r=()=>{e()};return window.addEventListener("resize",n),window.addEventListener("scroll",r,!0),()=>{clearTimeout(t),window.removeEventListener("resize",n),window.removeEventListener("scroll",r,!0)}},[a]),$.useEffect(()=>{if(!a)return;const e=e=>{p.current&&!p.current.contains(e.target)&&(r(!1),i(!1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[a]);const v=$.useCallback(e=>{if(0===e)return"0";const t=Math.abs(e);return t>=1e6?(e/1e6).toFixed(2)+"M":t>=1e3?(e/1e3).toFixed(2)+"K":t<.01?e.toExponential(3):t<1?e.toFixed(4):e.toFixed(2)},[]),y=$.useCallback(e=>Math.abs(e)<.001?e.toExponential(6):Math.abs(e)<1?e.toFixed(6):Math.abs(e)<1e3?e.toFixed(3):e.toLocaleString("ru-RU",{maximumFractionDigits:2}),[]),b=$.useMemo(()=>{const t=e.optimalRange.max-e.optimalRange.min;return(e.currentRange.max-e.currentRange.min-t)/t*100},[e.optimalRange,e.currentRange]),x=$.useMemo(()=>{const t=e.optimalRange.max-e.optimalRange.min;return(e.currentRange.min-e.optimalRange.min)/t*100},[e.optimalRange,e.currentRange.min]),_=$.useMemo(()=>{const t=e.optimalRange.max-e.optimalRange.min;return(e.currentRange.max-e.optimalRange.max)/t*100},[e.optimalRange,e.currentRange.max]),S=$.useCallback(t=>{const n=parseFloat(t.target.value),a=e.optimalRange.max-e.optimalRange.min,r=e.optimalRange.min+a*n/100;e.setCustomMin(r)},[e]),N=$.useCallback(t=>{const n=parseFloat(t.target.value),a=e.optimalRange.max-e.optimalRange.min,r=e.optimalRange.max+a*n/100;e.setCustomMax(r)},[e]),w=$.useCallback(()=>{const t=parseFloat(o),n=parseFloat(c);isNaN(t)||e.setCustomMin(t),isNaN(n)||e.setCustomMax(n),i(!1)},[o,c,e]),k=$.useCallback(t=>{e.multiplyMin(1/t),e.multiplyMax(t)},[e]);return n.jsxs("div",{className:`${Nx.container} ${t??""}`,ref:p,children:[n.jsxs("button",{type:"button",className:`${Nx.toggleButton} ${e.isCustom?Nx.active:""}`,onClick:h,title:a?"   Y":"  Y",children:[n.jsx("span",{className:Nx.icon,children:""}),n.jsx("span",{className:Nx.buttonText,children:"Y"}),e.isCustom&&n.jsxs("span",{className:`${Nx.deviationBadge} ${Math.abs(b)>50?Nx.high:Math.abs(b)>20?Nx.medium:Nx.low}`,title:`  : ${b>0?"+":""}${b.toFixed(0)}%`,children:[b>0?"+":"",b.toFixed(0),"%"]})]}),a&&n.jsxs("div",{ref:m,className:Nx.panel,style:d,children:[n.jsxs("div",{className:Nx.header,children:[n.jsx("h4",{className:Nx.title,children:"  Y"}),n.jsxs("div",{className:Nx.headerButtons,children:[n.jsx("button",{type:"button",className:Nx.iconButton,onClick:g,title:"  ",children:""}),e.isCustom&&n.jsx("button",{type:"button",className:Nx.resetButton,onClick:e.reset,title:"   ",children:""})]})]}),s?n.jsxs("div",{className:Nx.manualInput,children:[n.jsxs("div",{className:Nx.inputGroup,children:[n.jsx("label",{className:Nx.inputLabel,children:":"}),n.jsx("input",{type:"number",className:Nx.numberInput,value:c,onChange:e=>u(e.target.value),step:"any",placeholder:y(e.optimalRange.max)})]}),n.jsxs("div",{className:Nx.inputGroup,children:[n.jsx("label",{className:Nx.inputLabel,children:":"}),n.jsx("input",{type:"number",className:Nx.numberInput,value:o,onChange:e=>l(e.target.value),step:"any",placeholder:y(e.optimalRange.min)})]}),n.jsxs("div",{className:Nx.manualButtons,children:[n.jsx("button",{type:"button",className:Nx.cancelButton,onClick:()=>i(!1),children:""}),n.jsx("button",{type:"button",className:Nx.applyButton,onClick:w,children:""})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:Nx.quickActions,children:[n.jsx("button",{type:"button",className:`${Nx.quickButton} ${Nx.expand}`,onClick:()=>k(1.5),title:"   1.5 ",children:" 1.5"}),n.jsx("button",{type:"button",className:`${Nx.quickButton} ${Nx.expand}`,onClick:()=>k(2),title:"   2 ",children:" 2"}),n.jsx("button",{type:"button",className:`${Nx.quickButton} ${Nx.shrink}`,onClick:()=>k(.75),title:"   75%",children:" 0.75"})]}),n.jsxs("div",{className:Nx.section,children:[n.jsxs("div",{className:Nx.sectionHeader,children:[n.jsx("span",{className:Nx.label,children:""}),n.jsx("span",{className:Nx.value,title:y(e.currentRange.max),children:v(e.currentRange.max)})]}),n.jsxs("div",{className:Nx.sliderContainer,children:[n.jsx("input",{type:"range",className:Nx.slider,min:"-100",max:"200",step:"1",value:_,onChange:N}),n.jsxs("div",{className:Nx.sliderLabels,children:[n.jsx("span",{children:"-50%"}),n.jsx("span",{children:"0"}),n.jsx("span",{children:"+100%"})]})]}),n.jsx("div",{className:Nx.presetButtons,children:kx.map(t=>n.jsx("button",{type:"button",className:`${Nx.presetButton} ${t.className}`,onClick:()=>e.multiplyMax(t.factor),title:`   ${t.factor}`,children:t.label},t.factor))})]}),n.jsxs("div",{className:Nx.section,children:[n.jsxs("div",{className:Nx.sectionHeader,children:[n.jsx("span",{className:Nx.label,children:""}),n.jsx("span",{className:Nx.value,title:y(e.currentRange.min),children:v(e.currentRange.min)})]}),n.jsxs("div",{className:Nx.sliderContainer,children:[n.jsx("input",{type:"range",className:Nx.slider,min:"-100",max:"200",step:"1",value:x,onChange:S}),n.jsxs("div",{className:Nx.sliderLabels,children:[n.jsx("span",{children:"-50%"}),n.jsx("span",{children:"0"}),n.jsx("span",{children:"+100%"})]})]}),n.jsx("div",{className:Nx.presetButtons,children:wx.map(t=>n.jsx("button",{type:"button",className:`${Nx.presetButton} ${t.className}`,onClick:()=>e.multiplyMin(t.factor),title:`   ${t.factor}`,children:t.label},t.factor))})]}),e.isCustom&&n.jsxs("div",{className:Nx.info,children:[n.jsxs("div",{className:Nx.infoRow,children:[n.jsx("span",{className:Nx.infoLabel,children:":"}),n.jsxs("span",{className:Nx.infoValue,children:[v(e.optimalRange.min),"  ",v(e.optimalRange.max)]})]}),n.jsxs("div",{className:Nx.infoRow,children:[n.jsx("span",{className:Nx.infoLabel,children:":"}),n.jsxs("span",{className:Nx.infoValue,children:[v(e.currentRange.min),"  ",v(e.currentRange.max)]})]}),n.jsxs("div",{className:Nx.infoRow,children:[n.jsx("span",{className:Nx.infoLabel,children:":"}),n.jsxs("span",{className:Nx.infoValue,children:[v(e.currentRange.max-e.currentRange.min)," ",n.jsxs("span",{className:Nx.deviation,children:["(",b>0?"+":"",b.toFixed(1),"%)"]})]})]})]})]})]})]})},Tx="_syncCheckbox_19tm6_1",Mx="_checkbox_19tm6_41",jx="_label_19tm6_63";function Ex({fieldName:e,contextId:t}){const a=ma(),r=Ie(vf),s=Ie(e=>!!r&&wf(e,r)),i=Ie(e=>Uv(e,t)),o=Ie(e=>Qv(e,t)),l=Ie(n=>Vv(n,t,e)),c=$.useMemo(()=>null==i?void 0:i.selectedFields.find(t=>t.name===e),[null==i?void 0:i.selectedFields,e]),u=$.useCallback(n=>{if(r&&c)if(n.target.checked){a(lp({contextId:t,field:c}));0===o.length&&a(mf({tabId:r,contextId:t}))}else{a(cp({contextId:t,fieldName:e}));1===o.length&&a(hf({tabId:r,contextId:t}))}},[a,r,t,e,c,o.length]);return s&&r?n.jsxs("label",{className:Tx,title:"    ",children:[n.jsx("input",{type:"checkbox",checked:l,onChange:u,className:Mx}),n.jsx("span",{className:jx,children:""})]}):null}const Ax="_container_ub7qd_5",Rx="_trigger_ub7qd_19",Dx="_icon_ub7qd_61",Lx="_label_ub7qd_71",Px="_arrow_ub7qd_79",Fx="_menu_ub7qd_101",Ox="_menuButton_ub7qd_159",qx="_menuIcon_ub7qd_221",zx="_menuLabel_ub7qd_233";function $x(e){return e.map(([e,t,n])=>({timestamp:e,isoDate:new Date(e).toISOString(),value:Number.isFinite(t)?t:null,count:n}))}function Bx(e){if(null===e)return"null";const t=e.toString();return t.includes("e")||t.includes("E"),t}function Ux(e,t,n,a,r){"excel"===r?function(e,t,n,a){const r=[{Property:"Field Name",Value:a.fieldName},{Property:"Context ID",Value:a.contextId},{Property:"Export Date",Value:a.exportDate},{Property:"Total Points",Value:a.totalPoints}];void 0!==a.bucketMs&&r.push({Property:"Bucket (ms)",Value:a.bucketMs}),void 0!==a.dataQuality&&r.push({Property:"Data Quality",Value:a.dataQuality});const s=He.json_to_sheet(r),i=$x(e),o=He.json_to_sheet(i.map(e=>({"Timestamp (ms)":e.timestamp,"ISO Date":e.isoDate,Value:e.value,Count:e.count}))),l=$x(t),c=He.json_to_sheet(l.map(e=>({"Timestamp (ms)":e.timestamp,"ISO Date":e.isoDate,Value:e.value,Count:e.count}))),u=$x(n),d=He.json_to_sheet(u.map(e=>({"Timestamp (ms)":e.timestamp,"ISO Date":e.isoDate,Value:e.value,Count:e.count}))),f=He.book_new();He.book_append_sheet(f,s,"Metadata"),He.book_append_sheet(f,o,"AVG"),t.length>0&&He.book_append_sheet(f,c,"MIN"),n.length>0&&He.book_append_sheet(f,d,"MAX");const p=`${a.fieldName.replace(/[/\\?%*:|"<>]/g,"_")}_${Date.now()}.xlsx`;We(f,p)}(e,t,n,a):"csv"===r?function(e,t,n,a){const r=["# Chart Data Export",`# Field: ${a.fieldName}`,`# Context ID: ${a.contextId}`,`# Export Date: ${a.exportDate}`,`# Total Points: ${a.totalPoints}`];void 0!==a.bucketMs&&r.push(`# Bucket Size: ${a.bucketMs} ms`),void 0!==a.dataQuality&&r.push(`# Data Quality: ${a.dataQuality}`),r.push(""),r.push("Series,Timestamp_ms,ISO_Date,Value,Count");const s=$x(e);for(const d of s){const e=Bx(d.value);r.push(`AVG,${d.timestamp},${d.isoDate},${e},${d.count}`)}if(t.length>0){const e=$x(t);for(const t of e){const e=Bx(t.value);r.push(`MIN,${t.timestamp},${t.isoDate},${e},${t.count}`)}}if(n.length>0){const e=$x(n);for(const t of e){const e=Bx(t.value);r.push(`MAX,${t.timestamp},${t.isoDate},${e},${t.count}`)}}const i=r.join("\n"),o=new Blob([i],{type:"text/csv;charset=utf-8"}),l=URL.createObjectURL(o),c=document.createElement("a");c.href=l;const u=a.fieldName.replace(/[/\\?%*:|"<>]/g,"_");c.download=`${u}_${Date.now()}.csv`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(l)}(e,t,n,a):function(e,t,n,a){const r=["=== Chart Data Export ===","",`Field: ${a.fieldName}`,`Context ID: ${a.contextId}`,`Export Date: ${a.exportDate}`,`Total Points: ${a.totalPoints}`];void 0!==a.bucketMs&&r.push(`Bucket Size: ${a.bucketMs} ms`),void 0!==a.dataQuality&&r.push(`Data Quality: ${a.dataQuality}`),r.push(""),r.push("=== AVG DATA ==="),r.push("Timestamp (ms)\tISO Date\tValue\tCount"),r.push("-".repeat(120));const s=$x(e);for(const d of s){const e=Bx(d.value);r.push(`${d.timestamp}\t${d.isoDate}\t${e}\t${d.count}`)}if(t.length>0){r.push(""),r.push("=== MIN DATA ==="),r.push("Timestamp (ms)\tISO Date\tValue\tCount"),r.push("-".repeat(120));const e=$x(t);for(const t of e){const e=Bx(t.value);r.push(`${t.timestamp}\t${t.isoDate}\t${e}\t${t.count}`)}}if(n.length>0){r.push(""),r.push("=== MAX DATA ==="),r.push("Timestamp (ms)\tISO Date\tValue\tCount"),r.push("-".repeat(120));const e=$x(n);for(const t of e){const e=Bx(t.value);r.push(`${t.timestamp}\t${t.isoDate}\t${e}\t${t.count}`)}}const i=r.join("\n"),o=new Blob([i],{type:"text/plain;charset=utf-8"}),l=URL.createObjectURL(o),c=document.createElement("a");c.href=l;const u=a.fieldName.replace(/[/\\?%*:|"<>]/g,"_");c.download=`${u}_${Date.now()}.txt`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(l)}(e,t,n,a)}function Qx({avgPoints:e,minPoints:t,maxPoints:a,fieldName:r,contextId:s,bucketMs:i,dataQuality:o,className:l}){const[c,u]=$.useState(!1),d=$.useMemo(()=>e.length+t.length+a.length,[e.length,t.length,a.length]),f=d>0,p=$.useCallback(n=>{if(f&&!c){u(!0);try{const l={fieldName:r,contextId:s,exportDate:(new Date).toISOString(),totalPoints:d,bucketMs:i,dataQuality:o};Ux(e,t,a,l,n)}catch(l){alert("   .  .")}finally{setTimeout(()=>u(!1),500)}}},[f,c,e,t,a,r,s,d,i,o]);return n.jsxs("div",{className:Nu(Ax,l),children:[n.jsxs("div",{className:Rx,children:[n.jsx("span",{className:Dx,children:""}),n.jsx("span",{className:Lx,children:""}),n.jsx("span",{className:Px,children:""})]}),n.jsxs("div",{className:Fx,children:[n.jsxs("button",{type:"button",onClick:()=>p("excel"),disabled:c||!f,className:Ox,title:"  Excel     (AVG, MIN, MAX)",children:[n.jsx("span",{className:qx,children:""}),n.jsx("span",{className:zx,children:"Excel (.xlsx)"})]}),n.jsxs("button",{type:"button",onClick:()=>p("csv"),disabled:c||!f,className:Ox,title:"  CSV (   )",children:[n.jsx("span",{className:qx,children:""}),n.jsx("span",{className:zx,children:"CSV (.csv)"})]}),n.jsxs("button",{type:"button",onClick:()=>p("txt"),disabled:c||!f,className:Ox,title:"    ( )",children:[n.jsx("span",{className:qx,children:""}),n.jsx("span",{className:zx,children:"TXT (.txt)"})]})]})]})}const Vx="_button_1t5f4_5",Hx="_icon_1t5f4_77",Wx="_text_1t5f4_89",Kx=$.memo(function({onClick:e,label:t,disabled:a=!1}){return n.jsxs("button",{type:"button",className:Vx,onClick:e,disabled:a,"aria-label":"   ",title:"   ",children:[n.jsxs("svg",{className:Hx,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),n.jsx("path",{d:"M21 3v5h-5"}),n.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),n.jsx("path",{d:"M3 21v-5h5"})]}),n.jsx("span",{className:Wx,children:t??" "})]})});const Gx="_fullscreenButton_y7er5_5",Yx="_icon_y7er5_65",Zx=$.memo(function({isFullscreen:e,onToggle:t,disabled:a=!1}){return n.jsx("button",{type:"button",className:Gx,onClick:t,disabled:a,"aria-label":e?"   ":" ",title:e?"    (Esc)":"  (F)",children:e?n.jsx(T,{size:18,className:Yx}):n.jsx(M,{size:18,className:Yx})})}),Xx="_navigator_zfodm_5",Jx="_navButton_zfodm_31",e_="_icon_zfodm_89",t_="_info_zfodm_97",n_="_counter_zfodm_135",a_=$.memo(function({totalFields:e,currentIndex:t,onPrevious:a,onNext:r}){const s=t>0,i=t<e-1;return n.jsxs("div",{className:Xx,children:[n.jsx("button",{type:"button",className:Jx,onClick:a,disabled:!s,"aria-label":" ",title:"  ()",children:n.jsx(j,{size:24,className:e_})}),n.jsx("div",{className:t_,children:n.jsxs("span",{className:n_,children:[t+1," / ",e]})}),n.jsx("button",{type:"button",className:Jx,onClick:r,disabled:!i,"aria-label":" ",title:"  ()",children:n.jsx(E,{size:24,className:e_})})]})}),r_=$.createContext(null);function s_({children:e,tabId:t}){const a=Ie(e=>Sf(e,t)),r=Ie(e=>{const t={};for(const n of a)t[n]=Uv(e,n);return t}),s=$.useRef(0),i=$.useMemo(()=>{const e=[];let t=0;for(const n of a){const a=r[n];if(null==a?void 0:a.selectedFields)for(let r=0;r<a.selectedFields.length;r++){const s=a.selectedFields[r];s&&e.push({contextId:n,fieldName:s.name,fieldIndex:r,globalIndex:t++})}}return Object.freeze(e)},[a,r]),o=i.length,l=$.useCallback((e,t)=>{const n=i.findIndex(n=>n.contextId===e&&n.fieldName===t);return n>=0?n:0},[i]),c=$.useCallback(async e=>{if(e<0||e>=o)return;const t=i[e];if(!t)return;s.current=e;const n=null!==document.fullscreenElement;if(n)try{await document.exitFullscreen(),await new Promise(e=>setTimeout(e,150))}catch(l){}const a=`[data-chart-id="${t.contextId}-${t.fieldName}"]`,r=document.querySelector(a);r&&(r.scrollIntoView({behavior:"smooth",block:"center"}),n&&setTimeout(()=>{r instanceof HTMLElement&&r.requestFullscreen().then(()=>{}).catch(e=>{})},400))},[i,o]),u=$.useCallback(()=>{const e=s.current,t=Math.min(e+1,o-1);c(t)},[o,c]),d=$.useCallback(()=>{const e=s.current,t=Math.max(e-1,0);c(t)},[c]),f=$.useMemo(()=>({allCharts:i,totalCharts:o,getCurrentIndex:l,navigateToIndex:e=>{c(e)},navigateNext:u,navigatePrevious:d}),[i,o,l,c,u,d]);return n.jsx(r_.Provider,{value:f,children:e})}const i_="_syncButton_rzjqk_1",o_="_active_rzjqk_41",l_="_icon_rzjqk_63",c_="_label_rzjqk_73",u_="_badge_rzjqk_81",d_=ie("tabs/toggleTabSyncWithAutoFill",async(e,{dispatch:t,getState:n})=>{var a;const r=n(),s=!((null==(a=r.tabs.byId[e])?void 0:a.syncEnabled)??!1);if(t(pf(e)),s){const n=_f(r,e);for(const a of n){const n=Qv(r,a);if(t(mf({tabId:e,contextId:a})),n.length>0)continue;const s=Uv(r,a);if(!s)continue;const i=s.selectedFields;if(0!==i.length)for(const e of i)t(lp({contextId:a,field:e}))}}});function f_(){const e=ma(),t=Ie(vf),a=Ie(e=>!!t&&wf(e,t)),r=Ie(e=>t?Cf(e,t):0),s=$.useCallback(()=>{t&&e(d_(t))},[e,t]);return t?n.jsxs("button",{type:"button",className:`${i_} ${a?o_:""}`,onClick:s,title:a?"   (  )":"   (  )",children:[n.jsx("span",{className:l_,children:a?"":""}),n.jsx("span",{className:c_,children:" "}),a&&r>0&&n.jsx("span",{className:u_,title:`${r} `,children:r})]}):null}const p_=dc.CHART_DEFAULT_CHART_HEIGHT_PX,m_=$.memo(function({contextId:e,fieldName:t,templateName:a,onZoomEnd:r,width:s,currentRange:i}){const o=$.useRef(null),l=$.useRef(null),c=function(){const e=$.useContext(r_);if(!e)throw new Error("[useGlobalNavigation] Must be used within GlobalNavigationProvider");return e}(),u=c.getCurrentIndex(e,t),d=Ie(n=>wy(n,e,t)),f=Ie(n=>ky(n,e,t)),p=Ie(n=>Iy(n,e,t)),m=Ie(n=>Kv(n,e,t)),h=Ie(e=>ag(e)),[g,v]=$.useState(!1),y=$.useCallback(()=>{v(e=>!e)},[]),[b,x]=$.useState(p_),{isFullscreen:_,toggleFullscreen:S,isSupported:N}=function(e){const[t,n]=$.useState(!1),a=$.useRef(!1),r="undefined"!=typeof document&&(document.fullscreenEnabled??!1),s=$.useCallback(async()=>{if(r&&e.current&&!a.current)try{a.current=!0,await e.current.requestFullscreen()}catch(t){}finally{a.current=!1}},[r,e]),i=$.useCallback(async()=>{if(r&&document.fullscreenElement&&!a.current)try{a.current=!0,await document.exitFullscreen()}catch(e){}finally{a.current=!1}},[r]),o=$.useCallback(async()=>{t?await i():await s()},[t,s,i]);return $.useEffect(()=>{if(!r)return;const t=()=>{const t=document.fullscreenElement===e.current;n(t)};return document.addEventListener("fullscreenchange",t),()=>{document.removeEventListener("fullscreenchange",t)}},[r,e]),{isFullscreen:t,enterFullscreen:s,exitFullscreen:i,toggleFullscreen:o,isSupported:r}}(l),w=$.useMemo(()=>_?window.innerHeight:b,[_,b]);$.useEffect(()=>{if(!_)return;const e=e=>{const t=e.target;"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&("ArrowLeft"===e.key?(e.preventDefault(),c.navigatePrevious()):"ArrowRight"===e.key?(e.preventDefault(),c.navigateNext()):"f"===e.key||"F"===e.key?(e.preventDefault(),S()):e.key)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[_,c,S]);const k=$.useCallback(e=>{null==r||r(e)},[r]),C=$.useMemo(()=>{let e=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY;for(const a of d.avgPoints){const n=a[1];Number.isFinite(n)&&(n<e&&(e=n),n>t&&(t=n))}if(e===t){const n=0!==e?.1*Math.abs(e):1;e-=n,t+=n}const n=.05*(t-e);return{min:e-n,max:t+n}},[d.avgPoints]),I=function(e,t){const[n,a]=$.useState(void 0),[r,s]=$.useState(void 0),i=$.useMemo(()=>({min:e,max:t}),[e,t]);return{currentRange:$.useMemo(()=>({min:n??e,max:r??t}),[n,r,e,t]),optimalRange:i,isCustom:void 0!==n||void 0!==r,setCustomMin:$.useCallback(e=>{a(e)},[]),setCustomMax:$.useCallback(e=>{s(e)},[]),multiplyMin:$.useCallback(t=>{a((n??e)*t)},[n,e]),multiplyMax:$.useCallback(e=>{s((r??t)*e)},[r,t]),reset:$.useCallback(()=>{a(void 0),s(void 0)},[])}}(C.min,C.max),T=$.useMemo(()=>I.isCustom?I.currentRange:void 0,[I.isCustom,I.currentRange.min,I.currentRange.max]),M=$.useMemo(()=>Sx({avgPoints:d.avgPoints,minPoints:d.minPoints,maxPoints:d.maxPoints,fieldName:t,originalRange:m,timeSettings:h,gapsInfo:p,customYAxisRange:T}),[d.avgPoints,d.minPoints,d.maxPoints,t,m,h,p,T]);return n.jsxs("div",{ref:l,className:Nu(My,_?jy:""),"data-chart-id":`${e}-${t}`,children:[n.jsx("div",{className:`${Fy} ${g?zy:qy}`,children:n.jsx(ax,{fieldName:t,width:s,contextId:e})}),n.jsx(bx,{groupId:"ChartContainer",defaultHeight:w,minHeight:_?window.innerHeight:300,maxHeight:_?window.innerHeight:2e3,onHeightChange:x,disabled:_,children:n.jsxs("div",{className:Ey,style:{height:w},children:[n.jsxs("div",{className:Ay,children:[n.jsx("button",{type:"button",className:$y,onClick:y,"aria-label":g?" ":" ",title:g?" ":" ",children:g?n.jsx(A,{size:16,className:By}):n.jsx(R,{size:16,className:By})}),n.jsx(Ex,{fieldName:t,contextId:e}),n.jsx(f_,{}),n.jsxs("div",{className:Ry,children:[n.jsx("span",{className:Dy,children:a}),n.jsx("span",{className:Ly,children:t})]}),n.jsx(Jy,{contextId:e,totalPoints:d.avgPoints.length+d.minPoints.length+d.maxPoints.length,coverage:f.coverage,quality:d.quality,isLoading:f.isLoading,fieldName:t}),n.jsx(Qx,{avgPoints:d.avgPoints,minPoints:d.minPoints,maxPoints:d.maxPoints,fieldName:t,contextId:e,bucketMs:d.bucketMs,dataQuality:d.quality,className:Uy}),n.jsx(Ix,{control:I}),n.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"8px",alignItems:"center"},children:[n.jsx(Kx,{onClick:()=>{var e;return null==(e=o.current)?void 0:e.resetZoom()}}),N&&n.jsx(Zx,{isFullscreen:_,onToggle:()=>{S()}})]})]}),n.jsx("div",{className:Py,children:n.jsx(Qy,{ref:o,options:M,totalPoints:d.avgPoints.length+d.minPoints.length+d.maxPoints.length,onZoomEnd:k,loading:f.isLoading,currentRange:i,originalRange:m})}),n.jsx("div",{className:Oy,children:n.jsx(cx,{chartFieldStatus:f,position:"aboveAxis"})}),n.jsx(pb,{fieldName:t,contextId:e})]})},t),_&&n.jsx(a_,{totalFields:c.totalCharts,currentIndex:u,onPrevious:c.navigatePrevious,onNext:c.navigateNext})]})});function h_({contextId:e,fieldName:t,templateName:a,width:r}){const s=ma(),i=ex(),o=Ie(vf),l=Ie(e=>!!o&&wf(e,o)),c=Ie(e=>{if(o)return kf(e,o)}),u=$.useMemo(()=>c??[],[c]),d=Ie(n=>Vv(n,e,t)),f=Ie(e=>{const t={};for(const n of u)t[n]=Qv(e,n);return t},(e,t)=>{const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(const r of n)if(e[r]!==t[r])return!1;return!0}),p=$.useMemo(()=>{const e=[];for(const t of u){const n=f[t];if(n)for(const a of n)e.push({contextId:t,field:a})}return e},[u,f]),m=$.useMemo(()=>p.filter(n=>!(n.contextId===e&&n.field.name===t)),[p,e,t]),h=Ie(n=>Yv(n,e,t)),g=Ie(n=>{if(l&&d)return Gv(n,e,t)}),v=$.useRef(h),y=$.useRef(l),b=$.useRef(d),x=$.useRef(m),_=$.useRef(r),S=$.useRef(void 0),N=$.useRef(!1),w=$.useRef(void 0),k=$.useRef(null);$.useEffect(()=>{v.current=h},[h]),$.useEffect(()=>{y.current=l},[l]),$.useEffect(()=>{b.current=d},[d]),$.useEffect(()=>{x.current=m},[m]),$.useEffect(()=>{_.current=r},[r]),$.useEffect(()=>()=>{void 0!==S.current&&clearTimeout(S.current),void 0!==w.current&&clearTimeout(w.current)},[]);const C=$.useCallback(n=>{const a=y.current&&b.current&&!N.current;if(k.current&&Math.abs(k.current.fromMs-n.fromMs)<=1&&Math.abs(k.current.toMs-n.toMs)<=1)return;k.current={fromMs:n.fromMs,toMs:n.toMs};const r=tg(n.fromMs,n.toMs,_.current);requestAnimationFrame(()=>{if(s(Gf({contextId:e,field:t,range:{fromMs:n.fromMs,toMs:n.toMs}})),r!==v.current&&s(Yf({contextId:e,field:t,bucketMs:r})),a&&x.current.length>0){N.current=!0,void 0!==w.current&&clearTimeout(w.current);for(const e of x.current){s(Gf({contextId:e.contextId,field:e.field.name,range:{fromMs:n.fromMs,toMs:n.toMs}}));const t=tg(n.fromMs,n.toMs,_.current);t!==v.current&&s(Yf({contextId:e.contextId,field:e.field.name,bucketMs:t}))}w.current=setTimeout(()=>{N.current=!1,w.current=void 0},500)}}),void 0!==S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{if(i.loadVisibleRange(t,n.fromMs,n.toMs,r,_.current),a&&x.current.length>0){const t=new Map;for(const e of x.current){const n=t.get(e.contextId)??[];n.push(e.field),t.set(e.contextId,n)}for(const[a,s]of t.entries()){if(a===e)continue;const t=ly.get(a);if(!t)continue;const i=s[0];i&&t.loadVisibleRange(i.name,n.fromMs,n.toMs,r,_.current)}}},150)},[s,e,t,i]),I=$.useCallback(()=>{},[]);return n.jsx(m_,{contextId:e,fieldName:t,templateName:a,onZoomEnd:C,onRetry:I,width:r,currentRange:g})}const g_=dc.CHART_MIN_CONTAINER_WIDTH;function v_(){const e=$.useRef(null),[t,a]=$.useState(void 0),r=ex().getContextId(),s=Ie(e=>Uv(e,r));$.useEffect(()=>{const t=e.current;if(!t)return;(()=>{if(!e.current)return;const t=e.current.offsetWidth;if(t>0){const e=Math.max(g_,Math.round(t));a(t=>t!==e?e:t)}})();const n=new ResizeObserver(e=>{for(const t of e){const{width:e}=t.contentRect;if(e>0){const t=Math.max(g_,Math.round(e));a(e=>e!==t?t:e)}}});return n.observe(t),()=>{n.disconnect()}},[]);const{isInitializing:i,isInitialized:o,error:l,reinitialize:c}=by({contextId:r,px:t});return s?void 0===t?n.jsx("div",{ref:e,className:uy,children:n.jsxs("div",{className:fy,children:[n.jsx("div",{className:hy}),n.jsx("p",{children:" ..."})]})}):i?n.jsx("div",{className:uy,children:n.jsxs("div",{className:fy,children:[n.jsx("div",{className:hy}),n.jsx("p",{children:" ..."})]})}):l?n.jsx("div",{className:uy,children:n.jsxs("div",{className:py,children:[n.jsxs("p",{children:[" : ",l]}),n.jsx("button",{className:gy,onClick:c,type:"button",children:" "})]})}):o?n.jsx("div",{ref:e,className:uy,children:n.jsx("div",{className:dy,children:s.selectedFields.map(e=>n.jsx(h_,{contextId:r,fieldName:e.name,templateName:s.name,width:t},e.name))})}):n.jsx("div",{className:uy,children:n.jsxs("div",{className:my,children:[n.jsx("p",{children:"  "}),n.jsx("button",{className:gy,onClick:c,type:"button",children:""})]})}):n.jsx("div",{ref:e,className:uy,children:n.jsx("div",{className:my,children:n.jsx("p",{children:"  "})})})}function y_({contextId:e}){return n.jsx(cy,{contextId:e,children:n.jsx(v_,{})})}function b_({tabId:e}){const t=ma(),a=ch(),r=Ie(t=>_f(t,e)),s=Ie(t=>Sf(t,e)),i=ha(Bv),[o,l]=$.useState(!1),c=r.length===s.length,u=Ie(vf),d=e===u,f=Ie(t=>xf(t,e)),p=$.useMemo(()=>[...r].sort((e,t)=>{var n,a;const r=null==(n=i[e])?void 0:n.template,s=null==(a=i[t])?void 0:a.template;if(!r)return 0;if(!s)return 0;return(r.visualOrder??0)-(s.visualOrder??0)}),[r,i]);Cs($.useMemo(()=>d?` | ${f}`:"",[d,f]),0,d);const m=$.useCallback(()=>{t(c?uf(e):cf(e))},[c,t,e]),h=$.useCallback(async n=>{await a({title:" ?",description:"    ",confirmText:"",cancelText:"",danger:!0})&&t(of({tabId:e,contextId:n}))},[a,t,e]);return 0===r.length?n.jsx("div",{className:vv,children:n.jsx("p",{children:"         "})}):n.jsx(s_,{tabId:e,children:n.jsxs("div",{className:iv,children:[n.jsxs("div",{className:ov,children:[n.jsxs("button",{className:lv,onClick:()=>l(!o),type:"button","aria-expanded":o,children:[n.jsx("span",{className:cv,children:o?"":""}),n.jsxs("span",{className:uv,children:["  (",s.length," "," ",r.length,")"]})]}),o&&n.jsxs("div",{className:dv,children:[n.jsx("div",{className:fv,children:n.jsxs("button",{className:pv,onClick:m,type:"button",title:c?" ":" ",children:[c?"":""," "]})}),n.jsx("div",{className:mv,children:p.map(a=>n.jsx(ey,{tabId:e,contextId:a,isVisible:s.includes(a),onToggle:()=>t(lf({tabId:e,contextId:a})),onRemove:()=>h(a)},a))})]})]}),n.jsx("div",{className:hv,children:p.map(e=>{const t=s.includes(e);return n.jsx("div",{className:gv,style:{display:t?"block":"none"},children:n.jsx(y_,{contextId:e})},e)})}),0===s.length&&n.jsxs("div",{className:yv,children:[n.jsx("p",{children:"    "}),n.jsx("p",{className:bv,children:"     "})]})]})})}const x_="_chartsPage_j4d83_7",__="_topTabBar_j4d83_29",S_="_topTab_j4d83_29",N_="_topTabActive_j4d83_129",w_="_divider_j4d83_167",k_="_chartTab_j4d83_185",C_="_chartTabActive_j4d83_223",I_="_tabLabel_j4d83_251",T_="_tabCloseButton_j4d83_263",M_="_addTabButton_j4d83_303",j_="_closeAllButton_j4d83_353",E_="_contentArea_j4d83_395",A_="_pageContent_j4d83_405";function R_(e){return"string"==typeof e&&["mirax","templates"].includes(e)}function D_(){const e=ma(),t=ch(),[a,r]=$.useState("mirax"),[s,i]=$.useState(49),o=$.useRef(null),l=Ie(yf);Cs($.useMemo(()=>R_(a)?`${a}`:"",[a]),1,R_(a)),$.useEffect(()=>{const e=o.current;if(!e)return;const t=()=>{const t=e.getBoundingClientRect().height;i(t)};t();const n=new ResizeObserver(t);return n.observe(e),window.addEventListener("resize",t),()=>{n.disconnect(),window.removeEventListener("resize",t)}},[]);const c=t=>{r(t),"mirax"!==t&&"templates"!==t&&e(nf(t))};return n.jsxs("div",{className:x_,style:{"--topbar-height":`${s}px`},children:[n.jsxs("div",{className:__,ref:o,children:[n.jsx("button",{className:"mirax"===a?N_:S_,onClick:()=>c("mirax"),type:"button",children:"Mirax"}),n.jsx("button",{className:"templates"===a?N_:S_,onClick:()=>c("templates"),type:"button",children:"  "}),l.length>0&&n.jsx("div",{className:w_}),l.map(s=>n.jsx(L_,{tabId:s,isActive:a===s,onActivate:()=>c(s),onClose:n=>(async(n,s)=>{if(n.stopPropagation(),await t({title:" ?",description:"   .",confirmText:"",cancelText:"",danger:!0})&&(e(af(s)),a===s)){const t=l.filter(e=>e!==s);t.length>0?(r(t[0]),e(nf(t[0]))):r("templates")}})(n,s)},s)),l.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:M_,onClick:()=>{const t=crypto.randomUUID();e(tf({id:t,name:` ${l.length+1}`})),r(t),e(nf(t))},title:"  ",type:"button",children:"+"}),l.length>1&&n.jsx("button",{className:j_,onClick:async()=>{await t({title:"  ?",description:"    .",confirmText:" ",cancelText:"",danger:!0})&&(l.forEach(t=>{e(af(t))}),e(mp()),r("templates"))},title:"  ",type:"button",children:" "})]})]}),n.jsxs("div",{className:E_,children:[n.jsx("div",{style:{display:"mirax"===a?"block":"none"},className:A_,children:n.jsx(Jm,{})}),n.jsx("div",{style:{display:"templates"===a?"block":"none"},className:Nu(A_),children:n.jsx(sv,{})}),l.map(e=>n.jsx("div",{style:{display:a===e?"block":"none"},className:A_,children:n.jsx(b_,{tabId:e})},e))]})]})}function L_({tabId:e,isActive:t,onActivate:a,onClose:r}){const s=Ie(t=>xf(t,e));return n.jsxs("div",{className:t?C_:k_,onClick:a,children:[n.jsx("span",{className:I_,children:s??""}),n.jsx("button",{className:T_,onClick:r,title:" ",type:"button",children:""})]})}const P_=()=>n.jsxs(n.Fragment,{children:[n.jsx(Hl,{}),n.jsxs(Y,{children:[n.jsx(Z,{path:mt,element:n.jsx(Wl,{children:n.jsx(Ts,{})})}),n.jsxs(Z,{path:pt,element:n.jsx(Qa,{}),children:[n.jsx(Z,{path:gt,element:n.jsx(D_,{})}),n.jsx(Z,{index:!0,element:n.jsx(Kl,{children:n.jsx(Ul,{})})}),n.jsx(Z,{path:ht,element:n.jsx(st,{})})]}),n.jsx(Z,{path:vt,element:n.jsx(Vl,{})})]})]});class F_ extends V.Component{constructor(){super(...arguments),t(this,"state",{hasError:!1})}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?V.cloneElement(this.props.fallback,{error:this.state.error}):this.props.children}}var O_=Ue();const q_={selected:null,isEditing:!1,formError:null,lastActive:Date.now()},z_=oe({name:"users",initialState:q_,reducers:{setSelectedUser:(e,t)=>{e.selected=t.payload,e.formError=null},updateLastActive:e=>{e.lastActive=Date.now()},startEditSelected:e=>{e.isEditing=!0},cancelEditSelected:e=>{e.isEditing=!1,e.formError=null},setUserFormError:(e,t)=>{e.formError=t.payload},mergeSelectedUser:(e,t)=>{e.selected&&(e.selected={...e.selected,...t.payload})},clearSelectedUser:e=>{e.selected=null,e.isEditing=!1,e.formError=null}}}),{setSelectedUser:$_,startEditSelected:B_,cancelEditSelected:U_,setUserFormError:Q_,mergeSelectedUser:V_,clearSelectedUser:H_,updateLastActive:W_}=z_.actions,K_=e=>e.users.lastActive,G_=je({key:"user",storage:Tt,whitelist:[]},z_.reducer),Y_=()=>{const e=ma(),t=Ie(K_),n=Ie(ua);return $.useEffect(()=>{const t=O_.debounce(()=>{e(W_())},1e6),n=["mousemove","keydown","click","scroll"];return n.forEach(e=>window.addEventListener(e,t)),()=>{n.forEach(e=>window.removeEventListener(e,t)),t.cancel()}},[e]),$.useEffect(()=>{if(!n)return;const a=setInterval(()=>{if(!t)return;Date.now()-t>6e5&&e(ca())},6e4);return()=>clearInterval(a)},[t,e,n]),null},Z_=$.createContext(void 0),X_=({children:e})=>{const[t,a]=$.useState({isMobile:window.innerWidth<768,isTablet:window.innerWidth>=768&&window.innerWidth<1024,isDesktop:window.innerWidth>=1024,width:window.innerWidth});return $.useEffect(()=>{const e=()=>{a({isMobile:window.innerWidth<768,isTablet:window.innerWidth>=768&&window.innerWidth<1024,isDesktop:window.innerWidth>=1024,width:window.innerWidth})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),n.jsx(Z_.Provider,{value:t,children:e})};function J_(){return ha(Gn)?G.createPortal(n.jsxs("div",{className:"fixed inset-0 z-[9999]",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[1px]"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-white/40 border-t-white"})})]}),document.body):null}function eS(){const[e,t]=V.useState(null),[a,r]=V.useState(null);return n.jsx(D,{position:"top-right",toastOptions:{duration:4e3,success:{duration:3e3},error:{duration:6e3},loading:{duration:1/0},style:{paddingRight:8}},children:s=>n.jsx(tS,{t:s,copiedId:e,setCopiedId:t,copyingId:a,setCopyingId:r})})}function tS({t:e,copiedId:t,setCopiedId:a,copyingId:r,setCopyingId:s}){const i=V.useRef(null),o=e.id===t,l=e.id===r,c=async()=>{var t,n;if("error"===e.type)try{s(e.id);const r=(null==(n=null==(t=i.current)?void 0:t.textContent)?void 0:n.trim())??"";if(!r)return;await navigator.clipboard.writeText(r),a(e.id)}finally{s(t=>t===e.id?null:t)}};return V.useEffect(()=>()=>{a(t=>t===e.id?null:t),s(t=>t===e.id?null:t)},[e.id,a,s]),n.jsx(L,{toast:e,children:({icon:t,message:a})=>n.jsxs(n.Fragment,{children:[t,n.jsx("div",{ref:i,style:{flex:1,marginLeft:8,userSelect:"text"},children:a}),n.jsx("button",{"aria-label":"",onClick:()=>P.dismiss(e.id),style:nS,title:"",children:""}),"error"===e.type&&n.jsx("button",{"aria-label":o?"":"  ",onClick:c,style:nS,disabled:l,title:o?"":"",children:l?"":o?n.jsx("span",{style:{color:"#49cc90"},children:""}):n.jsx("span",{children:""})})]})})}const nS={border:"none",background:"transparent",cursor:"pointer",fontSize:16,lineHeight:1,padding:4,marginLeft:8,opacity:.85};class aS extends $.Component{render(){return n.jsx(ks,{children:n.jsx(xa,{children:n.jsxs(F_,{fallback:n.jsx(st,{}),children:[n.jsx(it,{}),n.jsx(Y_,{}),n.jsx(X_,{children:n.jsxs(uh,{children:[n.jsx(P_,{}),n.jsx(eS,{}),n.jsx(J_,{})]})})]})})})}}function rS(e){return(rS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sS(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(e.prototype,t),e}function iS(e){return(iS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lS(e,t){return(lS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uS=function(){function e(){var t,n,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return a=this,r=(t=iS(e)).call.apply(t,[this].concat(i)),n=!r||"object"!==rS(r)&&"function"!=typeof r?oS(a):r,cS(oS(n),"state",{bootstrapped:!1}),cS(oS(n),"_unsubscribe",void 0),cS(oS(n),"handlePersistorState",function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally(function(){return n.setState({bootstrapped:!0})}):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lS(e,t)}(e,$.PureComponent),sS(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"==typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}();cS(uS,"defaultProps",{children:null,loading:null});const dS=zn({reducerPath:"branchApi",baseQuery:na(),tagTypes:["Branch"],endpoints:e=>({getBranchById:e.query({query:({id:e,query:t})=>({url:aa.BRANCH.GET_BY_ID(e),method:"get",params:t}),providesTags:e=>e?[{type:"Branch",id:e.id}]:[]}),createBranch:e.mutation({query:e=>({url:aa.BRANCH.CREATE,method:"post",data:e}),async onQueryStarted(e,{dispatch:t,queryFulfilled:n}){try{const{data:e}=await n;t(dS.util.upsertQueryData("getBranchById",{id:e.id,query:void 0},e))}catch{}},invalidatesTags:e=>e?[{type:"Branch",id:e.id}]:[]}),updateBranch:e.mutation({query:e=>({url:aa.BRANCH.UPDATE(e.id),method:"put",data:e}),async onQueryStarted(e,{dispatch:t,queryFulfilled:n}){try{const{data:e}=await n;t(dS.util.upsertQueryData("getBranchById",{id:e.id,query:void 0},e))}catch{}},invalidatesTags:e=>e?[{type:"Branch",id:e.id}]:[]}),deleteBranch:e.mutation({query:({id:e})=>({url:aa.BRANCH.DELETE(e),method:"delete"}),async onQueryStarted({id:e},{dispatch:t,queryFulfilled:n}){try{const{data:a}=await n;if(!a)return;t(dS.util.invalidateTags([{type:"Branch",id:e}]))}catch{}}})})}),fS=zn({reducerPath:"stepApi",baseQuery:na(),tagTypes:["Step","BranchSteps"],endpoints:e=>({getStepsByBranch:e.query({query:({branchId:e})=>({url:aa.STEP.ALL(e),method:"get",params:{branchId:e}}),providesTags:(e,t,n)=>e?[...e.map(e=>({type:"Step",id:e.id})),{type:"BranchSteps",id:n.branchId}]:[{type:"BranchSteps",id:n.branchId}]}),getStepById:e.query({query:({id:e})=>({url:aa.STEP.BY_ID(e),method:"get"}),providesTags:e=>e?[{type:"Step",id:e.id}]:[]}),createStep:e.mutation({query:e=>({url:aa.STEP.CREATE,method:"post",data:e}),async onQueryStarted(e,{dispatch:t,queryFulfilled:n,getState:a}){try{const{data:e}=await n,r=fS.util.selectCachedArgsForQuery(a(),"getStepsByBranch");for(const n of r)n.branchId===e.branchId&&t(fS.util.updateQueryData("getStepsByBranch",n,t=>{t.some(t=>t.id===e.id)||t.push(e)}));t(fS.util.upsertQueryData("getStepById",{id:e.id},e))}catch{}},invalidatesTags:e=>e?[{type:"Step",id:e.id},{type:"BranchSteps",id:e.branchId}]:[]}),updateStep:e.mutation({query:e=>({url:aa.STEP.UPDATE(e.id),method:"put",data:e}),async onQueryStarted(e,{dispatch:t,queryFulfilled:n,getState:a}){try{const{data:e}=await n;t(fS.util.upsertQueryData("getStepById",{id:e.id},e));const r=fS.util.selectCachedArgsForQuery(a(),"getStepsByBranch");for(const n of r)t(fS.util.updateQueryData("getStepsByBranch",n,t=>{const n=t.findIndex(t=>t.id===e.id);-1!==n&&(t[n]=e)}))}catch{}},invalidatesTags:e=>e?[{type:"Step",id:e.id},{type:"BranchSteps",id:e.branchId}]:[]}),deleteStep:e.mutation({query:({id:e})=>({url:aa.STEP.DELETE(e),method:"delete"}),async onQueryStarted({id:e},{dispatch:t,queryFulfilled:n,getState:a}){try{const{data:r}=await n;if(!r)return;const s=fS.util.selectCachedArgsForQuery(a(),"getStepsByBranch");for(const n of s)t(fS.util.updateQueryData("getStepsByBranch",n,t=>{const n=t.findIndex(t=>t.id===e);-1!==n&&t.splice(n,1)}));t(fS.util.invalidateTags([{type:"Step",id:e}]))}catch{}}})})}),pS=zn({reducerPath:"stepRelationApi",baseQuery:na(),tagTypes:["StepRelation","StepRelationList"],endpoints:e=>({getAllStepRelations:e.query({query:()=>({url:aa.STEP_RELATION.ALL,method:"get"}),providesTags:e=>e?[...e.map(e=>({type:"StepRelation",id:e.id})),{type:"StepRelationList",id:"ALL"}]:[{type:"StepRelationList",id:"ALL"}]}),addStepRelation:e.mutation({query:e=>({url:aa.STEP_RELATION.CREATE,method:"post",data:e}),async onQueryStarted(e,{dispatch:t,queryFulfilled:n,getState:a}){try{const{data:e}=await n,r=pS.util.selectCachedArgsForQuery(a(),"getAllStepRelations");for(const n of r)t(pS.util.updateQueryData("getAllStepRelations",n,t=>{t.some(t=>t.id===e.id)||t.push(e)}));t(pS.util.upsertQueryData("getStepRelationById",{id:e.id},e))}catch{}},invalidatesTags:e=>e?[{type:"StepRelation",id:e.id},{type:"StepRelationList",id:"ALL"}]:[{type:"StepRelationList",id:"ALL"}]}),updateStepRelation:e.mutation({query:e=>({url:aa.STEP_RELATION.UPDATE(e.id),method:"put",data:e}),async onQueryStarted(e,{dispatch:t,queryFulfilled:n,getState:a}){try{const{data:e}=await n,r=pS.util.selectCachedArgsForQuery(a(),"getAllStepRelations");for(const n of r)t(pS.util.updateQueryData("getAllStepRelations",n,t=>{const n=t.findIndex(t=>t.id===e.id);-1!==n&&(t[n]=e)}));t(pS.util.upsertQueryData("getStepRelationById",{id:e.id},e))}catch{}},invalidatesTags:e=>e?[{type:"StepRelation",id:e.id},{type:"StepRelationList",id:"ALL"}]:[{type:"StepRelationList",id:"ALL"}]}),deleteStepRelation:e.mutation({query:({id:e})=>({url:aa.STEP_RELATION.DELETE(e),method:"delete"}),async onQueryStarted({id:e},{dispatch:t,queryFulfilled:n,getState:a}){try{const{data:r}=await n;if(!r)return;const s=pS.util.selectCachedArgsForQuery(a(),"getAllStepRelations");for(const n of s)t(pS.util.updateQueryData("getAllStepRelations",n,t=>{const n=t.findIndex(t=>t.id===e);-1!==n&&t.splice(n,1)}));t(pS.util.invalidateTags([{type:"StepRelation",id:e}]))}catch{}}})})}),mS=pe({auth:fa,users:G_,chartsTemplates:Dm,scenario:Ko,workflow:ul,chartsSettings:ig,contexts:zf,chartsMeta:Xm,ui:Kn,mirax:Su,tabs:ef,[ra.reducerPath]:ra.reducer,[ko.reducerPath]:ko.reducer,[tl.reducerPath]:tl.reducer,[dS.reducerPath]:dS.reducer,[fS.reducerPath]:fS.reducer,[pS.reducerPath]:pS.reducer,[ny.reducerPath]:ny.reducer,[Qp.reducerPath]:Qp.reducer,[Up.reducerPath]:Up.reducer,[Lu.reducerPath]:Lu.reducer});const hS=Ee({reducer:mS,middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE","persist/REGISTER","charts/upsertTiles","charts/beginLoadTiles","charts/failLoadTiles","charts/test/initializeMultipleLevels/fulfilled","charts/test/incrementalLoad/fulfilled","charts/test/switchLevel/fulfilled","charts/test/loadingErrors/fulfilled","charts/test/fullSuite/fulfilled","charts/initField","charts/addData","charts/updateWindow"],ignoredPaths:["chartsTemplates.errors","chartsTemplates.activeTemplate.fromMs","chartsTemplates.activeTemplate.toMs","charts.view"],warnAfter:128,isSerializable:e=>{if(null==e)return!0;if(e instanceof Date)return!0;const t=typeof e;return"string"===t||"number"===t||"boolean"===t||(Array.isArray(e)?e.every(e=>"function"!=typeof e):"object"===t&&Object.getPrototypeOf(e)===Object.prototype)}},immutableCheck:{ignoredPaths:["charts.view"],warnAfter:128}}).concat(ra.middleware,ko.middleware,tl.middleware,dS.middleware,fS.middleware,ny.middleware,Qp.middleware,Up.middleware,Lu.middleware),devTools:{maxAge:50,trace:!1,actionSanitizer:e=>{var t,n;return(null==(t=e.type)?void 0:t.includes("charts/"))&&(null==(n=e.payload)?void 0:n.tiles)?{...e,payload:{...e.payload,tiles:`[${e.payload.tiles.length} tiles]`}}:e},stateSanitizer:e=>{var t;if(null==(t=e.charts)?void 0:t.view){const t={};return Object.keys(e.charts.view).forEach(n=>{const a=e.charts.view[n];t[n]={...a,seriesLevel:`[${Object.keys(a.seriesLevel||{}).length} levels]`}}),{...e,charts:{...e.charts,view:t}}}return e}}});(async function(){try{const e=Lf.createInstance({name:"ChartsDB",storeName:"charts_data"}),t=await e.getItem("persist:charts");if(!t)return;const n=JSON.parse(t),a=JSON.parse(n.view||"{}"),r=Date.now(),s=6048e5;Object.entries(a).forEach(([e,t])=>{Object.entries(t.seriesLevel||{}).forEach(([e,n])=>{t.seriesLevel[e]=n.filter(e=>e.loadedAt&&r-e.loadedAt<s)})});const i=Object.keys(a);if(i.length>100){i.sort((e,t)=>{var n,r,s,i;const o=(null==(r=null==(n=a[e])?void 0:n.loadingState)?void 0:r.startTime)||0;return((null==(i=null==(s=a[t])?void 0:s.loadingState)?void 0:i.startTime)||0)-o}).slice(100).forEach(e=>{delete a[e]})}n.view=JSON.stringify(a),await e.setItem("persist:charts",JSON.stringify(n))}catch(e){}})().catch(console.error);const gS=Ae(hS);let vS=null;var yS;vS=hS,(yS=Qn).interceptors.request.use(e=>{const t=Qe.from(e.headers);return t.set("Content-Type","application/json"),t.set("Accept","application/json"),t.set("X-Client-Type","web"),e.headers=t,e.withCredentials=!0,e},e=>Promise.reject(e)),yS.interceptors.response.use(e=>e,e=>{var t;const n=null==(t=e.response)?void 0:t.status;return 401===n?(null==vS||vS.dispatch(ca()),a.error(" .  .")):403===n?a.error(" ."):429===n?a.error("  .  "):"number"==typeof n&&n>=500&&a.error(" .    ."),Promise.reject(e)}),rt.createRoot(document.getElementById("root")).render(n.jsx(Re,{store:hS,children:n.jsx(uS,{loading:n.jsx(Ch,{label:" ...",threePointOffset:!0}),persistor:gS,children:n.jsx(X,{children:n.jsx(aS,{})})})}));

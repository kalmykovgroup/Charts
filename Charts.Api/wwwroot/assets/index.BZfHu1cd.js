var e=Object.defineProperty,t=(t,n,a)=>((t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a)(t,"symbol"!=typeof n?n+"":n,a);import{j as n,V as a,r,L as s,M as i,a as l,C as o,b as c,c as u,d,O as f,e as m,f as p}from"./ui-libs.Dj0IXxHc.js";import{r as h,a as g,g as v}from"./react-core.Gmj5k1uE.js";import{u as y,r as b,L as x,N as _,O as k,R as w,a as N,b as S,c as T,d as j,e as M,f as C,B as I}from"./react-router.CxqFhiv8.js";import{w as E,n as A,f as R,e as D,c as L,a as P,p as F,b as q,d as O,g as z,i as $,h as B,j as V,k as U,l as Q,m as H,S as W,o as K,q as G,r as X,s as Z,t as Y,u as J,v as ee,x as te,y as ne,z as ae,A as re,B as se,C as ie,D as le,E as oe,F as ce,G as ue,P as de}from"./redux-core.10CGpUcv.js";import{a as fe,r as me,b as pe,p as he,c as ge,$ as ve,o as ye,s as be,d as xe,e as _e,A as ke}from"./utils.QI2dN_KI.js";import{i as we}from"./charts.CPsdNx2m.js";import{u as Ne,w as Se}from"./files.BtghHq-e.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Te,je,Me,Ce,Ie={exports:{}},Ee={},Ae={exports:{}},Re={};function De(){return je||(je=1,Ae.exports=(Te||(Te=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,s=e[a];if(!(0<r(s,t)))break e;e[a]=t,e[n]=s,n=a}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,s=e.length,i=s>>>1;a<i;){var l=2*(a+1)-1,o=e[l],c=l+1,u=e[c];if(0>r(o,n))c<s&&0>r(u,o)?(e[a]=u,e[c]=n,a=c):(e[a]=o,e[l]=n,a=l);else{if(!(c<s&&0>r(u,n)))break e;e[a]=u,e[c]=n,a=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var o=[],c=[],u=1,d=null,f=3,m=!1,p=!1,h=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var r=n(c);null!==r;){if(null===r.callback)a(c);else{if(!(r.startTime<=e))break;a(c),r.sortIndex=r.expirationTime,t(o,r)}r=n(c)}}function _(e){if(h=!1,x(e),!p)if(null!==n(o))p=!0,w||(w=!0,k());else{var t=n(c);null!==t&&E(_,t.startTime-e)}}var k,w=!1,N=-1,S=5,T=-1;function j(){return!(!g&&e.unstable_now()-T<S)}function M(){if(g=!1,w){var t=e.unstable_now();T=t;var r=!0;try{e:{p=!1,h&&(h=!1,y(N),N=-1),m=!0;var s=f;try{t:{for(x(t),d=n(o);null!==d&&!(d.expirationTime>t&&j());){var i=d.callback;if("function"==typeof i){d.callback=null,f=d.priorityLevel;var l=i(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof l){d.callback=l,x(t),r=!0;break t}d===n(o)&&a(o),x(t)}else a(o);d=n(o)}if(null!==d)r=!0;else{var u=n(c);null!==u&&E(_,u.startTime-t),r=!1}}break e}finally{d=null,f=s,m=!1}r=void 0}}finally{r?k():w=!1}}}if("function"==typeof b)k=function(){b(M)};else if("undefined"!=typeof MessageChannel){var C=new MessageChannel,I=C.port2;C.port1.onmessage=M,k=function(){I.postMessage(null)}}else k=function(){v(M,0)};function E(t,n){N=v(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(S=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(a,r,s){var i=e.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?i+s:i,a){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return a={id:u++,callback:r,priorityLevel:a,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>i?(a.sortIndex=s,t(c,a),null===n(o)&&a===n(c)&&(h?(y(N),N=-1):h=!0,E(_,s-i))):(a.sortIndex=l,t(o,a),p||m||(p=!0,w||(w=!0,k()))),a},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}}(Re)),Re)),Ae.exports}function Le(){if(Me)return Ee;Me=1;var e=De(),t=h(),n=g();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function i(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function l(e){if(s(e)!==e)throw Error(a(188))}function o(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=o(e)))return t;e=e.sibling}return null}var c=Object.assign,u=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),x=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function C(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=M&&e[M]||e["@@iterator"])?e:null}var I=Symbol.for("react.client.reference");function E(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===I?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"Fragment";case v:return"Profiler";case p:return"StrictMode";case k:return"Suspense";case w:return"SuspenseList";case T:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case f:return"Portal";case x:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:E(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return E(e(t))}catch(n){}}return null}var A=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},P=[],F=-1;function q(e){return{current:e}}function O(e){0>F||(e.current=P[F],P[F]=null,F--)}function z(e,t){F++,P[F]=e.current,e.current=t}var $=q(null),B=q(null),V=q(null),U=q(null);function Q(e,t){switch(z(V,t),z(B,e),z($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ld(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O($),z($,e)}function H(){O($),O(B),O(V)}function W(e){null!==e.memoizedState&&z(U,e);var t=$.current,n=ld(t,e.type);t!==n&&(z(B,e),z($,n))}function K(e){B.current===e&&(O($),O(B)),U.current===e&&(O(U),Xd._currentValue=L)}var G=Object.prototype.hasOwnProperty,X=e.unstable_scheduleCallback,Z=e.unstable_cancelCallback,Y=e.unstable_shouldYield,J=e.unstable_requestPaint,ee=e.unstable_now,te=e.unstable_getCurrentPriorityLevel,ne=e.unstable_ImmediatePriority,ae=e.unstable_UserBlockingPriority,re=e.unstable_NormalPriority,se=e.unstable_LowPriority,ie=e.unstable_IdlePriority,le=e.log,oe=e.unstable_setDisableYieldValue,ce=null,ue=null;function de(e){if("function"==typeof le&&oe(e),ue&&"function"==typeof ue.setStrictMode)try{ue.setStrictMode(ce,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(me(e)/pe|0)|0},me=Math.log,pe=Math.LN2;var he=256,ge=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ye(e,t,n){var a=e.pendingLanes;if(0===a)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var l=134217727&a;return 0!==l?0!==(a=l&~s)?r=ve(a):0!==(i&=l)?r=ve(i):n||0!==(n=l&~e)&&(r=ve(n)):0!==(l=a&~s)?r=ve(l):0!==i?r=ve(i):n||0!==(n=a&~e)&&(r=ve(n)),0===r?0:0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(n=t&-t)||32===s&&4194048&n)?t:r}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function _e(){var e=he;return!(4194048&(he<<=1))&&(he=256),e}function ke(){var e=ge;return!(62914560&(ge<<=1))&&(ge=4194304),e}function we(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ne(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Se(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-fe(t);e.entangledLanes|=t,e.entanglements[a]=1073741824|e.entanglements[a]|4194090&n}function Te(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-fe(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}function je(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ce(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ie(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:ff(e.type)}var Ae=Math.random().toString(36).slice(2),Re="__reactFiber$"+Ae,Le="__reactProps$"+Ae,Pe="__reactContainer$"+Ae,Fe="__reactEvents$"+Ae,qe="__reactListeners$"+Ae,Oe="__reactHandles$"+Ae,ze="__reactResources$"+Ae,$e="__reactMarker$"+Ae;function Be(e){delete e[Re],delete e[Le],delete e[Fe],delete e[qe],delete e[Oe]}function Ve(e){var t=e[Re];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pe]||n[Re]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=_d(e);null!==e;){if(n=e[Re])return n;e=_d(e)}return t}n=(e=n).parentNode}return null}function Ue(e){if(e=e[Re]||e[Pe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function He(e){var t=e[ze];return t||(t=e[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[$e]=!0}var Ke=new Set,Ge={};function Xe(e,t){Ze(e,t),Ze(e+"Capture",t)}function Ze(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Ye,Je,et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tt={},nt={};function at(e,t,n){if(r=t,G.call(nt,r)||!G.call(tt,r)&&(et.test(r)?nt[r]=!0:(tt[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var a=t.toLowerCase().slice(0,5);if("data-"!==a&&"aria-"!==a)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function rt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function st(e,t,n,a){if(null===a)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+a)}}function it(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Je=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Je}var lt=!1;function ot(e,t){if(!e||lt)return"";lt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var a=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){a=s}e.call(n.prototype)}}else{try{throw Error()}catch(i){a=i}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(l){if(l&&a&&"string"==typeof l.stack)return[l.stack,a.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=a.DetermineComponentFrameRoot(),i=s[0],l=s[1];if(i&&l){var o=i.split("\n"),c=l.split("\n");for(r=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(a===o.length||r===c.length)for(a=o.length-1,r=c.length-1;1<=a&&0<=r&&o[a]!==c[r];)r--;for(;1<=a&&0<=r;a--,r--)if(o[a]!==c[r]){if(1!==a||1!==r)do{if(a--,0>--r||o[a]!==c[r]){var u="\n"+o[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=r);break}}}finally{lt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function ct(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return it("Activity");default:return""}}function ut(e){try{var t="";do{t+=ct(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ft(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function mt(e){e._valueTracker||(e._valueTracker=function(e){var t=ft(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=ft(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function ht(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,a,r,s,i,l){e.name="",null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?xt(e,i,dt(t)):null!=n?xt(e,i,dt(n)):null!=a&&e.removeAttribute("value"),null==r&&null!=s&&(e.defaultChecked=!!s),null!=r&&(e.checked=r&&"function"!=typeof r&&"symbol"!=typeof r),null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l?e.name=""+dt(l):e.removeAttribute("name")}function bt(e,t,n,a,r,s,i,l){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(("submit"===s||"reset"===s)&&null==t)return;n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}a="function"!=typeof(a=null!=a?a:r)&&"symbol"!=typeof a&&!!a,e.checked=l?e.checked:!!a,e.defaultChecked=!!a,null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.name=i)}function xt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _t(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function kt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(A(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function Nt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var a=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?a?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":a?e.setProperty(t,n):"number"!=typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function jt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&Tt(e,s,r)}else for(var i in t)t.hasOwnProperty(i)&&Tt(e,i,t[i])}function Mt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Et(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Lt=null;function Pt(e){var t=Ue(e);if(t&&(e=t.stateNode)){var n=e[Le]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[Le]||null;if(!s)throw Error(a(90));yt(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":kt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&_t(e,!!n.multiple,t,!1)}}}var Ft=!1;function qt(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Dt||null!==Lt)&&(Vc(),Dt&&(t=Dt,e=Lt,Lt=Dt=null,Pt(t),e)))for(t=0;t<e.length;t++)Pt(e[t])}}function Ot(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Le]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var zt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),$t=!1;if(zt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){$t=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Pf){$t=!1}var Vt=null,Ut=null,Qt=null;function Ht(){if(Qt)return Qt;var e,t,n=Ut,a=n.length,r="value"in Vt?Vt.value:Vt.textContent,s=r.length;for(e=0;e<a&&n[e]===r[e];e++);var i=a-e;for(t=1;t<=i&&n[a-t]===r[s-t];t++);return Qt=r.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Gt(){return!1}function Xt(e){function t(t,n,a,r,s){for(var i in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Kt:Gt,this.isPropagationStopped=Gt,this}return c(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Zt,Yt,Jt,en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tn=Xt(en),nn=c({},en,{view:0,detail:0}),an=Xt(nn),rn=c({},nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Zt=e.screenX-Jt.screenX,Yt=e.screenY-Jt.screenY):Yt=Zt=0,Jt=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),sn=Xt(rn),ln=Xt(c({},rn,{dataTransfer:0})),on=Xt(c({},nn,{relatedTarget:0})),cn=Xt(c({},en,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Xt(c({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Xt(c({},en,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function gn(){return hn}var vn=Xt(c({},nn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yn=Xt(c({},rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Xt(c({},nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),xn=Xt(c({},en,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=Xt(c({},rn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),kn=Xt(c({},en,{newState:0,oldState:0})),wn=[9,13,27,32],Nn=zt&&"CompositionEvent"in window,Sn=null;zt&&"documentMode"in document&&(Sn=document.documentMode);var Tn=zt&&"TextEvent"in window&&!Sn,jn=zt&&(!Nn||Sn&&8<Sn&&11>=Sn),Mn=String.fromCharCode(32),Cn=!1;function In(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function En(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Ln(e,t,n,a){Dt?Lt?Lt.push(a):Lt=[a]:Dt=a,0<(t=Hu(t,"onChange")).length&&(n=new tn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Pn=null,Fn=null;function qn(e){qu(e,0)}function On(e){if(pt(Qe(e)))return e}function zn(e,t){if("change"===e)return t}var $n=!1;if(zt){var Bn;if(zt){var Vn="oninput"in document;if(!Vn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),Vn="function"==typeof Un.oninput}Bn=Vn}else Bn=!1;$n=Bn&&(!document.documentMode||9<document.documentMode)}function Qn(){Pn&&(Pn.detachEvent("onpropertychange",Hn),Fn=Pn=null)}function Hn(e){if("value"===e.propertyName&&On(Fn)){var t=[];Ln(t,Fn,e,Rt(e)),qt(qn,t)}}function Wn(e,t,n){"focusin"===e?(Qn(),Fn=n,(Pn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Qn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return On(Fn)}function Gn(e,t){if("click"===e)return On(t)}function Xn(e,t){if("input"===e||"change"===e)return On(t)}var Zn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Yn(e,t){if(Zn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!G.call(t,r)||!Zn(e[r],t[r]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ea(e,t){var n,a=Jn(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jn(a)}}function ta(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ta(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function na(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function aa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ra=zt&&"documentMode"in document&&11>=document.documentMode,sa=null,ia=null,la=null,oa=!1;function ca(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;oa||null==sa||sa!==ht(a)||("selectionStart"in(a=sa)&&aa(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},la&&Yn(la,a)||(la=a,0<(a=Hu(ia,"onSelect")).length&&(t=new tn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=sa)))}function ua(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var da={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},fa={},ma={};function pa(e){if(fa[e])return fa[e];if(!da[e])return e;var t,n=da[e];for(t in n)if(n.hasOwnProperty(t)&&t in ma)return fa[e]=n[t];return e}zt&&(ma=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);var ha=pa("animationend"),ga=pa("animationiteration"),va=pa("animationstart"),ya=pa("transitionrun"),ba=pa("transitionstart"),xa=pa("transitioncancel"),_a=pa("transitionend"),ka=new Map,wa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Na(e,t){ka.set(e,t),Xe(t,[e])}wa.push("scrollEnd");var Sa=new WeakMap;function Ta(e,t){if("object"==typeof e&&null!==e){var n=Sa.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ut(t)},Sa.set(e,t),t)}return{value:e,source:t,stack:ut(t)}}var ja=[],Ma=0,Ca=0;function Ia(){for(var e=Ma,t=Ca=Ma=0;t<e;){var n=ja[t];ja[t++]=null;var a=ja[t];ja[t++]=null;var r=ja[t];ja[t++]=null;var s=ja[t];if(ja[t++]=null,null!==a&&null!==r){var i=a.pending;null===i?r.next=r:(r.next=i.next,i.next=r),a.pending=r}0!==s&&Da(n,r,s)}}function Ea(e,t,n,a){ja[Ma++]=e,ja[Ma++]=t,ja[Ma++]=n,ja[Ma++]=a,Ca|=a,e.lanes|=a,null!==(e=e.alternate)&&(e.lanes|=a)}function Aa(e,t,n,a){return Ea(e,t,n,a),La(e)}function Ra(e,t){return Ea(e,null,null,t),La(e)}function Da(e,t,n){e.lanes|=n;var a=e.alternate;null!==a&&(a.lanes|=n);for(var r=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(a=s.alternate)&&(a.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(r=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,r&&null!==t&&(r=31-fe(n),null===(a=(e=s.hiddenUpdates)[r])?e[r]=[t]:a.push(t),t.lane=536870912|n),s):null}function La(e){if(50<Dc)throw Dc=0,Lc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Pa={};function Fa(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qa(e,t,n,a){return new Fa(e,t,n,a)}function Oa(e){return!(!(e=e.prototype)||!e.isReactComponent)}function za(e,t){var n=e.alternate;return null===n?((n=qa(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function $a(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ba(e,t,n,r,s,i){var l=0;if(r=e,"function"==typeof e)Oa(e)&&(l=1);else if("string"==typeof e)l=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,$.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=qa(31,n,t,s)).elementType=T,e.lanes=i,e;case m:return Va(n.children,s,i,t);case p:l=8,s|=24;break;case v:return(e=qa(12,n,t,2|s)).elementType=v,e.lanes=i,e;case k:return(e=qa(13,n,t,s)).elementType=k,e.lanes=i,e;case w:return(e=qa(19,n,t,s)).elementType=w,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case y:case x:l=10;break e;case b:l=9;break e;case _:l=11;break e;case N:l=14;break e;case S:l=16,r=null;break e}l=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=qa(l,n,t,s)).elementType=e,t.type=r,t.lanes=i,t}function Va(e,t,n,a){return(e=qa(7,e,a,t)).lanes=n,e}function Ua(e,t,n){return(e=qa(6,e,null,t)).lanes=n,e}function Qa(e,t,n){return(t=qa(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ha=[],Wa=0,Ka=null,Ga=0,Xa=[],Za=0,Ya=null,Ja=1,er="";function tr(e,t){Ha[Wa++]=Ga,Ha[Wa++]=Ka,Ka=e,Ga=t}function nr(e,t,n){Xa[Za++]=Ja,Xa[Za++]=er,Xa[Za++]=Ya,Ya=e;var a=Ja;e=er;var r=32-fe(a)-1;a&=~(1<<r),n+=1;var s=32-fe(t)+r;if(30<s){var i=r-r%5;s=(a&(1<<i)-1).toString(32),a>>=i,r-=i,Ja=1<<32-fe(t)+r|n<<r|a,er=s+e}else Ja=1<<s|n<<r|a,er=e}function ar(e){null!==e.return&&(tr(e,1),nr(e,1,0))}function rr(e){for(;e===Ka;)Ka=Ha[--Wa],Ha[Wa]=null,Ga=Ha[--Wa],Ha[Wa]=null;for(;e===Ya;)Ya=Xa[--Za],Xa[Za]=null,er=Xa[--Za],Xa[Za]=null,Ja=Xa[--Za],Xa[Za]=null}var sr=null,ir=null,lr=!1,or=null,cr=!1,ur=Error(a(519));function dr(e){throw vr(Ta(Error(a(418,"")),e)),ur}function fr(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[Re]=e,t[Le]=a,n){case"dialog":Ou("cancel",t),Ou("close",t);break;case"iframe":case"object":case"embed":Ou("load",t);break;case"video":case"audio":for(n=0;n<Pu.length;n++)Ou(Pu[n],t);break;case"source":Ou("error",t);break;case"img":case"image":case"link":Ou("error",t),Ou("load",t);break;case"details":Ou("toggle",t);break;case"input":Ou("invalid",t),bt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),mt(t);break;case"select":Ou("invalid",t);break;case"textarea":Ou("invalid",t),wt(t,a.value,a.defaultValue,a.children),mt(t)}"string"!=typeof(n=a.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===a.suppressHydrationWarning||Yu(t.textContent,n)?(null!=a.popover&&(Ou("beforetoggle",t),Ou("toggle",t)),null!=a.onScroll&&Ou("scroll",t),null!=a.onScrollEnd&&Ou("scrollend",t),null!=a.onClick&&(t.onclick=Ju),t=!0):t=!1,t||dr(e)}function mr(e){for(sr=e.return;sr;)switch(sr.tag){case 5:case 13:return void(cr=!1);case 27:case 3:return void(cr=!0);default:sr=sr.return}}function pr(e){if(e!==sr)return!1;if(!lr)return mr(e),lr=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&ir&&dr(e),mr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ir=bd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ir=null}}else 27===n?(n=ir,hd(e.type)?(e=xd,xd=null,ir=e):ir=n):ir=sr?bd(e.stateNode.nextSibling):null;return!0}function hr(){ir=sr=null,lr=!1}function gr(){var e=or;return null!==e&&(null===_c?_c=e:_c.push.apply(_c,e),or=null),e}function vr(e){null===or?or=[e]:or.push(e)}var yr=q(null),br=null,xr=null;function _r(e,t,n){z(yr,t._currentValue),t._currentValue=n}function kr(e){e._currentValue=yr.current,O(yr)}function wr(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Nr(e,t,n,r){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var i=s.dependencies;if(null!==i){var l=s.child;i=i.firstContext;e:for(;null!==i;){var o=i;i=s;for(var c=0;c<t.length;c++)if(o.context===t[c]){i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),wr(i.return,n,e),r||(l=null);break e}i=o.next}}else if(18===s.tag){if(null===(l=s.return))throw Error(a(341));l.lanes|=n,null!==(i=l.alternate)&&(i.lanes|=n),wr(l,n,e),l=null}else l=s.child;if(null!==l)l.return=s;else for(l=s;null!==l;){if(l===e){l=null;break}if(null!==(s=l.sibling)){s.return=l.return,l=s;break}l=l.return}s=l}}function Sr(e,t,n,r){e=null;for(var s=t,i=!1;null!==s;){if(!i)if(524288&s.flags)i=!0;else if(262144&s.flags)break;if(10===s.tag){var l=s.alternate;if(null===l)throw Error(a(387));if(null!==(l=l.memoizedProps)){var o=s.type;Zn(s.pendingProps.value,l.value)||(null!==e?e.push(o):e=[o])}}else if(s===U.current){if(null===(l=s.alternate))throw Error(a(387));l.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(Xd):e=[Xd])}s=s.return}null!==e&&Nr(t,e,n,r),t.flags|=262144}function Tr(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function jr(e){br=e,xr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Mr(e){return Ir(br,e)}function Cr(e,t){return null===br&&jr(e),Ir(e,t)}function Ir(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===xr){if(null===e)throw Error(a(308));xr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xr=xr.next=t;return n}var Er="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ar=e.unstable_scheduleCallback,Rr=e.unstable_NormalPriority,Dr={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lr(){return{controller:new Er,data:new Map,refCount:0}}function Pr(e){e.refCount--,0===e.refCount&&Ar(Rr,function(){e.controller.abort()})}var Fr=null,qr=0,Or=0,zr=null;function $r(){if(0===--qr&&null!==Fr){null!==zr&&(zr.status="fulfilled");var e=Fr;Fr=null,Or=0,zr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Br=R.S;R.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Fr){var n=Fr=[];qr=0,Or=Eu(),zr={status:"pending",value:void 0,then:function(e){n.push(e)}}}qr++,t.then($r,$r)}(0,t),null!==Br&&Br(e,t)};var Vr=q(null);function Ur(){var e=Vr.current;return null!==e?e:sc.pooledCache}function Qr(e,t){z(Vr,null===t?Vr.current:t.pool)}function Hr(){var e=Ur();return null===e?null:{parent:Dr._currentValue,pool:e}}var Wr=Error(a(460)),Kr=Error(a(474)),Gr=Error(a(542)),Xr={then:function(){}};function Zr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yr(){}function Jr(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yr,Yr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ns(e=t.reason),e;default:if("string"==typeof t.status)t.then(Yr,Yr);else{if(null!==(e=sc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ns(e=t.reason),e}throw es=t,Wr}}var es=null;function ts(){if(null===es)throw Error(a(459));var e=es;return es=null,e}function ns(e){if(e===Wr||e===Gr)throw Error(a(483))}var as=!1;function rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ss(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ls(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,2&rc){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=La(e),Da(e,null,n),t}return Ea(e,a,t,n),La(e)}function os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Te(e,n)}}function cs(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?r=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:a.shared,callbacks:a.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var us=!1;function ds(){if(us){if(null!==zr)throw zr}}function fs(e,t,n,a){us=!1;var r=e.updateQueue;as=!1;var s=r.firstBaseUpdate,i=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var o=l,u=o.next;o.next=null,null===i?s=u:i.next=u,i=o;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===l?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=o))}if(null!==s){var f=r.baseState;for(i=0,d=u=o=null,l=s;;){var m=-536870913&l.lane,p=m!==l.lane;if(p?(lc&m)===m:(a&m)===m){0!==m&&m===Or&&(us=!0),null!==d&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var h=e,g=l;m=t;var v=n;switch(g.tag){case 1:if("function"==typeof(h=g.payload)){f=h.call(v,f,m);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(m="function"==typeof(h=g.payload)?h.call(v,f,m):h))break e;f=c({},f,m);break e;case 2:as=!0}}null!==(m=l.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=r.callbacks)?r.callbacks=[m]:p.push(m))}else p={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(u=d=p,o=f):d=d.next=p,i|=m;if(null===(l=l.next)){if(null===(l=r.shared.pending))break;l=(p=l).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}null===d&&(o=f),r.baseState=o,r.firstBaseUpdate=u,r.lastBaseUpdate=d,null===s&&(r.shared.lanes=0),hc|=i,e.lanes=i,e.memoizedState=f}}function ms(e,t){if("function"!=typeof e)throw Error(a(191,e));e.call(t)}function ps(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ms(n[e],t)}var hs=q(null),gs=q(0);function vs(e,t){z(gs,e=mc),z(hs,t),mc=e|t.baseLanes}function ys(){z(gs,mc),z(hs,hs.current)}function bs(){mc=gs.current,O(hs),O(gs)}var xs=0,_s=null,ks=null,ws=null,Ns=!1,Ss=!1,Ts=!1,js=0,Ms=0,Cs=null,Is=0;function Es(){throw Error(a(321))}function As(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function Rs(e,t,n,a,r,s){return xs=s,_s=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?Wi:Ki,Ts=!1,s=n(a,r),Ts=!1,Ss&&(s=Ls(t,n,a,r)),Ds(e),s}function Ds(e){R.H=Hi;var t=null!==ks&&null!==ks.next;if(xs=0,ws=ks=_s=null,Ns=!1,Ms=0,Cs=null,t)throw Error(a(300));null===e||Ml||null!==(e=e.dependencies)&&Tr(e)&&(Ml=!0)}function Ls(e,t,n,r){_s=e;var s=0;do{if(Ss&&(Cs=null),Ms=0,Ss=!1,25<=s)throw Error(a(301));if(s+=1,ws=ks=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}R.H=Gi,i=t(n,r)}while(Ss);return i}function Ps(){var e=R.H,t=e.useState()[0];return t="function"==typeof t.then?Bs(t):t,e=e.useState()[0],(null!==ks?ks.memoizedState:null)!==e&&(_s.flags|=1024),t}function Fs(){var e=0!==js;return js=0,e}function qs(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Os(e){if(Ns){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ns=!1}xs=0,ws=ks=_s=null,Ss=!1,Ms=js=0,Cs=null}function zs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ws?_s.memoizedState=ws=e:ws=ws.next=e,ws}function $s(){if(null===ks){var e=_s.alternate;e=null!==e?e.memoizedState:null}else e=ks.next;var t=null===ws?_s.memoizedState:ws.next;if(null!==t)ws=t,ks=e;else{if(null===e){if(null===_s.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(ks=e).memoizedState,baseState:ks.baseState,baseQueue:ks.baseQueue,queue:ks.queue,next:null},null===ws?_s.memoizedState=ws=e:ws=ws.next=e}return ws}function Bs(e){var t=Ms;return Ms+=1,null===Cs&&(Cs=[]),e=Jr(Cs,e,t),t=_s,null===(null===ws?t.memoizedState:ws.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?Wi:Ki),e}function Vs(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Bs(e);if(e.$$typeof===x)return Mr(e)}throw Error(a(438,String(e)))}function Us(e){var t=null,n=_s.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var a=_s.alternate;null!==a&&(null!==(a=a.updateQueue)&&(null!=(a=a.memoCache)&&(t={data:a.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},_s.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=j;return t.index++,n}function Qs(e,t){return"function"==typeof t?t(e):t}function Hs(e){return Ws($s(),ks,e)}function Ws(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var s=e.baseQueue,i=r.pending;if(null!==i){if(null!==s){var l=s.next;s.next=i.next,i.next=l}t.baseQueue=s=i,r.pending=null}if(i=e.baseState,null===s)e.memoizedState=i;else{var o=l=null,c=null,u=t=s.next,d=!1;do{var f=-536870913&u.lane;if(f!==u.lane?(lc&f)===f:(xs&f)===f){var m=u.revertLane;if(0===m)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Or&&(d=!0);else{if((xs&m)===m){u=u.next,m===Or&&(d=!0);continue}f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=f,l=i):c=c.next=f,_s.lanes|=m,hc|=m}f=u.action,Ts&&n(i,f),i=u.hasEagerState?u.eagerState:n(i,f)}else m={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=m,l=i):c=c.next=m,_s.lanes|=f,hc|=f;u=u.next}while(null!==u&&u!==t);if(null===c?l=i:c.next=o,!Zn(i,e.memoizedState)&&(Ml=!0,d&&null!==(n=zr)))throw n;e.memoizedState=i,e.baseState=l,e.baseQueue=c,r.lastRenderedState=i}return null===s&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ks(e){var t=$s(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(null!==s){n.pending=null;var l=s=s.next;do{i=e(i,l.action),l=l.next}while(l!==s);Zn(i,t.memoizedState)||(Ml=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Gs(e,t,n){var r=_s,s=$s(),i=lr;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var l=!Zn((ks||s).memoizedState,n);if(l&&(s.memoizedState=n,Ml=!0),s=s.queue,yi(2048,8,Ys.bind(null,r,s,e),[e]),s.getSnapshot!==t||l||null!==ws&&1&ws.memoizedState.tag){if(r.flags|=2048,hi(9,{destroy:void 0,resource:void 0},Zs.bind(null,r,s,n,t),null),null===sc)throw Error(a(349));i||124&xs||Xs(r,t,n)}return n}function Xs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=_s.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},_s.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Zs(e,t,n,a){t.value=n,t.getSnapshot=a,Js(t)&&ei(e)}function Ys(e,t,n){return n(function(){Js(t)&&ei(e)})}function Js(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(a){return!0}}function ei(e){var t=Ra(e,2);null!==t&&qc(t,e,2)}function ti(e){var t=zs();if("function"==typeof e){var n=e;if(e=n(),Ts){de(!0);try{n()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:e},t}function ni(e,t,n,a){return e.baseState=n,Ws(e,ks,"function"==typeof a?a:Qs)}function ai(e,t,n,r,s){if(Vi(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==R.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,ri(t,i)):(i.next=n.next,t.pending=n.next=i)}}function ri(e,t){var n=t.action,a=t.payload,r=e.state;if(t.isTransition){var s=R.T,i={};R.T=i;try{var l=n(r,a),o=R.S;null!==o&&o(i,l),si(e,t,l)}catch(c){li(e,t,c)}finally{R.T=s}}else try{si(e,t,s=n(r,a))}catch(u){li(e,t,u)}}function si(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){ii(e,t,n)},function(n){return li(e,t,n)}):ii(e,t,n)}function ii(e,t,n){t.status="fulfilled",t.value=n,oi(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ri(e,n)))}function li(e,t,n){var a=e.pending;if(e.pending=null,null!==a){a=a.next;do{t.status="rejected",t.reason=n,oi(t),t=t.next}while(t!==a)}e.action=null}function oi(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ci(e,t){return t}function ui(e,t){if(lr){var n=sc.formState;if(null!==n){e:{var a=_s;if(lr){if(ir){t:{for(var r=ir,s=cr;8!==r.nodeType;){if(!s){r=null;break t}if(null===(r=bd(r.nextSibling))){r=null;break t}}r="F!"===(s=r.data)||"F"===s?r:null}if(r){ir=bd(r.nextSibling),a="F!"===r.data;break e}}dr(a)}a=!1}a&&(t=n[0])}}return(n=zs()).memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:t},n.queue=a,n=zi.bind(null,_s,a),a.dispatch=n,a=ti(!1),s=Bi.bind(null,_s,!1,a.queue),r={state:t,dispatch:null,action:e,pending:null},(a=zs()).queue=r,n=ai.bind(null,_s,r,s,n),r.dispatch=n,a.memoizedState=e,[t,n,!1]}function di(e){return fi($s(),ks,e)}function fi(e,t,n){if(t=Ws(e,t,ci)[0],e=Hs(Qs)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var a=Bs(t)}catch(i){if(i===Wr)throw Gr;throw i}else a=t;var r=(t=$s()).queue,s=r.dispatch;return n!==t.memoizedState&&(_s.flags|=2048,hi(9,{destroy:void 0,resource:void 0},mi.bind(null,r,n),null)),[a,s,e]}function mi(e,t){e.action=t}function pi(e){var t=$s(),n=ks;if(null!==n)return fi(t,n,e);$s(),t=t.memoizedState;var a=(n=$s()).queue.dispatch;return n.memoizedState=e,[t,a,!1]}function hi(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},null===(t=_s.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},_s.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function gi(){return $s().memoizedState}function vi(e,t,n,a){var r=zs();a=void 0===a?null:a,_s.flags|=e,r.memoizedState=hi(1|t,{destroy:void 0,resource:void 0},n,a)}function yi(e,t,n,a){var r=$s();a=void 0===a?null:a;var s=r.memoizedState.inst;null!==ks&&null!==a&&As(a,ks.memoizedState.deps)?r.memoizedState=hi(t,s,n,a):(_s.flags|=e,r.memoizedState=hi(1|t,s,n,a))}function bi(e,t){vi(8390656,8,e,t)}function xi(e,t){yi(2048,8,e,t)}function _i(e,t){return yi(4,2,e,t)}function ki(e,t){return yi(4,4,e,t)}function wi(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Ni(e,t,n){n=null!=n?n.concat([e]):null,yi(4,4,wi.bind(null,t,e),n)}function Si(){}function Ti(e,t){var n=$s();t=void 0===t?null:t;var a=n.memoizedState;return null!==t&&As(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function ji(e,t){var n=$s();t=void 0===t?null:t;var a=n.memoizedState;if(null!==t&&As(t,a[1]))return a[0];if(a=e(),Ts){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[a,t],a}function Mi(e,t,n){return void 0===n||1073741824&xs?e.memoizedState=t:(e.memoizedState=n,e=Fc(),_s.lanes|=e,hc|=e,n)}function Ci(e,t,n,a){return Zn(n,t)?n:null!==hs.current?(e=Mi(e,n,a),Zn(e,t)||(Ml=!0),e):42&xs?(e=Fc(),_s.lanes|=e,hc|=e,t):(Ml=!0,e.memoizedState=n)}function Ii(e,t,n,a,r){var s=D.p;D.p=0!==s&&8>s?s:8;var i,l,o,c=R.T,u={};R.T=u,Bi(e,!1,t,n);try{var d=r(),f=R.S;if(null!==f&&f(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)$i(e,t,(i=a,l=[],o={status:"pending",value:null,reason:null,then:function(e){l.push(e)}},d.then(function(){o.status="fulfilled",o.value=i;for(var e=0;e<l.length;e++)(0,l[e])(i)},function(e){for(o.status="rejected",o.reason=e,e=0;e<l.length;e++)(0,l[e])(void 0)}),o),Pc());else $i(e,t,a,Pc())}catch(m){$i(e,t,{then:function(){},status:"rejected",reason:m},Pc())}finally{D.p=s,R.T=c}}function Ei(){}function Ai(e,t,n,r){if(5!==e.tag)throw Error(a(476));var s=Ri(e).queue;Ii(e,s,t,L,null===n?Ei:function(){return Di(e),n(r)})}function Ri(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Di(e){$i(e,Ri(e).next.queue,{},Pc())}function Li(){return Mr(Xd)}function Pi(){return $s().memoizedState}function Fi(){return $s().memoizedState}function qi(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Pc(),a=ls(t,e=is(n),n);return null!==a&&(qc(a,t,n),os(a,t,n)),t={cache:Lr()},void(e.payload=t)}t=t.return}}function Oi(e,t,n){var a=Pc();n={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Vi(e)?Ui(t,n):null!==(n=Aa(e,t,n,a))&&(qc(n,e,a),Qi(n,t,a))}function zi(e,t,n){$i(e,t,n,Pc())}function $i(e,t,n,a){var r={lane:a,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vi(e))Ui(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=s(i,n);if(r.hasEagerState=!0,r.eagerState=l,Zn(l,i))return Ea(e,t,r,0),null===sc&&Ia(),!1}catch(o){}if(null!==(n=Aa(e,t,r,a)))return qc(n,e,a),Qi(n,t,a),!0}return!1}function Bi(e,t,n,r){if(r={lane:2,revertLane:Eu(),action:r,hasEagerState:!1,eagerState:null,next:null},Vi(e)){if(t)throw Error(a(479))}else null!==(t=Aa(e,n,r,2))&&qc(t,e,2)}function Vi(e){var t=e.alternate;return e===_s||null!==t&&t===_s}function Ui(e,t){Ss=Ns=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qi(e,t,n){if(4194048&n){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,Te(e,n)}}var Hi={readContext:Mr,use:Vs,useCallback:Es,useContext:Es,useEffect:Es,useImperativeHandle:Es,useLayoutEffect:Es,useInsertionEffect:Es,useMemo:Es,useReducer:Es,useRef:Es,useState:Es,useDebugValue:Es,useDeferredValue:Es,useTransition:Es,useSyncExternalStore:Es,useId:Es,useHostTransitionStatus:Es,useFormState:Es,useActionState:Es,useOptimistic:Es,useMemoCache:Es,useCacheRefresh:Es},Wi={readContext:Mr,use:Vs,useCallback:function(e,t){return zs().memoizedState=[e,void 0===t?null:t],e},useContext:Mr,useEffect:bi,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,vi(4194308,4,wi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vi(4194308,4,e,t)},useInsertionEffect:function(e,t){vi(4,2,e,t)},useMemo:function(e,t){var n=zs();t=void 0===t?null:t;var a=e();if(Ts){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=zs();if(void 0!==n){var r=n(t);if(Ts){de(!0);try{n(t)}finally{de(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=Oi.bind(null,_s,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},zs().memoizedState=e},useState:function(e){var t=(e=ti(e)).queue,n=zi.bind(null,_s,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Si,useDeferredValue:function(e,t){return Mi(zs(),e,t)},useTransition:function(){var e=ti(!1);return e=Ii.bind(null,_s,e.queue,!0,!1),zs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=_s,s=zs();if(lr){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===sc)throw Error(a(349));124&lc||Xs(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,bi(Ys.bind(null,r,i,e),[e]),r.flags|=2048,hi(9,{destroy:void 0,resource:void 0},Zs.bind(null,r,i,n,t),null),n},useId:function(){var e=zs(),t=sc.identifierPrefix;if(lr){var n=er;t=""+t+"R"+(n=(Ja&~(1<<32-fe(Ja)-1)).toString(32)+n),0<(n=js++)&&(t+="H"+n.toString(32)),t+=""}else t=""+t+"r"+(n=Is++).toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Li,useFormState:ui,useActionState:ui,useOptimistic:function(e){var t=zs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bi.bind(null,_s,!0,n),n.dispatch=t,[e,t]},useMemoCache:Us,useCacheRefresh:function(){return zs().memoizedState=qi.bind(null,_s)}},Ki={readContext:Mr,use:Vs,useCallback:Ti,useContext:Mr,useEffect:xi,useImperativeHandle:Ni,useInsertionEffect:_i,useLayoutEffect:ki,useMemo:ji,useReducer:Hs,useRef:gi,useState:function(){return Hs(Qs)},useDebugValue:Si,useDeferredValue:function(e,t){return Ci($s(),ks.memoizedState,e,t)},useTransition:function(){var e=Hs(Qs)[0],t=$s().memoizedState;return["boolean"==typeof e?e:Bs(e),t]},useSyncExternalStore:Gs,useId:Pi,useHostTransitionStatus:Li,useFormState:di,useActionState:di,useOptimistic:function(e,t){return ni($s(),0,e,t)},useMemoCache:Us,useCacheRefresh:Fi},Gi={readContext:Mr,use:Vs,useCallback:Ti,useContext:Mr,useEffect:xi,useImperativeHandle:Ni,useInsertionEffect:_i,useLayoutEffect:ki,useMemo:ji,useReducer:Ks,useRef:gi,useState:function(){return Ks(Qs)},useDebugValue:Si,useDeferredValue:function(e,t){var n=$s();return null===ks?Mi(n,e,t):Ci(n,ks.memoizedState,e,t)},useTransition:function(){var e=Ks(Qs)[0],t=$s().memoizedState;return["boolean"==typeof e?e:Bs(e),t]},useSyncExternalStore:Gs,useId:Pi,useHostTransitionStatus:Li,useFormState:pi,useActionState:pi,useOptimistic:function(e,t){var n=$s();return null!==ks?ni(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Us,useCacheRefresh:Fi},Xi=null,Zi=0;function Yi(e){var t=Zi;return Zi+=1,null===Xi&&(Xi=[]),Jr(Xi,e,t)}function Ji(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function el(e,t){if(t.$$typeof===u)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tl(e){return(0,e._init)(e._payload)}function nl(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=za(e,t)).index=0,e.sibling=null,e}function i(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=67108866,n):a:(t.flags|=67108866,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function o(e,t,n,a){return null===t||6!==t.tag?((t=Ua(n,e.mode,a)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,a){var r=n.type;return r===m?p(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===r||"object"==typeof r&&null!==r&&r.$$typeof===S&&tl(r)===t.type)?(Ji(t=s(t,n.props),n),t.return=e,t):(Ji(t=Ba(n.type,n.key,n.props,null,e.mode,a),n),t.return=e,t)}function u(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Qa(n,e.mode,a)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function p(e,t,n,a,r){return null===t||7!==t.tag?((t=Va(n,e.mode,a,r)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Ua(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case d:return Ji(n=Ba(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Qa(t,e.mode,n)).return=e,t;case S:return h(e,t=(0,t._init)(t._payload),n)}if(A(t)||C(t))return(t=Va(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return h(e,Yi(t),n);if(t.$$typeof===x)return h(e,Cr(e,t),n);el(e,t)}return null}function g(e,t,n,a){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==r?null:o(e,t,""+n,a);if("object"==typeof n&&null!==n){switch(n.$$typeof){case d:return n.key===r?c(e,t,n,a):null;case f:return n.key===r?u(e,t,n,a):null;case S:return g(e,t,n=(r=n._init)(n._payload),a)}if(A(n)||C(n))return null!==r?null:p(e,t,n,a,null);if("function"==typeof n.then)return g(e,t,Yi(n),a);if(n.$$typeof===x)return g(e,t,Cr(e,n),a);el(e,n)}return null}function v(e,t,n,a,r){if("string"==typeof a&&""!==a||"number"==typeof a||"bigint"==typeof a)return o(t,e=e.get(n)||null,""+a,r);if("object"==typeof a&&null!==a){switch(a.$$typeof){case d:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case f:return u(t,e=e.get(null===a.key?n:a.key)||null,a,r);case S:return v(e,t,n,a=(0,a._init)(a._payload),r)}if(A(a)||C(a))return p(t,e=e.get(n)||null,a,r,null);if("function"==typeof a.then)return v(e,t,n,Yi(a),r);if(a.$$typeof===x)return v(e,t,n,Cr(t,a),r);el(t,a)}return null}function y(o,c,u,p){if("object"==typeof u&&null!==u&&u.type===m&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case d:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===m){if(7===c.tag){n(o,c.sibling),(p=s(c,u.props.children)).return=o,o=p;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===S&&tl(b)===c.type){n(o,c.sibling),Ji(p=s(c,u.props),u),p.return=o,o=p;break e}n(o,c);break}t(o,c),c=c.sibling}u.type===m?((p=Va(u.props.children,o.mode,p,u.key)).return=o,o=p):(Ji(p=Ba(u.type,u.key,u.props,null,o.mode,p),u),p.return=o,o=p)}return l(o);case f:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(o,c.sibling),(p=s(c,u.children||[])).return=o,o=p;break e}n(o,c);break}t(o,c),c=c.sibling}(p=Qa(u,o.mode,p)).return=o,o=p}return l(o);case S:return y(o,c,u=(b=u._init)(u._payload),p)}if(A(u))return function(a,s,l,o){for(var c=null,u=null,d=s,f=s=0,m=null;null!==d&&f<l.length;f++){d.index>f?(m=d,d=null):m=d.sibling;var p=g(a,d,l[f],o);if(null===p){null===d&&(d=m);break}e&&d&&null===p.alternate&&t(a,d),s=i(p,s,f),null===u?c=p:u.sibling=p,u=p,d=m}if(f===l.length)return n(a,d),lr&&tr(a,f),c;if(null===d){for(;f<l.length;f++)null!==(d=h(a,l[f],o))&&(s=i(d,s,f),null===u?c=d:u.sibling=d,u=d);return lr&&tr(a,f),c}for(d=r(d);f<l.length;f++)null!==(m=v(d,a,f,l[f],o))&&(e&&null!==m.alternate&&d.delete(null===m.key?f:m.key),s=i(m,s,f),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(a,e)}),lr&&tr(a,f),c}(o,c,u,p);if(C(u)){if("function"!=typeof(b=C(u)))throw Error(a(150));return function(s,l,o,c){if(null==o)throw Error(a(151));for(var u=null,d=null,f=l,m=l=0,p=null,y=o.next();null!==f&&!y.done;m++,y=o.next()){f.index>m?(p=f,f=null):p=f.sibling;var b=g(s,f,y.value,c);if(null===b){null===f&&(f=p);break}e&&f&&null===b.alternate&&t(s,f),l=i(b,l,m),null===d?u=b:d.sibling=b,d=b,f=p}if(y.done)return n(s,f),lr&&tr(s,m),u;if(null===f){for(;!y.done;m++,y=o.next())null!==(y=h(s,y.value,c))&&(l=i(y,l,m),null===d?u=y:d.sibling=y,d=y);return lr&&tr(s,m),u}for(f=r(f);!y.done;m++,y=o.next())null!==(y=v(f,s,m,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?m:y.key),l=i(y,l,m),null===d?u=y:d.sibling=y,d=y);return e&&f.forEach(function(e){return t(s,e)}),lr&&tr(s,m),u}(o,c,u=b.call(u),p)}if("function"==typeof u.then)return y(o,c,Yi(u),p);if(u.$$typeof===x)return y(o,c,Cr(o,u),p);el(o,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(o,c.sibling),(p=s(c,u)).return=o,o=p):(n(o,c),(p=Ua(u,o.mode,p)).return=o,o=p),l(o)):n(o,c)}return function(e,t,n,a){try{Zi=0;var r=y(e,t,n,a);return Xi=null,r}catch(i){if(i===Wr||i===Gr)throw i;var s=qa(29,i,null,e.mode);return s.lanes=a,s.return=e,s}}}var al=nl(!0),rl=nl(!1),sl=q(null),il=null;function ll(e){var t=e.alternate;z(dl,1&dl.current),z(sl,e),null===il&&(null===t||null!==hs.current||null!==t.memoizedState)&&(il=e)}function ol(e){if(22===e.tag){if(z(dl,dl.current),z(sl,e),null===il){var t=e.alternate;null!==t&&null!==t.memoizedState&&(il=e)}}else cl()}function cl(){z(dl,dl.current),z(sl,sl.current)}function ul(e){O(sl),il===e&&(il=null),O(dl)}var dl=q(0);function fl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||yd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ml(e,t,n,a){n=null==(n=n(a,t=e.memoizedState))?t:c({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pl={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Pc(),r=is(a);r.payload=t,null!=n&&(r.callback=n),null!==(t=ls(e,r,a))&&(qc(t,e,a),os(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Pc(),r=is(a);r.tag=1,r.payload=t,null!=n&&(r.callback=n),null!==(t=ls(e,r,a))&&(qc(t,e,a),os(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pc(),a=is(n);a.tag=2,null!=t&&(a.callback=t),null!==(t=ls(e,a,n))&&(qc(t,e,n),os(t,e,n))}};function hl(e,t,n,a,r,s,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,a)||!Yn(r,s))}function gl(e,t,n,a){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&pl.enqueueReplaceState(t,t.state,null)}function vl(e,t){var n=t;if("ref"in t)for(var a in n={},t)"ref"!==a&&(n[a]=t[a]);if(e=e.defaultProps)for(var r in n===t&&(n=c({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}var yl="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)};function bl(e){yl(e)}function xl(e){}function _l(e){yl(e)}function kl(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function wl(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Nl(e,t,n){return(n=is(n)).tag=3,n.payload={element:null},n.callback=function(){kl(e,t)},n}function Sl(e){return(e=is(e)).tag=3,e}function Tl(e,t,n,a){var r=n.type.getDerivedStateFromError;if("function"==typeof r){var s=a.value;e.payload=function(){return r(s)},e.callback=function(){wl(t,n,a)}}var i=n.stateNode;null!==i&&"function"==typeof i.componentDidCatch&&(e.callback=function(){wl(t,n,a),"function"!=typeof r&&(null===Tc?Tc=new Set([this]):Tc.add(this));var e=a.stack;this.componentDidCatch(a.value,{componentStack:null!==e?e:""})})}var jl=Error(a(461)),Ml=!1;function Cl(e,t,n,a){t.child=null===e?rl(t,null,n,a):al(t,e.child,n,a)}function Il(e,t,n,a,r){n=n.render;var s=t.ref;if("ref"in a){var i={};for(var l in a)"ref"!==l&&(i[l]=a[l])}else i=a;return jr(t),a=Rs(e,t,n,i,s,r),l=Fs(),null===e||Ml?(lr&&l&&ar(t),t.flags|=1,Cl(e,t,a,r),t.child):(qs(e,t,r),Xl(e,t,r))}function El(e,t,n,a,r){if(null===e){var s=n.type;return"function"!=typeof s||Oa(s)||void 0!==s.defaultProps||null!==n.compare?((e=Ba(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Al(e,t,s,a,r))}if(s=e.child,!Zl(e,r)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(i,a)&&e.ref===t.ref)return Xl(e,t,r)}return t.flags|=1,(e=za(s,a)).ref=t.ref,e.return=t,t.child=e}function Al(e,t,n,a,r){if(null!==e){var s=e.memoizedProps;if(Yn(s,a)&&e.ref===t.ref){if(Ml=!1,t.pendingProps=a=s,!Zl(e,r))return t.lanes=e.lanes,Xl(e,t,r);131072&e.flags&&(Ml=!0)}}return Pl(e,t,n,a,r)}function Rl(e,t,n){var a=t.pendingProps,r=a.children,s=null!==e?e.memoizedState:null;if("hidden"===a.mode){if(128&t.flags){if(a=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,s=0;null!==r;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~a}else t.childLanes=0,t.child=null;return Dl(e,t,a,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Dl(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Qr(0,null!==s?s.cachePool:null),null!==s?vs(t,s):ys(),ol(t)}else null!==s?(Qr(0,s.cachePool),vs(t,s),cl(),t.memoizedState=null):(null!==e&&Qr(0,null),ys(),cl());return Cl(e,t,r,n),t.child}function Dl(e,t,n,a){var r=Ur();return r=null===r?null:{parent:Dr._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&Qr(0,null),ys(),ol(t),null!==e&&Sr(e,t,a,!0),null}function Ll(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Pl(e,t,n,a,r){return jr(t),n=Rs(e,t,n,a,void 0,r),a=Fs(),null===e||Ml?(lr&&a&&ar(t),t.flags|=1,Cl(e,t,n,r),t.child):(qs(e,t,r),Xl(e,t,r))}function Fl(e,t,n,a,r,s){return jr(t),t.updateQueue=null,n=Ls(t,a,n,r),Ds(e),a=Fs(),null===e||Ml?(lr&&a&&ar(t),t.flags|=1,Cl(e,t,n,s),t.child):(qs(e,t,s),Xl(e,t,s))}function ql(e,t,n,a,r){if(jr(t),null===t.stateNode){var s=Pa,i=n.contextType;"object"==typeof i&&null!==i&&(s=Mr(i)),s=new n(a,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=pl,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=a,s.state=t.memoizedState,s.refs={},rs(t),i=n.contextType,s.context="object"==typeof i&&null!==i?Mr(i):Pa,s.state=t.memoizedState,"function"==typeof(i=n.getDerivedStateFromProps)&&(ml(t,n,i,a),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(i=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),i!==s.state&&pl.enqueueReplaceState(s,s.state,null),fs(t,a,s,r),ds(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),a=!0}else if(null===e){s=t.stateNode;var l=t.memoizedProps,o=vl(n,l);s.props=o;var c=s.context,u=n.contextType;i=Pa,"object"==typeof u&&null!==u&&(i=Mr(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate,l=t.pendingProps!==l,u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(l||c!==i)&&gl(t,s,a,i),as=!1;var f=t.memoizedState;s.state=f,fs(t,a,s,r),ds(),c=t.memoizedState,l||f!==c||as?("function"==typeof d&&(ml(t,n,d,a),c=t.memoizedState),(o=as||hl(t,n,o,a,f,c,i))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),s.props=a,s.state=c,s.context=i,a=o):("function"==typeof s.componentDidMount&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,ss(e,t),u=vl(n,i=t.memoizedProps),s.props=u,d=t.pendingProps,f=s.context,c=n.contextType,o=Pa,"object"==typeof c&&null!==c&&(o=Mr(c)),(c="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(i!==d||f!==o)&&gl(t,s,a,o),as=!1,f=t.memoizedState,s.state=f,fs(t,a,s,r),ds();var m=t.memoizedState;i!==d||f!==m||as||null!==e&&null!==e.dependencies&&Tr(e.dependencies)?("function"==typeof l&&(ml(t,n,l,a),m=t.memoizedState),(u=as||hl(t,n,u,a,f,m,o)||null!==e&&null!==e.dependencies&&Tr(e.dependencies))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(a,m,o),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(a,m,o)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=m),s.props=a,s.state=m,s.context=o,a=u):("function"!=typeof s.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),a=!1)}return s=a,Ll(e,t),a=!!(128&t.flags),s||a?(s=t.stateNode,n=a&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&a?(t.child=al(t,e.child,null,r),t.child=al(t,null,n,r)):Cl(e,t,n,r),t.memoizedState=s.state,e=t.child):e=Xl(e,t,r),e}function Ol(e,t,n,a){return hr(),t.flags|=256,Cl(e,t,n,a),t.child}var zl={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $l(e){return{baseLanes:e,cachePool:Hr()}}function Bl(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=yc),e}function Vl(e,t,n){var r,s=t.pendingProps,i=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&dl.current)),r&&(i=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(lr){if(i?ll(t):cl(),lr){var o,c=ir;if(o=c){e:{for(o=c,c=cr;8!==o.nodeType;){if(!c){c=null;break e}if(null===(o=bd(o.nextSibling))){c=null;break e}}c=o}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Ya?{id:Ja,overflow:er}:null,retryLane:536870912,hydrationErrors:null},(o=qa(18,null,null,0)).stateNode=c,o.return=t,t.child=o,sr=t,ir=null,o=!0):o=!1}o||dr(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return yd(c)?t.lanes=32:t.lanes=536870912,null;ul(t)}return c=s.children,s=s.fallback,i?(cl(),c=Ql({mode:"hidden",children:c},i=t.mode),s=Va(s,i,n,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(i=t.child).memoizedState=$l(n),i.childLanes=Bl(e,r,n),t.memoizedState=zl,s):(ll(t),Ul(t,c))}if(null!==(o=e.memoizedState)&&null!==(c=o.dehydrated)){if(l)256&t.flags?(ll(t),t.flags&=-257,t=Hl(e,t,n)):null!==t.memoizedState?(cl(),t.child=e.child,t.flags|=128,t=null):(cl(),i=s.fallback,c=t.mode,s=Ql({mode:"visible",children:s.children},c),(i=Va(i,c,n,null)).flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,al(t,e.child,null,n),(s=t.child).memoizedState=$l(n),s.childLanes=Bl(e,r,n),t.memoizedState=zl,t=i);else if(ll(t),yd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(s=Error(a(419))).stack="",s.digest=r,vr({value:s,source:null,stack:null}),t=Hl(e,t,n)}else if(Ml||Sr(e,t,n,!1),r=0!==(n&e.childLanes),Ml||r){if(null!==(r=sc)&&(0!==(s=0!==((s=42&(s=n&-n)?1:je(s))&(r.suspendedLanes|n))?0:s)&&s!==o.retryLane))throw o.retryLane=s,Ra(e,s),qc(r,e,s),jl;"$?"===c.data||Gc(),t=Hl(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,ir=bd(c.nextSibling),sr=t,lr=!0,or=null,cr=!1,null!==e&&(Xa[Za++]=Ja,Xa[Za++]=er,Xa[Za++]=Ya,Ja=e.id,er=e.overflow,Ya=t),(t=Ul(t,s.children)).flags|=4096);return t}return i?(cl(),i=s.fallback,c=t.mode,u=(o=e.child).sibling,(s=za(o,{mode:"hidden",children:s.children})).subtreeFlags=65011712&o.subtreeFlags,null!==u?i=za(u,i):(i=Va(i,c,n,null)).flags|=2,i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,null===(c=e.child.memoizedState)?c=$l(n):(null!==(o=c.cachePool)?(u=Dr._currentValue,o=o.parent!==u?{parent:u,pool:u}:o):o=Hr(),c={baseLanes:c.baseLanes|n,cachePool:o}),i.memoizedState=c,i.childLanes=Bl(e,r,n),t.memoizedState=zl,s):(ll(t),e=(n=e.child).sibling,(n=za(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ul(e,t){return(t=Ql({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ql(e,t){return(e=qa(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Hl(e,t,n){return al(t,e.child,null,n),(e=Ul(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wl(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),wr(e.return,t,n)}function Kl(e,t,n,a,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=r)}function Gl(e,t,n){var a=t.pendingProps,r=a.revealOrder,s=a.tail;if(Cl(e,t,a.children,n),2&(a=dl.current))a=1&a|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wl(e,n,t);else if(19===e.tag)Wl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(z(dl,a),r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===fl(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Kl(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===fl(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Kl(t,!0,n,null,s);break;case"together":Kl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Sr(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=za(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=za(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Zl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Tr(e))}function Yl(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ml=!0;else{if(!(Zl(e,n)||128&t.flags))return Ml=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),_r(0,Dr,e.memoizedState.cache),hr();break;case 27:case 5:W(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:_r(0,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(null!==a)return null!==a.dehydrated?(ll(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Vl(e,t,n):(ll(t),null!==(e=Xl(e,t,n))?e.sibling:null);ll(t);break;case 19:var r=!!(128&e.flags);if((a=0!==(n&t.childLanes))||(Sr(e,t,n,!1),a=0!==(n&t.childLanes)),r){if(a)return Gl(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),z(dl,dl.current),a)break;return null;case 22:case 23:return t.lanes=0,Rl(e,t,n);case 24:_r(0,Dr,e.memoizedState.cache)}return Xl(e,t,n)}(e,t,n);Ml=!!(131072&e.flags)}else Ml=!1,lr&&1048576&t.flags&&nr(t,Ga,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,s=r._init;if(r=s(r._payload),t.type=r,"function"!=typeof r){if(null!=r){if((s=r.$$typeof)===_){t.tag=11,t=Il(null,t,r,e,n);break e}if(s===N){t.tag=14,t=El(null,t,r,e,n);break e}}throw t=E(r)||r,Error(a(306,t,""))}Oa(r)?(e=vl(r,e),t.tag=1,t=ql(null,t,r,e,n)):(t.tag=0,t=Pl(null,t,r,e,n))}return t;case 0:return Pl(e,t,t.type,t.pendingProps,n);case 1:return ql(e,t,r=t.type,s=vl(r,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var i=t.memoizedState;s=i.element,ss(e,t),fs(t,r,null,n);var l=t.memoizedState;if(r=l.cache,_r(0,Dr,r),r!==i.cache&&Nr(t,[Dr],n,!0),ds(),r=l.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ol(e,t,r,n);break e}if(r!==s){vr(s=Ta(Error(a(424)),t)),t=Ol(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ir=bd(e.firstChild),sr=t,lr=!0,or=null,cr=!0,n=rl(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hr(),r===s){t=Xl(e,t,n);break e}Cl(e,t,r,n)}t=t.child}return t;case 26:return Ll(e,t),null===e?(n=Id(t.type,null,t.pendingProps,null))?t.memoizedState=n:lr||(n=t.type,e=t.pendingProps,(r=sd(V.current).createElement(n))[Re]=t,r[Le]=e,nd(r,n,e),We(r),t.stateNode=r):t.memoizedState=Id(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return W(t),null===e&&lr&&(r=t.stateNode=kd(t.type,t.pendingProps,V.current),sr=t,cr=!0,s=ir,hd(t.type)?(xd=s,ir=bd(r.firstChild)):ir=s),Cl(e,t,t.pendingProps.children,n),Ll(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&lr&&((s=r=ir)&&(null!==(r=function(e,t,n,a){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(a){if(!e[$e])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===s)return e}if(null===(e=bd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,cr))?(t.stateNode=r,sr=t,ir=bd(r.firstChild),cr=!1,s=!0):s=!1),s||dr(t)),W(t),s=t.type,i=t.pendingProps,l=null!==e?e.memoizedProps:null,r=i.children,od(s,i)?r=null:null!==l&&od(s,l)&&(t.flags|=32),null!==t.memoizedState&&(s=Rs(e,t,Ps,null,null,n),Xd._currentValue=s),Ll(e,t),Cl(e,t,r,n),t.child;case 6:return null===e&&lr&&((e=n=ir)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=bd(e.nextSibling)))return null}return e}(n,t.pendingProps,cr))?(t.stateNode=n,sr=t,ir=null,e=!0):e=!1),e||dr(t)),null;case 13:return Vl(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=al(t,null,r,n):Cl(e,t,r,n),t.child;case 11:return Il(e,t,t.type,t.pendingProps,n);case 7:return Cl(e,t,t.pendingProps,n),t.child;case 8:case 12:return Cl(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,_r(0,t.type,r.value),Cl(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,jr(t),r=r(s=Mr(s)),t.flags|=1,Cl(e,t,r,n),t.child;case 14:return El(e,t,t.type,t.pendingProps,n);case 15:return Al(e,t,t.type,t.pendingProps,n);case 19:return Gl(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ql(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=za(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Rl(e,t,n);case 24:return jr(t),r=Mr(Dr),null===e?(null===(s=Ur())&&(s=sc,i=Lr(),s.pooledCache=i,i.refCount++,null!==i&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:r,cache:s},rs(t),_r(0,Dr,s)):(0!==(e.lanes&n)&&(ss(e,t),fs(t,null,null,n),ds()),s=e.memoizedState,i=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),_r(0,Dr,r)):(r=i.cache,_r(0,Dr,r),r!==s.cache&&Nr(t,[Dr],n,!0))),Cl(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Jl(e){e.flags|=4}function eo(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!Vd(t)){if(null!==(t=sl.current)&&((4194048&lc)===lc?null!==il:(62914560&lc)!==lc&&!(536870912&lc)||t!==il))throw es=Xr,Kr;e.flags|=8192}}function to(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?ke():536870912,e.lanes|=t,bc|=t)}function no(e,t){if(!lr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ao(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=65011712&r.subtreeFlags,a|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function ro(e,t,n){var r=t.pendingProps;switch(rr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ao(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),kr(Dr),H(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(pr(t)?Jl(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,gr())),ao(t),null;case 26:return n=t.memoizedState,null===e?(Jl(t),null!==n?(ao(t),eo(t,n)):(ao(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Jl(t),ao(t),eo(t,n)):(ao(t),t.flags&=-16777217):(e.memoizedProps!==r&&Jl(t),ao(t),t.flags&=-16777217),null;case 27:K(t),n=V.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return ao(t),null}e=$.current,pr(t)?fr(t):(e=kd(s,r,n),t.stateNode=e,Jl(t))}return ao(t),null;case 5:if(K(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Jl(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return ao(t),null}if(e=$.current,pr(t))fr(t);else{switch(s=sd(V.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"==typeof r.is?s.createElement(n,{is:r.is}):s.createElement(n)}}e[Re]=t,e[Le]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(nd(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Jl(t)}}return ao(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Jl(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(e=V.current,pr(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(s=sr))switch(s.tag){case 27:case 5:r=s.memoizedProps}e[Re]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yu(e.nodeValue,n)))||dr(t)}else(e=sd(e).createTextNode(r))[Re]=t,t.stateNode=e}return ao(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=pr(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[Re]=t}else hr(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ao(t),s=!1}else s=gr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(ul(t),t):(ul(t),null)}if(ul(t),128&t.flags)return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){s=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(s=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==s&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),to(t,t.updateQueue),ao(t),null;case 4:return H(),null===e&&Bu(t.stateNode.containerInfo),ao(t),null;case 10:return kr(t.type),ao(t),null;case 19:if(O(dl),null===(s=t.memoizedState))return ao(t),null;if(r=!!(128&t.flags),null===(i=s.rendering))if(r)no(s,!1);else{if(0!==pc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=fl(e))){for(t.flags|=128,no(s,!1),e=i.updateQueue,t.updateQueue=e,to(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)$a(n,e),n=n.sibling;return z(dl,1&dl.current|2),t.child}e=e.sibling}null!==s.tail&&ee()>Nc&&(t.flags|=128,r=!0,no(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=fl(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,to(t,e),no(s,!0),null===s.tail&&"hidden"===s.tailMode&&!i.alternate&&!lr)return ao(t),null}else 2*ee()-s.renderingStartTime>Nc&&536870912!==n&&(t.flags|=128,r=!0,no(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=s.last)?e.sibling=i:t.child=i,s.last=i)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ee(),t.sibling=null,e=dl.current,z(dl,r?1&e|2:1&e),t):(ao(t),null);case 22:case 23:return ul(t),bs(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(ao(t),6&t.subtreeFlags&&(t.flags|=8192)):ao(t),null!==(n=t.updateQueue)&&to(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&O(Vr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),kr(Dr),ao(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function so(e,t){switch(rr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return kr(Dr),H(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return K(t),null;case 13:if(ul(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));hr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return O(dl),null;case 4:return H(),null;case 10:return kr(t.type),null;case 22:case 23:return ul(t),bs(),null!==e&&O(Vr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return kr(Dr),null;default:return null}}function io(e,t){switch(rr(t),t.tag){case 3:kr(Dr),H();break;case 26:case 27:case 5:K(t);break;case 4:H();break;case 13:ul(t);break;case 19:O(dl);break;case 10:kr(t.type);break;case 22:case 23:ul(t),bs(),null!==e&&O(Vr);break;case 24:kr(Dr)}}function lo(e,t){try{var n=t.updateQueue,a=null!==n?n.lastEffect:null;if(null!==a){var r=a.next;n=r;do{if((n.tag&e)===e){a=void 0;var s=n.create,i=n.inst;a=s(),i.destroy=a}n=n.next}while(n!==r)}}catch(l){fu(t,t.return,l)}}function oo(e,t,n){try{var a=t.updateQueue,r=null!==a?a.lastEffect:null;if(null!==r){var s=r.next;a=s;do{if((a.tag&e)===e){var i=a.inst,l=i.destroy;if(void 0!==l){i.destroy=void 0,r=t;var o=n,c=l;try{c()}catch(u){fu(r,o,u)}}}a=a.next}while(a!==s)}}catch(u){fu(t,t.return,u)}}function co(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ps(t,n)}catch(a){fu(e,e.return,a)}}}function uo(e,t,n){n.props=vl(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){fu(e,t,a)}}function fo(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;default:a=e.stateNode}"function"==typeof n?e.refCleanup=n(a):n.current=a}}catch(r){fu(e,t,r)}}function mo(e,t){var n=e.ref,a=e.refCleanup;if(null!==n)if("function"==typeof a)try{a()}catch(r){fu(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(s){fu(e,t,s)}else n.current=null}function po(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(r){fu(e,e.return,r)}}function ho(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,l=null,o=null,c=null,u=null,d=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&null!=f)switch(p){case"checked":case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(p)||ed(e,t,p,null,r,f)}}for(var m in r){var p=r[m];if(f=n[m],r.hasOwnProperty(m)&&(null!=p||null!=f))switch(m){case"type":i=p;break;case"name":s=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":l=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==f&&ed(e,t,m,p,r,f)}}return void yt(e,l,o,c,u,d,i,s);case"select":for(i in p=l=o=m=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(i)||ed(e,t,i,null,r,c)}for(s in r)if(i=r[s],c=n[s],r.hasOwnProperty(s)&&(null!=i||null!=c))switch(s){case"value":m=i;break;case"defaultValue":o=i;break;case"multiple":l=i;default:i!==c&&ed(e,t,s,i,r,c)}return t=o,n=l,r=p,void(null!=m?_t(e,!!n,m,!1):!!r!=!!n&&(null!=t?_t(e,!!n,t,!0):_t(e,!!n,n?[]:"",!1)));case"textarea":for(o in p=m=null,n)if(s=n[o],n.hasOwnProperty(o)&&null!=s&&!r.hasOwnProperty(o))switch(o){case"value":case"children":break;default:ed(e,t,o,null,r,s)}for(l in r)if(s=r[l],i=n[l],r.hasOwnProperty(l)&&(null!=s||null!=i))switch(l){case"value":m=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(a(91));break;default:s!==i&&ed(e,t,l,s,r,i)}return void kt(e,m,p);case"option":for(var h in n)if(m=n[h],n.hasOwnProperty(h)&&null!=m&&!r.hasOwnProperty(h))if("selected"===h)e.selected=!1;else ed(e,t,h,null,r,m);for(c in r)if(m=r[c],p=n[c],r.hasOwnProperty(c)&&m!==p&&(null!=m||null!=p))if("selected"===c)e.selected=m&&"function"!=typeof m&&"symbol"!=typeof m;else ed(e,t,c,m,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)m=n[g],n.hasOwnProperty(g)&&null!=m&&!r.hasOwnProperty(g)&&ed(e,t,g,null,r,m);for(u in r)if(m=r[u],p=n[u],r.hasOwnProperty(u)&&m!==p&&(null!=m||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(a(137,t));break;default:ed(e,t,u,m,r,p)}return;default:if(Mt(t)){for(var v in n)m=n[v],n.hasOwnProperty(v)&&void 0!==m&&!r.hasOwnProperty(v)&&td(e,t,v,void 0,r,m);for(d in r)m=r[d],p=n[d],!r.hasOwnProperty(d)||m===p||void 0===m&&void 0===p||td(e,t,d,m,r,p);return}}for(var y in n)m=n[y],n.hasOwnProperty(y)&&null!=m&&!r.hasOwnProperty(y)&&ed(e,t,y,null,r,m);for(f in r)m=r[f],p=n[f],!r.hasOwnProperty(f)||m===p||null==m&&null==p||ed(e,t,f,m,r,p)}(r,e.type,n,t),r[Le]=t}catch(s){fu(e,e.return,s)}}function go(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&hd(e.type)||4===e.tag}function vo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||go(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&hd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yo(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ju));else if(4!==a&&(27===a&&hd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(yo(e,t,n),e=e.sibling;null!==e;)yo(e,t,n),e=e.sibling}function bo(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&(27===a&&hd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(bo(e,t,n),e=e.sibling;null!==e;)bo(e,t,n),e=e.sibling}function xo(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);nd(t,a,n),t[Re]=e,t[Le]=n}catch(s){fu(e,e.return,s)}}var _o=!1,ko=!1,wo=!1,No="function"==typeof WeakSet?WeakSet:Set,So=null;function To(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:Oo(e,n),4&a&&lo(5,n);break;case 1:if(Oo(e,n),4&a)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){fu(n,n.return,i)}else{var r=vl(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){fu(n,n.return,l)}}64&a&&co(n),512&a&&fo(n,n.return);break;case 3:if(Oo(e,n),64&a&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ps(e,t)}catch(i){fu(n,n.return,i)}}break;case 27:null===t&&4&a&&xo(n);case 26:case 5:Oo(e,n),null===t&&4&a&&po(n),512&a&&fo(n,n.return);break;case 12:Oo(e,n);break;case 13:Oo(e,n),4&a&&Ao(e,n),64&a&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}(e,n=gu.bind(null,n))));break;case 22:if(!(a=null!==n.memoizedState||_o)){t=null!==t&&null!==t.memoizedState||ko,r=_o;var s=ko;_o=a,(ko=t)&&!s?$o(e,n,!!(8772&n.subtreeFlags)):Oo(e,n),_o=r,ko=s}break;case 30:break;default:Oo(e,n)}}function jo(e){var t=e.alternate;null!==t&&(e.alternate=null,jo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Mo=null,Co=!1;function Io(e,t,n){for(n=n.child;null!==n;)Eo(e,t,n),n=n.sibling}function Eo(e,t,n){if(ue&&"function"==typeof ue.onCommitFiberUnmount)try{ue.onCommitFiberUnmount(ce,n)}catch(s){}switch(n.tag){case 26:ko||mo(n,t),Io(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:ko||mo(n,t);var a=Mo,r=Co;hd(n.type)&&(Mo=n.stateNode,Co=!1),Io(e,t,n),wd(n.stateNode),Mo=a,Co=r;break;case 5:ko||mo(n,t);case 6:if(a=Mo,r=Co,Mo=null,Io(e,t,n),Co=r,null!==(Mo=a))if(Co)try{(9===Mo.nodeType?Mo.body:"HTML"===Mo.nodeName?Mo.ownerDocument.body:Mo).removeChild(n.stateNode)}catch(i){fu(n,t,i)}else try{Mo.removeChild(n.stateNode)}catch(i){fu(n,t,i)}break;case 18:null!==Mo&&(Co?(gd(9===(e=Mo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),If(e)):gd(Mo,n.stateNode));break;case 4:a=Mo,r=Co,Mo=n.stateNode.containerInfo,Co=!0,Io(e,t,n),Mo=a,Co=r;break;case 0:case 11:case 14:case 15:ko||oo(2,n,t),ko||oo(4,n,t),Io(e,t,n);break;case 1:ko||(mo(n,t),"function"==typeof(a=n.stateNode).componentWillUnmount&&uo(n,t,a)),Io(e,t,n);break;case 21:Io(e,t,n);break;case 22:ko=(a=ko)||null!==n.memoizedState,Io(e,t,n),ko=a;break;default:Io(e,t,n)}}function Ao(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{If(e)}catch(n){fu(t,t.return,n)}}function Ro(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new No),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new No),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){var a=vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}function Do(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r],i=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 27:if(hd(o.type)){Mo=o.stateNode,Co=!1;break e}break;case 5:Mo=o.stateNode,Co=!1;break e;case 3:case 4:Mo=o.stateNode.containerInfo,Co=!0;break e}o=o.return}if(null===Mo)throw Error(a(160));Eo(i,l,s),Mo=null,Co=!1,null!==(i=s.alternate)&&(i.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Po(t,e),t=t.sibling}var Lo=null;function Po(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Do(t,e),Fo(e),4&r&&(oo(3,e,e.return),lo(3,e),oo(5,e,e.return));break;case 1:Do(t,e),Fo(e),512&r&&(ko||null===n||mo(n,n.return)),64&r&&_o&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var s=Lo;if(Do(t,e),Fo(e),512&r&&(ko||null===n||mo(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":(!(i=s.getElementsByTagName("title")[0])||i[$e]||i[Re]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=s.createElement(r),s.head.insertBefore(i,s.querySelector("head > title"))),nd(i,r,n),i[Re]=e,We(i),r=i;break e;case"link":var l=$d("link","href",s).get(r+(n.href||""));if(l)for(var o=0;o<l.length;o++)if((i=l[o]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){l.splice(o,1);break t}nd(i=s.createElement(r),r,n),s.head.appendChild(i);break;case"meta":if(l=$d("meta","content",s).get(r+(n.content||"")))for(o=0;o<l.length;o++)if((i=l[o]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){l.splice(o,1);break t}nd(i=s.createElement(r),r,n),s.head.appendChild(i);break;default:throw Error(a(468,r))}i[Re]=e,We(i),r=i}e.stateNode=r}else Bd(s,e.type,e.stateNode);else e.stateNode=Pd(s,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?Bd(s,e.type,e.stateNode):Pd(s,r,e.memoizedProps)):null===r&&null!==e.stateNode&&ho(e,e.memoizedProps,n.memoizedProps)}break;case 27:Do(t,e),Fo(e),512&r&&(ko||null===n||mo(n,n.return)),null!==n&&4&r&&ho(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Do(t,e),Fo(e),512&r&&(ko||null===n||mo(n,n.return)),32&e.flags){s=e.stateNode;try{Nt(s,"")}catch(p){fu(e,e.return,p)}}4&r&&null!=e.stateNode&&ho(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&r&&(wo=!0);break;case 6:if(Do(t,e),Fo(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){fu(e,e.return,p)}}break;case 3:if(zd=null,s=Lo,Lo=Td(t.containerInfo),Do(t,e),Lo=s,Fo(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{If(t.containerInfo)}catch(p){fu(e,e.return,p)}wo&&(wo=!1,qo(e));break;case 4:r=Lo,Lo=Td(e.stateNode.containerInfo),Do(t,e),Fo(e),Lo=r;break;case 12:default:Do(t,e),Fo(e);break;case 13:Do(t,e),Fo(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(wc=ee()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ro(e,r)));break;case 22:s=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=_o,d=ko;if(_o=u||s,ko=d||c,Do(t,e),ko=d,_o=u,Fo(e),8192&r)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||c||_o||ko||zo(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,s)"function"==typeof(l=i.style).setProperty?l.setProperty("display","none","important"):l.display="none";else{o=c.stateNode;var f=c.memoizedProps.style,m=null!=f&&f.hasOwnProperty("display")?f.display:null;o.style.display=null==m||"boolean"==typeof m?"":(""+m).trim()}}catch(p){fu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(p){fu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Ro(e,n))));break;case 19:Do(t,e),Fo(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ro(e,r)));case 30:case 21:}}function Fo(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(go(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var s=n.stateNode;bo(e,vo(e),s);break;case 5:var i=n.stateNode;32&n.flags&&(Nt(i,""),n.flags&=-33),bo(e,vo(e),i);break;case 3:case 4:var l=n.stateNode.containerInfo;yo(e,vo(e),l);break;default:throw Error(a(161))}}catch(o){fu(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function qo(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;qo(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Oo(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)To(e,t.alternate,t),t=t.sibling}function zo(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:oo(4,t,t.return),zo(t);break;case 1:mo(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&uo(t,t.return,n),zo(t);break;case 27:wd(t.stateNode);case 26:case 5:mo(t,t.return),zo(t);break;case 22:null===t.memoizedState&&zo(t);break;default:zo(t)}e=e.sibling}}function $o(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var a=t.alternate,r=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:$o(r,s,n),lo(4,s);break;case 1:if($o(r,s,n),"function"==typeof(r=(a=s).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){fu(a,a.return,c)}if(null!==(r=(a=s).updateQueue)){var l=a.stateNode;try{var o=r.shared.hiddenCallbacks;if(null!==o)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)ms(o[r],l)}catch(c){fu(a,a.return,c)}}n&&64&i&&co(s),fo(s,s.return);break;case 27:xo(s);case 26:case 5:$o(r,s,n),n&&null===a&&4&i&&po(s),fo(s,s.return);break;case 12:$o(r,s,n);break;case 13:$o(r,s,n),n&&4&i&&Ao(r,s);break;case 22:null===s.memoizedState&&$o(r,s,n),fo(s,s.return);break;case 30:break;default:$o(r,s,n)}t=t.sibling}}function Bo(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Pr(n))}function Vo(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Pr(e))}function Uo(e,t,n,a){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Qo(e,t,n,a),t=t.sibling}function Qo(e,t,n,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Uo(e,t,n,a),2048&r&&lo(9,t);break;case 1:case 13:default:Uo(e,t,n,a);break;case 3:Uo(e,t,n,a),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Pr(e)));break;case 12:if(2048&r){Uo(e,t,n,a),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,l=s.onPostCommit;"function"==typeof l&&l(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){fu(t,t.return,o)}}else Uo(e,t,n,a);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,null!==t.memoizedState?2&s._visibility?Uo(e,t,n,a):Wo(e,t):2&s._visibility?Uo(e,t,n,a):(s._visibility|=2,Ho(e,t,n,a,!!(10256&t.subtreeFlags))),2048&r&&Bo(i,t);break;case 24:Uo(e,t,n,a),2048&r&&Vo(t.alternate,t)}}function Ho(e,t,n,a,r){for(r=r&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,i=t,l=n,o=a,c=i.flags;switch(i.tag){case 0:case 11:case 15:Ho(s,i,l,o,r),lo(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?Ho(s,i,l,o,r):Wo(s,i):(u._visibility|=2,Ho(s,i,l,o,r)),r&&2048&c&&Bo(i.alternate,i);break;case 24:Ho(s,i,l,o,r),r&&2048&c&&Vo(i.alternate,i);break;default:Ho(s,i,l,o,r)}t=t.sibling}}function Wo(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,a=t,r=a.flags;switch(a.tag){case 22:Wo(n,a),2048&r&&Bo(a.alternate,a);break;case 24:Wo(n,a),2048&r&&Vo(a.alternate,a);break;default:Wo(n,a)}t=t.sibling}}var Ko=8192;function Go(e){if(e.subtreeFlags&Ko)for(e=e.child;null!==e;)Xo(e),e=e.sibling}function Xo(e){switch(e.tag){case 26:Go(e),e.flags&Ko&&null!==e.memoizedState&&function(e,t,n){if(null===Ud)throw Error(a(475));var r=Ud;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var s=Ed(n.href),i=e.querySelector(Ad(s));if(i)return null!==(e=i._p)&&"object"==typeof e&&"function"==typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void We(i);i=e.ownerDocument||e,n=Rd(n),(s=Nd.get(s))&&qd(n,s),We(i=i.createElement("link"));var l=i;l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),nd(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Lo,e.memoizedState,e.memoizedProps);break;case 5:default:Go(e);break;case 3:case 4:var t=Lo;Lo=Td(e.stateNode.containerInfo),Go(e),Lo=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Ko,Ko=16777216,Go(e),Ko=t):Go(e))}}function Zo(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yo(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];So=a,tc(a,e)}Zo(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jo(e),e=e.sibling}function Jo(e){switch(e.tag){case 0:case 11:case 15:Yo(e),2048&e.flags&&oo(9,e,e.return);break;case 3:case 12:default:Yo(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ec(e)):Yo(e)}}function ec(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var a=t[n];So=a,tc(a,e)}Zo(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:oo(8,t,t.return),ec(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ec(t));break;default:ec(t)}e=e.sibling}}function tc(e,t){for(;null!==So;){var n=So;switch(n.tag){case 0:case 11:case 15:oo(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var a=n.memoizedState.cachePool.pool;null!=a&&a.refCount++}break;case 24:Pr(n.memoizedState.cache)}if(null!==(a=n.child))a.return=n,So=a;else e:for(n=e;null!==So;){var r=(a=So).sibling,s=a.return;if(jo(a),a===n){So=null;break e}if(null!==r){r.return=s,So=r;break e}So=s}}}var nc={getCacheForType:function(e){var t=Mr(Dr),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},ac="function"==typeof WeakMap?WeakMap:Map,rc=0,sc=null,ic=null,lc=0,oc=0,cc=null,uc=!1,dc=!1,fc=!1,mc=0,pc=0,hc=0,gc=0,vc=0,yc=0,bc=0,xc=null,_c=null,kc=!1,wc=0,Nc=1/0,Sc=null,Tc=null,jc=0,Mc=null,Cc=null,Ic=0,Ec=0,Ac=null,Rc=null,Dc=0,Lc=null;function Pc(){if(2&rc&&0!==lc)return lc&-lc;if(null!==R.T){return 0!==Or?Or:Eu()}return Ie()}function Fc(){0===yc&&(yc=536870912&lc&&!lr?536870912:_e());var e=sl.current;return null!==e&&(e.flags|=32),yc}function qc(e,t,n){(e!==sc||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||(Qc(e,0),Bc(e,lc,yc,!1)),Ne(e,n),2&rc&&e===sc||(e===sc&&(!(2&rc)&&(gc|=n),4===pc&&Bc(e,lc,yc,!1)),Nu(e))}function Oc(e,t,n){if(6&rc)throw Error(a(327));for(var r=!n&&!(124&t)&&0===(t&e.expiredLanes)||be(e,t),s=r?function(e,t){var n=rc;rc|=2;var r=Wc(),s=Kc();sc!==e||lc!==t?(Sc=null,Nc=ee()+500,Qc(e,t)):dc=be(e,t);e:for(;;)try{if(0!==oc&&null!==ic){t=ic;var i=cc;t:switch(oc){case 1:oc=0,cc=null,tu(e,t,i,1);break;case 2:case 9:if(Zr(i)){oc=0,cc=null,eu(t);break}t=function(){2!==oc&&9!==oc||sc!==e||(oc=7),Nu(e)},i.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Zr(i)?(oc=0,cc=null,eu(t)):(oc=0,cc=null,tu(e,t,i,7));break;case 5:var l=null;switch(ic.tag){case 26:l=ic.memoizedState;case 5:case 27:var o=ic;if(!l||Vd(l)){oc=0,cc=null;var c=o.sibling;if(null!==c)ic=c;else{var u=o.return;null!==u?(ic=u,nu(u)):ic=null}break t}}oc=0,cc=null,tu(e,t,i,5);break;case 6:oc=0,cc=null,tu(e,t,i,6);break;case 8:Uc(),pc=6;break e;default:throw Error(a(462))}}Yc();break}catch(d){Hc(e,d)}return xr=br=null,R.H=r,R.A=s,rc=n,null!==ic?0:(sc=null,lc=0,Ia(),pc)}(e,t):Xc(e,t,!0),i=r;;){if(0===s){dc&&!r&&Bc(e,t,0,!1);break}if(n=e.current.alternate,!i||$c(n)){if(2===s){if(i=t,e.errorRecoveryDisabledLanes&i)var l=0;else l=0!==(l=-536870913&e.pendingLanes)?l:536870912&l?536870912:0;if(0!==l){t=l;e:{var o=e;s=xc;var c=o.current.memoizedState.isDehydrated;if(c&&(Qc(o,l).flags|=256),2!==(l=Xc(o,l,!1))){if(fc&&!c){o.errorRecoveryDisabledLanes|=i,gc|=i,s=4;break e}i=_c,_c=s,null!==i&&(null===_c?_c=i:_c.push.apply(_c,i))}s=l}if(i=!1,2!==s)continue}}if(1===s){Qc(e,0),Bc(e,t,0,!0);break}e:{switch(r=e,i=s){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Bc(r,t,yc,!uc);break e;case 2:_c=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(s=wc+300-ee())){if(Bc(r,t,yc,!uc),0!==ye(r,0,!0))break e;r.timeoutHandle=ud(zc.bind(null,r,n,_c,Sc,kc,t,yc,gc,bc,uc,i,2,-0,0),s)}else zc(r,n,_c,Sc,kc,t,yc,gc,bc,uc,i,0,-0,0)}break}s=Xc(e,t,!1),i=!1}Nu(e)}function zc(e,t,n,r,s,i,l,o,c,u,d,f,m,p){if(e.timeoutHandle=-1,(8192&(f=t.subtreeFlags)||!(16785408&~f))&&(Ud={stylesheets:null,count:0,unsuspend:Qd},Xo(t),null!==(f=function(){if(null===Ud)throw Error(a(475));var e=Ud;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=f(ru.bind(null,e,t,i,n,r,s,l,o,c,d,1,m,p)),void Bc(e,i,l,!u);ru(e,t,i,n,r,s,l,o,c)}function $c(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var a=0;a<n.length;a++){var r=n[a],s=r.getSnapshot;r=r.value;try{if(!Zn(s(),r))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,n,a){t&=~vc,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var s=31-fe(r),i=1<<s;a[s]=-1,r&=~i}0!==n&&Se(e,n,t)}function Vc(){return!!(6&rc)||(Su(0),!1)}function Uc(){if(null!==ic){if(0===oc)var e=ic.return;else xr=br=null,Os(e=ic),Xi=null,Zi=0,e=ic;for(;null!==e;)io(e.alternate,e),e=e.return;ic=null}}function Qc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,dd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc(),sc=e,ic=n=za(e.current,null),lc=t,oc=0,cc=null,uc=!1,dc=be(e,t),fc=!1,bc=yc=vc=gc=hc=pc=0,_c=xc=null,kc=!1,8&t&&(t|=32&t);var a=e.entangledLanes;if(0!==a)for(e=e.entanglements,a&=t;0<a;){var r=31-fe(a),s=1<<r;t|=e[r],a&=~s}return mc=t,Ia(),n}function Hc(e,t){_s=null,R.H=Hi,t===Wr||t===Gr?(t=ts(),oc=3):t===Kr?(t=ts(),oc=4):oc=t===jl?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,cc=t,null===ic&&(pc=1,kl(e,Ta(t,e.current)))}function Wc(){var e=R.H;return R.H=Hi,null===e?Hi:e}function Kc(){var e=R.A;return R.A=nc,e}function Gc(){pc=4,uc||(4194048&lc)!==lc&&null!==sl.current||(dc=!0),!(134217727&hc)&&!(134217727&gc)||null===sc||Bc(sc,lc,yc,!1)}function Xc(e,t,n){var a=rc;rc|=2;var r=Wc(),s=Kc();sc===e&&lc===t||(Sc=null,Qc(e,t)),t=!1;var i=pc;e:for(;;)try{if(0!==oc&&null!==ic){var l=ic,o=cc;switch(oc){case 8:Uc(),i=6;break e;case 3:case 2:case 9:case 6:null===sl.current&&(t=!0);var c=oc;if(oc=0,cc=null,tu(e,l,o,c),n&&dc){i=0;break e}break;default:c=oc,oc=0,cc=null,tu(e,l,o,c)}}Zc(),i=pc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,xr=br=null,rc=a,R.H=r,R.A=s,null===ic&&(sc=null,lc=0,Ia()),i}function Zc(){for(;null!==ic;)Jc(ic)}function Yc(){for(;null!==ic&&!Y();)Jc(ic)}function Jc(e){var t=Yl(e.alternate,e,mc);e.memoizedProps=e.pendingProps,null===t?nu(e):ic=t}function eu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Fl(n,t,t.pendingProps,t.type,void 0,lc);break;case 11:t=Fl(n,t,t.pendingProps,t.type.render,t.ref,lc);break;case 5:Os(t);default:io(n,t),t=Yl(n,t=ic=$a(t,mc),mc)}e.memoizedProps=e.pendingProps,null===t?nu(e):ic=t}function tu(e,t,n,r){xr=br=null,Os(t),Xi=null,Zi=0;var s=t.return;try{if(function(e,t,n,r,s){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&Sr(t,n,s,!0),null!==(n=sl.current)){switch(n.tag){case 13:return null===il?Gc():null===n.alternate&&0===pc&&(pc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===Xr?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),mu(e,r,s)),!1;case 22:return n.flags|=65536,r===Xr?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),mu(e,r,s)),!1}throw Error(a(435,n.tag))}return mu(e,r,s),Gc(),!1}if(lr)return null!==(t=sl.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==ur&&vr(Ta(e=Error(a(422),{cause:r}),n))):(r!==ur&&vr(Ta(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,r=Ta(r,n),cs(e,s=Nl(e.stateNode,r,s)),4!==pc&&(pc=2)),!1;var i=Error(a(520),{cause:r});if(i=Ta(i,n),null===xc?xc=[i]:xc.push(i),4!==pc&&(pc=2),null===t)return!0;r=Ta(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,cs(n,e=Nl(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===i||"function"!=typeof i.componentDidCatch||null!==Tc&&Tc.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,Tl(s=Sl(s),e,n,r),cs(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,lc))return pc=1,kl(e,Ta(n,e.current)),void(ic=null)}catch(i){if(null!==s)throw ic=s,i;return pc=1,kl(e,Ta(n,e.current)),void(ic=null)}32768&t.flags?(lr||1===r?e=!0:dc||536870912&lc?e=!1:(uc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=sl.current)&&13===r.tag&&(r.flags|=16384))),au(t,e)):nu(t)}function nu(e){var t=e;do{if(32768&t.flags)return void au(t,uc);e=t.return;var n=ro(t.alternate,t,mc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===pc&&(pc=5)}function au(e,t){do{var n=so(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);pc=6,ic=null}function ru(e,t,n,r,s,i,l,o,c){e.cancelPendingCommit=null;do{cu()}while(0!==jc);if(6&rc)throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(i=t.lanes|t.childLanes,function(e,t,n,a,r,s){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-fe(n),d=1<<u;l[u]=0,o[u]=-1;var f=c[u];if(null!==f)for(c[u]=null,u=0;u<f.length;u++){var m=f[u];null!==m&&(m.lane&=-536870913)}n&=~d}0!==a&&Se(e,a,0),0!==s&&0===r&&0!==e.tag&&(e.suspendedLanes|=s&~(i&~t))}(e,n,i|=Ca,l,o,c),e===sc&&(ic=sc=null,lc=0),Cc=t,Mc=e,Ic=n,Ec=i,Ac=s,Rc=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,X(re,function(){return uu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=R.T,R.T=null,s=D.p,D.p=2,l=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,ad=rf,aa(e=na(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var l=0,o=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var p;f!==n||0!==s&&3!==f.nodeType||(o=l+s),f!==i||0!==r&&3!==f.nodeType||(c=l+r),3===f.nodeType&&(l+=f.nodeValue.length),null!==(p=f.firstChild);)m=f,f=p;for(;;){if(f===e)break t;if(m===n&&++u===s&&(o=l),m===i&&++d===r&&(c=l),null!==(p=f.nextSibling))break;m=(f=m).parentNode}f=p}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rd={focusedElem:e,selectionRange:n},rf=!1,So=t;null!==So;)if(e=(t=So).child,1024&t.subtreeFlags&&null!==e)e.return=t,So=e;else for(;null!==So;){switch(i=(t=So).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==i){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var h=vl(n.type,s,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(h,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){fu(n,n.return,v)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))vd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,So=e;break}So=t.return}}(e,t)}finally{rc=l,D.p=s,R.T=r}}jc=1,su(),iu(),lu()}}function su(){if(1===jc){jc=0;var e=Mc,t=Cc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=R.T,R.T=null;var a=D.p;D.p=2;var r=rc;rc|=4;try{Po(t,e);var s=rd,i=na(e.containerInfo),l=s.focusedElem,o=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&ta(l.ownerDocument.documentElement,l)){if(null!==o&&aa(l)){var c=o.start,u=o.end;if(void 0===u&&(u=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(u,l.value.length);else{var d=l.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var m=f.getSelection(),p=l.textContent.length,h=Math.min(o.start,p),g=void 0===o.end?h:Math.min(o.end,p);!m.extend&&h>g&&(i=g,g=h,h=i);var v=ea(l,h),y=ea(l,g);if(v&&y&&(1!==m.rangeCount||m.anchorNode!==v.node||m.anchorOffset!==v.offset||m.focusNode!==y.node||m.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),m.removeAllRanges(),h>g?(m.addRange(b),m.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),m.addRange(b))}}}}for(d=[],m=l;m=m.parentNode;)1===m.nodeType&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for("function"==typeof l.focus&&l.focus(),l=0;l<d.length;l++){var x=d[l];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}rf=!!ad,rd=ad=null}finally{rc=r,D.p=a,R.T=n}}e.current=t,jc=2}}function iu(){if(2===jc){jc=0;var e=Mc,t=Cc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=R.T,R.T=null;var a=D.p;D.p=2;var r=rc;rc|=4;try{To(e,t.alternate,t)}finally{rc=r,D.p=a,R.T=n}}jc=3}}function lu(){if(4===jc||3===jc){jc=0,J();var e=Mc,t=Cc,n=Ic,a=Rc;10256&t.subtreeFlags||10256&t.flags?jc=5:(jc=0,Cc=Mc=null,ou(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Tc=null),Ce(n),t=t.stateNode,ue&&"function"==typeof ue.onCommitFiberRoot)try{ue.onCommitFiberRoot(ce,t,void 0,!(128&~t.current.flags))}catch(o){}if(null!==a){t=R.T,r=D.p,D.p=2,R.T=null;try{for(var s=e.onRecoverableError,i=0;i<a.length;i++){var l=a[i];s(l.value,{componentStack:l.stack})}}finally{R.T=t,D.p=r}}3&Ic&&cu(),Nu(e),r=e.pendingLanes,4194090&n&&42&r?e===Lc?Dc++:(Dc=0,Lc=e):Dc=0,Su(0)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Pr(t)))}function cu(e){return su(),iu(),lu(),uu()}function uu(){if(5!==jc)return!1;var e=Mc,t=Ec;Ec=0;var n=Ce(Ic),r=R.T,s=D.p;try{D.p=32>n?32:n,R.T=null,n=Ac,Ac=null;var i=Mc,l=Ic;if(jc=0,Cc=Mc=null,Ic=0,6&rc)throw Error(a(331));var o=rc;if(rc|=4,Jo(i.current),Qo(i,i.current,l,n),rc=o,Su(0,!1),ue&&"function"==typeof ue.onPostCommitFiberRoot)try{ue.onPostCommitFiberRoot(ce,i)}catch(c){}return!0}finally{D.p=s,R.T=r,ou(e,t)}}function du(e,t,n){t=Ta(n,t),null!==(e=ls(e,t=Nl(e.stateNode,t,2),2))&&(Ne(e,2),Nu(e))}function fu(e,t,n){if(3===e.tag)du(e,e,n);else for(;null!==t;){if(3===t.tag){du(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===Tc||!Tc.has(a))){e=Ta(n,e),null!==(a=ls(t,n=Sl(2),2))&&(Tl(n,a,t,e),Ne(a,2),Nu(a));break}}t=t.return}}function mu(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new ac;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(fc=!0,r.add(n),e=pu.bind(null,e,t,n),t.then(e,e))}function pu(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,sc===e&&(lc&n)===n&&(4===pc||3===pc&&(62914560&lc)===lc&&300>ee()-wc?!(2&rc)&&Qc(e,0):vc|=n,bc===lc&&(bc=0)),Nu(e)}function hu(e,t){0===t&&(t=ke()),null!==(e=Ra(e,t))&&(Ne(e,t),Nu(e))}function gu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hu(e,n)}function vu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),hu(e,n)}var yu=null,bu=null,xu=!1,_u=!1,ku=!1,wu=0;function Nu(e){e!==bu&&null===e.next&&(null===bu?yu=bu=e:bu=bu.next=e),_u=!0,xu||(xu=!0,md(function(){6&rc?X(ne,Tu):ju()}))}function Su(e,t){if(!ku&&_u){ku=!0;do{for(var n=!1,a=yu;null!==a;){if(0!==e){var r=a.pendingLanes;if(0===r)var s=0;else{var i=a.suspendedLanes,l=a.pingedLanes;s=(1<<31-fe(42|e)+1)-1,s=201326741&(s&=r&~(i&~l))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Iu(a,s))}else s=lc,!(3&(s=ye(a,a===sc?s:0,null!==a.cancelPendingCommit||-1!==a.timeoutHandle)))||be(a,s)||(n=!0,Iu(a,s));a=a.next}}while(n);ku=!1}}function Tu(){ju()}function ju(){_u=xu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==cd&&(cd=e,!0);return cd=null,!1}()&&(e=wu),wu=0);for(var t=ee(),n=null,a=yu;null!==a;){var r=a.next,s=Mu(a,t);0===s?(a.next=null,null===n?yu=r:n.next=r,null===r&&(bu=n)):(n=a,(0!==e||3&s)&&(_u=!0)),a=r}Su(e)}function Mu(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var i=31-fe(s),l=1<<i,o=r[i];-1===o?0!==(l&n)&&0===(l&a)||(r[i]=xe(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}if(n=lc,n=ye(e,e===(t=sc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),a=e.callbackNode,0===n||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==a&&null!==a&&Z(a),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==a&&Z(a),Ce(n)){case 2:case 8:n=ae;break;case 32:default:n=re;break;case 268435456:n=ie}return a=Cu.bind(null,e),n=X(n,a),e.callbackPriority=t,e.callbackNode=n,t}return null!==a&&null!==a&&Z(a),e.callbackPriority=2,e.callbackNode=null,2}function Cu(e,t){if(0!==jc&&5!==jc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cu()&&e.callbackNode!==n)return null;var a=lc;return 0===(a=ye(e,e===sc?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Oc(e,a,t),Mu(e,ee()),null!=e.callbackNode&&e.callbackNode===n?Cu.bind(null,e):null)}function Iu(e,t){if(cu())return null;Oc(e,t,!0)}function Eu(){return 0===wu&&(wu=_e()),wu}function Au(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Et(""+e)}function Ru(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Du=0;Du<wa.length;Du++){var Lu=wa[Du];Na(Lu.toLowerCase(),"on"+(Lu[0].toUpperCase()+Lu.slice(1)))}Na(ha,"onAnimationEnd"),Na(ga,"onAnimationIteration"),Na(va,"onAnimationStart"),Na("dblclick","onDoubleClick"),Na("focusin","onFocus"),Na("focusout","onBlur"),Na(ya,"onTransitionRun"),Na(ba,"onTransitionStart"),Na(xa,"onTransitionCancel"),Na(_a,"onTransitionEnd"),Ze("onMouseEnter",["mouseout","mouseover"]),Ze("onMouseLeave",["mouseout","mouseover"]),Ze("onPointerEnter",["pointerout","pointerover"]),Ze("onPointerLeave",["pointerout","pointerover"]),Xe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pu));function qu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var i=a.length-1;0<=i;i--){var l=a[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(u){yl(u)}r.currentTarget=null,s=o}else for(i=0;i<a.length;i++){if(o=(l=a[i]).instance,c=l.currentTarget,l=l.listener,o!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(u){yl(u)}r.currentTarget=null,s=o}}}}function Ou(e,t){var n=t[Fe];void 0===n&&(n=t[Fe]=new Set);var a=e+"__bubble";n.has(a)||(Vu(t,e,2,!1),n.add(a))}function zu(e,t,n){var a=0;t&&(a|=4),Vu(n,e,a,t)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Bu(e){if(!e[$u]){e[$u]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Fu.has(t)||zu(t,!1,e),zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$u]||(t[$u]=!0,zu("selectionchange",!1,t))}}function Vu(e,t,n,a){switch(ff(t)){case 2:var r=sf;break;case 8:r=lf;break;default:r=of}n=r.bind(null,t,n,e),r=void 0,!$t||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Uu(e,t,n,a,r){var i=a;if(!(1&t||2&t||null===a))e:for(;;){if(null===a)return;var l=a.tag;if(3===l||4===l){var o=a.stateNode.containerInfo;if(o===r)break;if(4===l)for(l=a.return;null!==l;){var c=l.tag;if((3===c||4===c)&&l.stateNode.containerInfo===r)return;l=l.return}for(;null!==o;){if(null===(l=Ve(o)))return;if(5===(c=l.tag)||6===c||26===c||27===c){a=i=l;continue e}o=o.parentNode}}a=a.return}qt(function(){var a=i,r=Rt(n),l=[];e:{var o=ka.get(e);if(void 0!==o){var c=tn,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=on;break;case"focusout":u="blur",c=on;break;case"beforeblur":case"afterblur":c=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=bn;break;case ha:case ga:case va:c=cn;break;case _a:c=xn;break;case"scroll":case"scrollend":c=an;break;case"wheel":c=_n;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=yn;break;case"toggle":case"beforetoggle":c=kn}var d=!!(4&t),f=!d&&("scroll"===e||"scrollend"===e),m=d?null!==o?o+"Capture":null:o;d=[];for(var p,h=a;null!==h;){var g=h;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===m||null!=(g=Ot(h,m))&&d.push(Qu(h,g,p)),f)break;h=h.return}0<d.length&&(o=new c(o,u,null,n,r),l.push({event:o,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===At||!(u=n.relatedTarget||n.fromElement)||!Ve(u)&&!u[Pe])&&(c||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=a,null!==(u=(u=n.relatedTarget||n.toElement)?Ve(u):null)&&(f=s(u),d=u.tag,u!==f||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=a),c!==u)){if(d=sn,g="onMouseLeave",m="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=yn,g="onPointerLeave",m="onPointerEnter",h="pointer"),f=null==c?o:Qe(c),p=null==u?o:Qe(u),(o=new d(g,h+"leave",c,n,r)).target=f,o.relatedTarget=p,g=null,Ve(r)===a&&((d=new d(m,h+"enter",u,n,r)).target=p,d.relatedTarget=f,g=d),f=g,c&&u)e:{for(m=u,h=0,p=d=c;p;p=Wu(p))h++;for(p=0,g=m;g;g=Wu(g))p++;for(;0<h-p;)d=Wu(d),h--;for(;0<p-h;)m=Wu(m),p--;for(;h--;){if(d===m||null!==m&&d===m.alternate)break e;d=Wu(d),m=Wu(m)}d=null}else d=null;null!==c&&Ku(l,o,c,d,!1),null!==u&&null!==f&&Ku(l,f,u,d,!0)}if("select"===(c=(o=a?Qe(a):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var v=zn;else if(Dn(o))if($n)v=Xn;else{v=Kn;var y=Wn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?a&&Mt(a.elementType)&&(v=zn):v=Gn;switch(v&&(v=v(e,a))?Ln(l,v,n,r):(y&&y(e,o,a),"focusout"===e&&a&&"number"===o.type&&null!=a.memoizedProps.value&&xt(o,"number",o.value)),y=a?Qe(a):window,e){case"focusin":(Dn(y)||"true"===y.contentEditable)&&(sa=y,ia=a,la=null);break;case"focusout":la=ia=sa=null;break;case"mousedown":oa=!0;break;case"contextmenu":case"mouseup":case"dragend":oa=!1,ca(l,n,r);break;case"selectionchange":if(ra)break;case"keydown":case"keyup":ca(l,n,r)}var b;if(Nn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else An?In(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(jn&&"ko"!==n.locale&&(An||"onCompositionStart"!==x?"onCompositionEnd"===x&&An&&(b=Ht()):(Ut="value"in(Vt=r)?Vt.value:Vt.textContent,An=!0)),0<(y=Hu(a,x)).length&&(x=new dn(x,e,null,n,r),l.push({event:x,listeners:y}),b?x.data=b:null!==(b=En(n))&&(x.data=b))),(b=Tn?function(e,t){switch(e){case"compositionend":return En(t);case"keypress":return 32!==t.which?null:(Cn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Cn?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!Nn&&In(e,t)?(e=Ht(),Qt=Ut=Vt=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Hu(a,"onBeforeInput")).length&&(y=new dn("onBeforeInput","beforeinput",null,n,r),l.push({event:y,listeners:x}),y.data=b)),function(e,t,n,a,r){if("submit"===t&&n&&n.stateNode===r){var s=Au((r[Le]||null).action),i=a.submitter;i&&null!==(t=(t=i[Le]||null)?Au(t.formAction):i.getAttribute("formAction"))&&(s=t,i=null);var l=new tn("action","action",null,a,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(0!==wu){var e=i?Ru(r,i):new FormData(r);Ai(n,{pending:!0,data:e,method:r.method,action:s},null,e)}}else"function"==typeof s&&(l.preventDefault(),e=i?Ru(r,i):new FormData(r),Ai(n,{pending:!0,data:e,method:r.method,action:s},s,e))},currentTarget:r}]})}}(l,e,a,n,r)}qu(l,t)})}function Qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,s=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===s||(null!=(r=Ot(e,n))&&a.unshift(Qu(e,r,s)),null!=(r=Ot(e,t))&&a.push(Qu(e,r,s))),3===e.tag)return a;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,a,r){for(var s=t._reactName,i=[];null!==n&&n!==a;){var l=n,o=l.alternate,c=l.stateNode;if(l=l.tag,null!==o&&o===a)break;5!==l&&26!==l&&27!==l||null===c||(o=c,r?null!=(c=Ot(n,s))&&i.unshift(Qu(n,c,o)):r||null!=(c=Ot(n,s))&&i.push(Qu(n,c,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Gu=/\r\n?/g,Xu=/\u0000|\uFFFD/g;function Zu(e){return("string"==typeof e?e:""+e).replace(Gu,"\n").replace(Xu,"")}function Yu(e,t){return t=Zu(t),Zu(e)===t}function Ju(){}function ed(e,t,n,r,s,i){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||Nt(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&Nt(e,""+r);break;case"className":rt(e,"class",r);break;case"tabIndex":rt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(e,n,r);break;case"style":jt(e,r,i);break;case"data":if("object"!==t){rt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Et(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof i&&("formAction"===n?("input"!==t&&ed(e,t,"name",s.name,s,null),ed(e,t,"formEncType",s.formEncType,s,null),ed(e,t,"formMethod",s.formMethod,s,null),ed(e,t,"formTarget",s.formTarget,s,null)):(ed(e,t,"encType",s.encType,s,null),ed(e,t,"method",s.method,s,null),ed(e,t,"target",s.target,s,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Et(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&Ou("scroll",e);break;case"onScrollEnd":null!=r&&Ou("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=Et(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ou("beforetoggle",e),Ou("toggle",e),at(e,"popover",r);break;case"xlinkActuate":st(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":st(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":st(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":st(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":st(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":st(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":st(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":st(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":st(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":at(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&at(e,n=Ct.get(n)||n,r)}}function td(e,t,n,r,s,i){switch(n){case"style":jt(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"==typeof r?Nt(e,r):("number"==typeof r||"bigint"==typeof r)&&Nt(e,""+r);break;case"onScroll":null!=r&&Ou("scroll",e);break;case"onScrollEnd":null!=r&&Ou("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"==typeof(i=null!=(i=e[Le]||null)?i[n]:null)&&e.removeEventListener(t,i,s),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):at(e,n,r):("function"!=typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s)))}}function nd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ou("error",e),Ou("load",e);var r,s=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var l=n[r];if(null!=l)switch(r){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ed(e,t,r,l,n,null)}}return i&&ed(e,t,"srcSet",n.srcSet,n,null),void(s&&ed(e,t,"src",n.src,n,null));case"input":Ou("invalid",e);var o=r=l=i=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(null!=d)switch(s){case"name":i=d;break;case"type":l=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:ed(e,t,s,d,n,null)}}return bt(e,r,o,c,u,l,i,!1),void mt(e);case"select":for(i in Ou("invalid",e),s=l=r=null,n)if(n.hasOwnProperty(i)&&null!=(o=n[i]))switch(i){case"value":r=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:ed(e,t,i,o,n,null)}return t=r,n=l,e.multiple=!!s,void(null!=t?_t(e,!!s,t,!1):null!=n&&_t(e,!!s,n,!0));case"textarea":for(l in Ou("invalid",e),r=i=s=null,n)if(n.hasOwnProperty(l)&&null!=(o=n[l]))switch(l){case"value":s=o;break;case"defaultValue":i=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(a(91));break;default:ed(e,t,l,o,n,null)}return wt(e,s,i,r),void mt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!=typeof s&&"symbol"!=typeof s;else ed(e,t,c,s,n,null);return;case"dialog":Ou("beforetoggle",e),Ou("toggle",e),Ou("cancel",e),Ou("close",e);break;case"iframe":case"object":Ou("load",e);break;case"video":case"audio":for(s=0;s<Pu.length;s++)Ou(Pu[s],e);break;case"image":Ou("error",e),Ou("load",e);break;case"details":Ou("toggle",e);break;case"embed":case"source":case"link":Ou("error",e),Ou("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(s=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:ed(e,t,u,s,n,null)}return;default:if(Mt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(s=n[d])&&td(e,t,d,s,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(null!=(s=n[o])&&ed(e,t,o,s,n,null))}var ad=null,rd=null;function sd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ld(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var cd=null;var ud="function"==typeof setTimeout?setTimeout:void 0,dd="function"==typeof clearTimeout?clearTimeout:void 0,fd="function"==typeof Promise?Promise:void 0,md="function"==typeof queueMicrotask?queueMicrotask:void 0!==fd?function(e){return fd.resolve(null).then(e).catch(pd)}:ud;function pd(e){setTimeout(function(){throw e})}function hd(e){return"head"===e}function gd(e,t){var n=t,a=0,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<a&&8>a){n=a;var i=e.ownerDocument;if(1&n&&wd(i.documentElement),2&n&&wd(i.body),4&n)for(wd(n=i.head),i=n.firstChild;i;){var l=i.nextSibling,o=i.nodeName;i[$e]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=l}}if(0===r)return e.removeChild(s),void If(t);r--}else"$"===n||"$?"===n||"$!"===n?r++:a=n.charCodeAt(0)-48;else a=0;n=s}while(n);If(t)}function vd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":vd(n),Be(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function yd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function bd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var xd=null;function _d(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function kd(e,t,n){switch(t=sd(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var Nd=new Map,Sd=new Set;function Td(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var jd=D.d;D.d={f:function(){var e=jd.f(),t=Vc();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?Di(t):jd.r(e)},D:function(e){jd.D(e),Cd("dns-prefetch",e,null)},C:function(e,t){jd.C(e,t),Cd("preconnect",e,t)},L:function(e,t,n){jd.L(e,t,n);var a=Md;if(a&&e&&t){var r='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(r+='[imagesizes="'+vt(n.imageSizes)+'"]')):r+='[href="'+vt(e)+'"]';var s=r;switch(t){case"style":s=Ed(e);break;case"script":s=Dd(e)}Nd.has(s)||(e=c({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Nd.set(s,e),null!==a.querySelector(r)||"style"===t&&a.querySelector(Ad(s))||"script"===t&&a.querySelector(Ld(s))||(nd(t=a.createElement("link"),"link",e),We(t),a.head.appendChild(t)))}},m:function(e,t){jd.m(e,t);var n=Md;if(n&&e){var a=t&&"string"==typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+vt(a)+'"][href="'+vt(e)+'"]',s=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Dd(e)}if(!Nd.has(s)&&(e=c({rel:"modulepreload",href:e},t),Nd.set(s,e),null===n.querySelector(r))){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ld(s)))return}nd(a=n.createElement("link"),"link",e),We(a),n.head.appendChild(a)}}},X:function(e,t){jd.X(e,t);var n=Md;if(n&&e){var a=He(n).hoistableScripts,r=Dd(e),s=a.get(r);s||((s=n.querySelector(Ld(r)))||(e=c({src:e,async:!0},t),(t=Nd.get(r))&&Od(e,t),We(s=n.createElement("script")),nd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(r,s))}},S:function(e,t,n){jd.S(e,t,n);var a=Md;if(a&&e){var r=He(a).hoistableStyles,s=Ed(e);t=t||"default";var i=r.get(s);if(!i){var l={loading:0,preload:null};if(i=a.querySelector(Ad(s)))l.loading=5;else{e=c({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Nd.get(s))&&qd(e,n);var o=i=a.createElement("link");We(o),nd(o,"link",e),o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Fd(i,t,a)}i={type:"stylesheet",instance:i,count:1,state:l},r.set(s,i)}}},M:function(e,t){jd.M(e,t);var n=Md;if(n&&e){var a=He(n).hoistableScripts,r=Dd(e),s=a.get(r);s||((s=n.querySelector(Ld(r)))||(e=c({src:e,async:!0,type:"module"},t),(t=Nd.get(r))&&Od(e,t),We(s=n.createElement("script")),nd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},a.set(r,s))}}};var Md="undefined"==typeof document?null:document;function Cd(e,t,n){var a=Md;if(a&&"string"==typeof t&&t){var r=vt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"==typeof n&&(r+='[crossorigin="'+n+'"]'),Sd.has(r)||(Sd.add(r),e={rel:e,crossOrigin:n,href:t},null===a.querySelector(r)&&(nd(t=a.createElement("link"),"link",e),We(t),a.head.appendChild(t)))}}function Id(e,t,n,r){var s,i,l,o,c=(c=V.current)?Td(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Ed(n.href),(r=(n=He(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Ed(n.href);var u=He(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Ad(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Nd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nd.set(e,n),u||(s=c,i=e,l=n,o=d.state,s.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=s.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),nd(i,"link",l),We(i),s.head.appendChild(i))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Dd(n),(r=(n=He(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ed(e){return'href="'+vt(e)+'"'}function Ad(e){return'link[rel="stylesheet"]['+e+"]"}function Rd(e){return c({},e,{"data-precedence":e.precedence,precedence:null})}function Dd(e){return'[src="'+vt(e)+'"]'}function Ld(e){return"script[async]"+e}function Pd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var s=c({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),nd(r,"style",s),Fd(r,n.precedence,e),t.instance=r;case"stylesheet":s=Ed(n.href);var i=e.querySelector(Ad(s));if(i)return t.state.loading|=4,t.instance=i,We(i),i;r=Rd(n),(s=Nd.get(s))&&qd(r,s),We(i=(e.ownerDocument||e).createElement("link"));var l=i;return l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),nd(i,"link",r),t.state.loading|=4,Fd(i,n.precedence,e),t.instance=i;case"script":return i=Dd(n.src),(s=e.querySelector(Ld(i)))?(t.instance=s,We(s),s):(r=n,(s=Nd.get(i))&&Od(r=c({},n),s),We(s=(e=e.ownerDocument||e).createElement("script")),nd(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Fd(r,n.precedence,e));return t.instance}function Fd(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,s=r,i=0;i<a.length;i++){var l=a[i];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function qd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Od(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var zd=null;function $d(e,t,n){if(null===zd){var a=new Map,r=zd=new Map;r.set(n,a)}else(a=(r=zd).get(n))||(a=new Map,r.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[$e]||s[Re]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var i=s.getAttribute(t)||"";i=e+i;var l=a.get(i);l?l.push(s):a.set(i,[s])}}return a}function Bd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Vd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Ud=null;function Qd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Gd,e),Wd=null,Hd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var a=n.get(null);else{n=new Map,Wd.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var i=r[s];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),a=i)}a&&n.set(null,a)}i=(r=t.instance).getAttribute("data-precedence"),(s=n.get(i)||a)===a&&n.set(null,r),n.set(i,r),this.count++,a=Hd.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),s?s.parentNode.insertBefore(r,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var Xd={$$typeof:x,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Zd(e,t,n,a,r,s,i,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=we(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=we(0),this.hiddenUpdates=we(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function Yd(e,t,n,a,r,s,i,l,o,c,u,d){return e=new Zd(e,t,n,i,l,o,c,d),t=1,!0===s&&(t|=24),s=qa(3,null,null,t),e.current=s,s.stateNode=e,(t=Lr()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:a,isDehydrated:n,cache:t},rs(s),e}function Jd(e){return e?e=Pa:Pa}function ef(e,t,n,a,r,s){r=Jd(r),null===a.context?a.context=r:a.pendingContext=r,(a=is(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(a.callback=s),null!==(n=ls(e,a,t))&&(qc(n,0,t),os(n,e,t))}function tf(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nf(e,t){tf(e,t),(e=e.alternate)&&tf(e,t)}function af(e){if(13===e.tag){var t=Ra(e,67108864);null!==t&&qc(t,0,67108864),nf(e,67108864)}}var rf=!0;function sf(e,t,n,a){var r=R.T;R.T=null;var s=D.p;try{D.p=2,of(e,t,n,a)}finally{D.p=s,R.T=r}}function lf(e,t,n,a){var r=R.T;R.T=null;var s=D.p;try{D.p=8,of(e,t,n,a)}finally{D.p=s,R.T=r}}function of(e,t,n,a){if(rf){var r=cf(a);if(null===r)Uu(e,t,a,uf,n),_f(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return pf=kf(pf,e,t,n,a,r),!0;case"dragenter":return hf=kf(hf,e,t,n,a,r),!0;case"mouseover":return gf=kf(gf,e,t,n,a,r),!0;case"pointerover":var s=r.pointerId;return vf.set(s,kf(vf.get(s)||null,e,t,n,a,r)),!0;case"gotpointercapture":return s=r.pointerId,yf.set(s,kf(yf.get(s)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(_f(e,a),4&t&&-1<xf.indexOf(e)){for(;null!==r;){var s=Ue(r);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var i=ve(s.pendingLanes);if(0!==i){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;i;){var o=1<<31-fe(i);l.entanglements[1]|=o,i&=~o}Nu(s),!(6&rc)&&(Nc=ee()+500,Su(0))}}break;case 13:null!==(l=Ra(s,2))&&qc(l,0,2),Vc(),nf(s,2)}if(null===(s=cf(a))&&Uu(e,t,a,uf,n),s===r)break;r=s}null!==r&&a.stopPropagation()}else Uu(e,t,a,null,n)}}function cf(e){return df(e=Rt(e))}var uf=null;function df(e){if(uf=null,null!==(e=Ve(e))){var t=s(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=i(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return uf=e,null}function ff(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(te()){case ne:return 2;case ae:return 8;case re:case se:return 32;case ie:return 268435456;default:return 32}default:return 32}}var mf=!1,pf=null,hf=null,gf=null,vf=new Map,yf=new Map,bf=[],xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _f(e,t){switch(e){case"focusin":case"focusout":pf=null;break;case"dragenter":case"dragleave":hf=null;break;case"mouseover":case"mouseout":gf=null;break;case"pointerover":case"pointerout":vf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yf.delete(t.pointerId)}}function kf(e,t,n,a,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=Ue(t))&&af(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function wf(e){var t=Ve(e.target);if(null!==t){var n=s(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=i(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,function(){if(13===n.tag){var e=Pc();e=je(e);var t=Ra(n,e);null!==t&&qc(t,0,e),nf(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nf(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=cf(e.nativeEvent);if(null!==n)return null!==(t=Ue(n))&&af(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);At=a,n.target.dispatchEvent(a),At=null,t.shift()}return!0}function Sf(e,t,n){Nf(e)&&n.delete(t)}function Tf(){mf=!1,null!==pf&&Nf(pf)&&(pf=null),null!==hf&&Nf(hf)&&(hf=null),null!==gf&&Nf(gf)&&(gf=null),vf.forEach(Sf),yf.forEach(Sf)}function jf(t,n){t.blockedOn===n&&(t.blockedOn=null,mf||(mf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Tf)))}var Mf=null;function Cf(t){Mf!==t&&(Mf=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Mf===t&&(Mf=null);for(var e=0;e<t.length;e+=3){var n=t[e],a=t[e+1],r=t[e+2];if("function"!=typeof a){if(null===df(a||n))continue;break}var s=Ue(n);null!==s&&(t.splice(e,3),e-=3,Ai(s,{pending:!0,data:r,method:n.method,action:a},a,r))}}))}function If(e){function t(t){return jf(t,e)}null!==pf&&jf(pf,e),null!==hf&&jf(hf,e),null!==gf&&jf(gf,e),vf.forEach(t),yf.forEach(t);for(var n=0;n<bf.length;n++){var a=bf[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<bf.length&&null===(n=bf[0]).blockedOn;)wf(n),null===n.blockedOn&&bf.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(a=0;a<n.length;a+=3){var r=n[a],s=n[a+1],i=r[Le]||null;if("function"==typeof s)i||Cf(n);else if(i){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,i=s[Le]||null)l=i.formAction;else if(null!==df(r))continue}else l=i.action;"function"==typeof l?n[a+1]=l:(n.splice(a,3),a-=3),Cf(n)}}}function Ef(e){this._internalRoot=e}function Af(e){this._internalRoot=e}Af.prototype.render=Ef.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));ef(t.current,Pc(),e,t,null,null)},Af.prototype.unmount=Ef.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ef(e.current,2,null,e,null,null),Vc(),t[Pe]=null}},Af.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ie();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bf.length&&0!==t&&t<bf[n].priority;n++);bf.splice(n,0,e),0===n&&wf(e)}};var Rf=t.version;if("19.1.1"!==Rf)throw Error(a(527,Rf,"19.1.1"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return l(i),e;if(o===r)return l(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var c=!1,u=i.child;u;){if(u===n){c=!0,n=i,r=o;break}if(u===r){c=!0,r=i,n=o;break}u=u.sibling}if(!c){for(u=o.child;u;){if(u===n){c=!0,n=o,r=i;break}if(u===r){c=!0,r=o,n=i;break}u=u.sibling}if(!c)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?o(e):null)?null:e.stateNode};var Df={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.1"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lf.isDisabled&&Lf.supportsFiber)try{ce=Lf.inject(Df),ue=Lf}catch(Ff){}}return Ee.createRoot=function(e,t){if(!r(e))throw Error(a(299));var n=!1,s="",i=bl,l=xl,o=_l;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(l=t.onCaughtError),void 0!==t.onRecoverableError&&(o=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,s,i,l,o,0,null),e[Pe]=t.current,Bu(e),new Ef(t)},Ee.hydrateRoot=function(e,t,n){if(!r(e))throw Error(a(299));var s=!1,i="",l=bl,o=xl,c=_l,u=null;return null!=n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(l=n.onUncaughtError),void 0!==n.onCaughtError&&(o=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Yd(e,1,!0,t,0,s,i,l,o,c,0,u)).context=Jd(null),n=t.current,(i=is(s=je(s=Pc()))).callback=null,ls(n,i,s),n=s,t.current.lanes=n,Ne(t,n),Nu(t),e[Pe]=t.current,Bu(e),new Af(t)},Ee.version="19.1.1",Ee}var Pe=(Ce||(Ce=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),Ie.exports=Le()),Ie.exports);const Fe=({error:e})=>n.jsx(n.Fragment,{children:n.jsxs("div",{className:"error-screen",children:[n.jsx("h1",{children:"Something went wrong"}),e&&n.jsxs("div",{className:"error-details",children:[n.jsx("p",{children:e.message}),n.jsx("pre",{children:e.stack})]}),n.jsx("button",{onClick:()=>window.location.reload(),children:"Reload Application"})]})}),qe=()=>{const e=y();return b.useEffect(()=>{},[e]),null},Oe="_mainLayout_1wvhz_1",ze="_mainContainer_1wvhz_17",$e="_container_pd18v_1",Be="_headerToolBar_pd18v_51",Ve="_username_pd18v_69",Ue={},Qe="/",He="/login",We="/error",Ke="/charts",Ge="*",Xe=({width:e=150,height:t=62})=>n.jsx(x,{to:Qe,className:Ue.logo,children:n.jsx("img",{src:"/mirax-safety-full.svg",alt:"MIRA Safety",width:e,height:t})}),Ze="_container_ziqwi_1";var Ye,Je,et,tt={},nt={},at={};function rt(){if(Ye)return at;function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(){}Ye=1,at.__esModule=!0,at.default=function(t){var a="".concat(t,"Storage");return function(t){if("object"!==("undefined"==typeof self?"undefined":e(self))||!(t in self))return!1;try{var n=self[t],a="redux-persist ".concat(t," test");n.setItem(a,"test"),n.getItem(a),n.removeItem(a)}catch(r){return!1}return!0}(a)?self[a]:n};var n={getItem:t,setItem:t,removeItem:t};return at}function st(){if(Je)return nt;Je=1,nt.__esModule=!0,nt.default=function(e){var n=(0,t.default)(e);return{getItem:function(e){return new Promise(function(t,a){t(n.getItem(e))})},setItem:function(e,t){return new Promise(function(a,r){a(n.setItem(e,t))})},removeItem:function(e){return new Promise(function(t,a){t(n.removeItem(e))})}}};var e,t=(e=rt())&&e.__esModule?e:{default:e};return nt}const it=v(function(){if(et)return tt;var e;et=1,tt.__esModule=!0,tt.default=void 0;var t=(0,((e=st())&&e.__esModule?e:{default:e}).default)("local");return tt.default=t,tt}());var lt=class extends Error{constructor(e){super(e[0].message),t(this,"issues"),this.name="SchemaError",this.issues=e}},ot=(e=>(e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected",e))(ot||{});function ct(e){return{status:e,isUninitialized:"uninitialized"===e,isLoading:"pending"===e,isSuccess:"fulfilled"===e,isError:"rejected"===e}}var ut=H;function dt(e,t){if(e===t||!(ut(e)&&ut(t)||Array.isArray(e)&&Array.isArray(t)))return t;const n=Object.keys(t),a=Object.keys(e);let r=n.length===a.length;const s=Array.isArray(t)?[]:{};for(const i of n)s[i]=dt(e[i],t[i]),r&&(r=e[i]===s[i]);return r?e:s}function ft(e){let t=0;for(const n in e)t++;return t}var mt=e=>[].concat(...e);function pt(e){return null!=e}var ht=class{constructor(e,t=void 0){this.value=e,this.meta=t}},gt=L("__rtkq/focused"),vt=L("__rtkq/unfocused"),yt=L("__rtkq/online"),bt=L("__rtkq/offline");function xt(e){return"query"===e.type}function _t(e){return"infinitequery"===e.type}function kt(e){return xt(e)||_t(e)}function wt(e,t,n,a,r,s){return"function"==typeof e?e(t,n,a,r).filter(pt).map(Nt).map(s):Array.isArray(e)?e.map(Nt).map(s):[]}function Nt(e){return"string"==typeof e?{type:e}:e}var St=Symbol("forceQueryFn"),Tt=e=>"function"==typeof e[St];var jt=class extends lt{constructor(e,t,n,a){super(e),this.value=t,this.schemaName=n,this._bqMeta=a}};async function Mt(e,t,n,a){const r=await e["~standard"].validate(t);if(r.issues)throw new jt(r.issues,t,n,a);return r.value}function Ct(e){return e}var It=(e={})=>({...e,[W]:!0});function Et(e,{pages:t,pageParams:n},a){const r=t.length-1;return e.getNextPageParam(t[r],t,n[r],n,a)}function At(e,{pages:t,pageParams:n},a){var r;return null==(r=e.getPreviousPageParam)?void 0:r.call(e,t[0],t,n[0],n,a)}function Rt(e,t,n,a){return wt(n[e.meta.arg.endpointName][t],V(e)?e.payload:void 0,B(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,a)}function Dt(e,t,n){const a=e[t];a&&n(a)}function Lt(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function Pt(e,t,n){const a=e[Lt(t)];a&&n(a)}var Ft={};function qt({reducerPath:e,queryThunk:t,mutationThunk:n,serializeQueryArgs:a,context:{endpointDefinitions:r,apiUid:s,extractRehydrationInfo:i,hasRehydrationInfo:l},assertTagType:o,config:c}){const u=L(`${e}/resetApiState`);function d(e,t,n,a){var s;e[s=t.queryCacheKey]??(e[s]={status:"uninitialized",endpointName:t.endpointName}),Dt(e,t.queryCacheKey,e=>{e.status="pending",e.requestId=n&&e.requestId?e.requestId:a.requestId,void 0!==t.originalArgs&&(e.originalArgs=t.originalArgs),e.startedTimeStamp=a.startedTimeStamp;_t(r[a.arg.endpointName])&&"direction"in t&&(e.direction=t.direction)})}function f(e,t,n,a){Dt(e,t.arg.queryCacheKey,e=>{if(e.requestId!==t.requestId&&!a)return;const{merge:s}=r[t.arg.endpointName];if(e.status="fulfilled",s)if(void 0!==e.data){const{fulfilledTimeStamp:a,arg:r,baseQueryMeta:i,requestId:l}=t;let o=F(e.data,e=>s(e,n,{arg:r.originalArgs,baseQueryMeta:i,fulfilledTimeStamp:a,requestId:l}));e.data=o}else e.data=n;else e.data=r[t.arg.endpointName].structuralSharing??1?dt(te(e.data)?ne(e.data):e.data,n):n;delete e.error,e.fulfilledTimeStamp=t.fulfilledTimeStamp})}const m=O({name:`${e}/queries`,initialState:Ft,reducers:{removeQueryResult:{reducer(e,{payload:{queryCacheKey:t}}){delete e[t]},prepare:z()},cacheEntriesUpserted:{reducer(e,t){for(const n of t.payload){const{queryDescription:a,value:r}=n;d(e,a,!0,{arg:a,requestId:t.meta.requestId,startedTimeStamp:t.meta.timestamp}),f(e,{arg:a,requestId:t.meta.requestId,fulfilledTimeStamp:t.meta.timestamp,baseQueryMeta:{}},r,!0)}},prepare:e=>({payload:e.map(e=>{const{endpointName:t,arg:n,value:s}=e,i=r[t];return{queryDescription:{type:"query",endpointName:t,originalArgs:e.arg,queryCacheKey:a({queryArgs:n,endpointDefinition:i,endpointName:t})},value:s}}),meta:{[W]:!0,requestId:A(),timestamp:Date.now()}})},queryResultPatched:{reducer(e,{payload:{queryCacheKey:t,patches:n}}){Dt(e,t,e=>{e.data=U(e.data,n.concat())})},prepare:z()}},extraReducers(e){e.addCase(t.pending,(e,{meta:t,meta:{arg:n}})=>{d(e,n,Tt(n),t)}).addCase(t.fulfilled,(e,{meta:t,payload:n})=>{f(e,t,n,Tt(t.arg))}).addCase(t.rejected,(e,{meta:{condition:t,arg:n,requestId:a},error:r,payload:s})=>{Dt(e,n.queryCacheKey,e=>{if(t);else{if(e.requestId!==a)return;e.status="rejected",e.error=s??r}})}).addMatcher(l,(e,t)=>{const{queries:n}=i(t);for(const[a,r]of Object.entries(n))"fulfilled"!==(null==r?void 0:r.status)&&"rejected"!==(null==r?void 0:r.status)||(e[a]=r)})}}),p=O({name:`${e}/mutations`,initialState:Ft,reducers:{removeMutationResult:{reducer(e,{payload:t}){const n=Lt(t);n in e&&delete e[n]},prepare:z()}},extraReducers(e){e.addCase(n.pending,(e,{meta:t,meta:{requestId:n,arg:a,startedTimeStamp:r}})=>{a.track&&(e[Lt(t)]={requestId:n,status:"pending",endpointName:a.endpointName,startedTimeStamp:r})}).addCase(n.fulfilled,(e,{payload:t,meta:n})=>{n.arg.track&&Pt(e,n,e=>{e.requestId===n.requestId&&(e.status="fulfilled",e.data=t,e.fulfilledTimeStamp=n.fulfilledTimeStamp)})}).addCase(n.rejected,(e,{payload:t,error:n,meta:a})=>{a.arg.track&&Pt(e,a,e=>{e.requestId===a.requestId&&(e.status="rejected",e.error=t??n)})}).addMatcher(l,(e,t)=>{const{mutations:n}=i(t);for(const[a,r]of Object.entries(n))"fulfilled"!==(null==r?void 0:r.status)&&"rejected"!==(null==r?void 0:r.status)||a===(null==r?void 0:r.requestId)||(e[a]=r)})}}),h=O({name:`${e}/invalidation`,initialState:{tags:{},keys:{}},reducers:{updateProvidedBy:{reducer(e,t){var n,a,r;for(const{queryCacheKey:s,providedTags:i}of t.payload){g(e,s);for(const{type:t,id:l}of i){const i=(a=(n=e.tags)[t]??(n[t]={}))[r=l||"__internal_without_id"]??(a[r]=[]);i.includes(s)||i.push(s)}e.keys[s]=i}},prepare:z()}},extraReducers(e){e.addCase(m.actions.removeQueryResult,(e,{payload:{queryCacheKey:t}})=>{g(e,t)}).addMatcher(l,(e,t)=>{var n,a,r;const{provided:s}=i(t);for(const[i,l]of Object.entries(s))for(const[t,s]of Object.entries(l)){const l=(a=(n=e.tags)[i]??(n[i]={}))[r=t||"__internal_without_id"]??(a[r]=[]);for(const e of s){l.includes(e)||l.push(e)}}}).addMatcher($(V(t),B(t)),(e,t)=>{v(e,[t])}).addMatcher(m.actions.cacheEntriesUpserted.match,(e,t)=>{v(e,t.payload.map(({queryDescription:e,value:t})=>({type:"UNKNOWN",payload:t,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:e}})))})}});function g(e,t){var n;const a=e.keys[t]??[];for(const r of a){const a=r.type,s=r.id??"__internal_without_id",i=null==(n=e.tags[a])?void 0:n[s];i&&(e.tags[a][s]=i.filter(e=>e!==t))}delete e.keys[t]}function v(e,t){const n=t.map(e=>{const t=Rt(e,"providesTags",r,o),{queryCacheKey:n}=e.meta.arg;return{queryCacheKey:n,providedTags:t}});h.caseReducers.updateProvidedBy(e,h.actions.updateProvidedBy(n))}const y=O({name:`${e}/subscriptions`,initialState:Ft,reducers:{updateSubscriptionOptions(e,t){},unsubscribeQueryResult(e,t){},internal_getRTKQSubscriptions(){}}}),b=O({name:`${e}/internalSubscriptions`,initialState:Ft,reducers:{subscriptionsUpdated:{reducer:(e,t)=>U(e,t.payload),prepare:z()}}}),x=O({name:`${e}/config`,initialState:{online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine,focused:"undefined"==typeof document||"hidden"!==document.visibilityState,middlewareRegistered:!1,...c},reducers:{middlewareRegistered(e,{payload:t}){e.middlewareRegistered="conflict"!==e.middlewareRegistered&&s===t||"conflict"}},extraReducers:e=>{e.addCase(yt,e=>{e.online=!0}).addCase(bt,e=>{e.online=!1}).addCase(gt,e=>{e.focused=!0}).addCase(vt,e=>{e.focused=!1}).addMatcher(l,e=>({...e}))}}),_=Q({queries:m.reducer,mutations:p.reducer,provided:h.reducer,subscriptions:b.reducer,config:x.reducer});return{reducer:(e,t)=>_(u.match(t)?void 0:e,t),actions:{...x.actions,...m.actions,...y.actions,...b.actions,...p.actions,...h.actions,resetApiState:u}}}var Ot=Symbol.for("RTKQ/skipToken"),zt={status:"uninitialized"},$t=F(zt,()=>{}),Bt=F(zt,()=>{});var Vt=WeakMap?new WeakMap:void 0,Ut=({endpointName:e,queryArgs:t})=>{let n="";const a=null==Vt?void 0:Vt.get(t);if("string"==typeof a)n=a;else{const e=JSON.stringify(t,(e,t)=>(t="bigint"==typeof t?{$bigint:t.toString()}:t,t=H(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t));H(t)&&(null==Vt||Vt.set(t,e)),n=e}return`${e}(${n})`};function Qt(...e){return function(t){const n=E(e=>{var n;return null==(n=t.extractRehydrationInfo)?void 0:n.call(t,e,{reducerPath:t.reducerPath??"api"})}),a={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...t,extractRehydrationInfo:n,serializeQueryArgs(e){let n=Ut;if("serializeQueryArgs"in e.endpointDefinition){const t=e.endpointDefinition.serializeQueryArgs;n=e=>{const n=t(e);return"string"==typeof n?n:Ut({...e,queryArgs:n})}}else t.serializeQueryArgs&&(n=t.serializeQueryArgs);return n(e)},tagTypes:[...t.tagTypes||[]]},r={endpointDefinitions:{},batch(e){e()},apiUid:A(),extractRehydrationInfo:n,hasRehydrationInfo:E(e=>null!=n(e))},s={injectEndpoints:function(e){const t=e.endpoints({query:e=>({...e,type:"query"}),mutation:e=>({...e,type:"mutation"}),infiniteQuery:e=>({...e,type:"infinitequery"})});for(const[n,a]of Object.entries(t))if(!0!==e.overrideExisting&&n in r.endpointDefinitions){if("throw"===e.overrideExisting)throw new Error(R(39))}else{r.endpointDefinitions[n]=a;for(const e of i)e.injectEndpoint(n,a)}return s},enhanceEndpoints({addTagTypes:e,endpoints:t}){if(e)for(const n of e)a.tagTypes.includes(n)||a.tagTypes.push(n);if(t)for(const[n,a]of Object.entries(t))"function"==typeof a?a(r.endpointDefinitions[n]):Object.assign(r.endpointDefinitions[n]||{},a);return s}},i=e.map(e=>e.init(s,a,r));return s.injectEndpoints({endpoints:t.endpoints})}}function Ht(e,...t){return Object.assign(e,...t)}var Wt=({api:e,queryThunk:t,internalState:n})=>{const a=`${e.reducerPath}/subscriptions`;let r=null,s=null;const{updateSubscriptionOptions:i,unsubscribeQueryResult:l}=e.internalActions,o=()=>n.currentSubscriptions,c={getSubscriptions:o,getSubscriptionCount:e=>ft(o()[e]??{}),isRequestSubscribed:(e,t)=>{var n;const a=o();return!!(null==(n=null==a?void 0:a[e])?void 0:n[t])}};return(o,u)=>{if(r||(r=JSON.parse(JSON.stringify(n.currentSubscriptions))),e.util.resetApiState.match(o))return r=n.currentSubscriptions={},s=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(o))return[!1,c];const d=((n,a)=>{var r,s,o;if(i.match(a)){const{queryCacheKey:e,requestId:t,options:s}=a.payload;return(null==(r=null==n?void 0:n[e])?void 0:r[t])&&(n[e][t]=s),!0}if(l.match(a)){const{queryCacheKey:e,requestId:t}=a.payload;return n[e]&&delete n[e][t],!0}if(e.internalActions.removeQueryResult.match(a))return delete n[a.payload.queryCacheKey],!0;if(t.pending.match(a)){const{meta:{arg:e,requestId:t}}=a,r=n[s=e.queryCacheKey]??(n[s]={});return r[`${t}_running`]={},e.subscribe&&(r[t]=e.subscriptionOptions??r[t]??{}),!0}let c=!1;if(t.fulfilled.match(a)||t.rejected.match(a)){const e=n[a.meta.arg.queryCacheKey]||{},t=`${a.meta.requestId}_running`;c||(c=!!e[t]),delete e[t]}if(t.rejected.match(a)){const{meta:{condition:e,arg:t,requestId:r}}=a;if(e&&t.subscribe){const e=n[o=t.queryCacheKey]??(n[o]={});e[r]=t.subscriptionOptions??e[r]??{},c=!0}}return c})(n.currentSubscriptions,o);let f=!0;if(d){s||(s=setTimeout(()=>{const t=JSON.parse(JSON.stringify(n.currentSubscriptions)),[,a]=Y(r,()=>t);u.next(e.internalActions.subscriptionsUpdated(a)),r=t,s=null},500));const i="string"==typeof o.type&&!!o.type.startsWith(a),l=t.rejected.match(o)&&o.meta.condition&&!!o.meta.arg.subscribe;f=!i&&!l}return[f,!1]}};var Kt=({reducerPath:e,api:t,queryThunk:n,context:a,internalState:r,selectors:{selectQueryEntry:s,selectConfig:i}})=>{const{removeQueryResult:l,unsubscribeQueryResult:o,cacheEntriesUpserted:c}=t.internalActions,u=$(o.match,n.fulfilled,n.rejected,c.match);function d(e){const t=r.currentSubscriptions[e];return!!t&&!function(e){for(const t in e)return!1;return!0}(t)}const f={};function m(e,t,n){const a=t.getState();for(const r of e){const e=s(a,r);p(r,null==e?void 0:e.endpointName,t,n)}}function p(e,t,n,r){const s=a.endpointDefinitions[t],i=(null==s?void 0:s.keepUnusedDataFor)??r.keepUnusedDataFor;if(i===1/0)return;const o=Math.max(0,Math.min(i,2147482.647));if(!d(e)){const t=f[e];t&&clearTimeout(t),f[e]=setTimeout(()=>{d(e)||n.dispatch(l({queryCacheKey:e})),delete f[e]},1e3*o)}}return(e,n,r)=>{const s=n.getState(),l=i(s);if(u(e)){let t;if(c.match(e))t=e.payload.map(e=>e.queryDescription.queryCacheKey);else{const{queryCacheKey:n}=o.match(e)?e.payload:e.meta.arg;t=[n]}m(t,n,l)}if(t.util.resetApiState.match(e))for(const[t,a]of Object.entries(f))a&&clearTimeout(a),delete f[t];if(a.hasRehydrationInfo(e)){const{queries:t}=a.extractRehydrationInfo(e);m(Object.keys(t),n,l)}}},Gt=new Error("Promise never resolved before cacheEntryRemoved."),Xt=({api:e,reducerPath:t,context:n,queryThunk:a,mutationThunk:r,internalState:s,selectors:{selectQueryEntry:i,selectApiState:l}})=>{const o=ee(a),c=ee(r),u=V(a,r),d={};function f(e,t,n){const a=d[e];(null==a?void 0:a.valueResolved)&&(a.valueResolved({data:t,meta:n}),delete a.valueResolved)}function m(e){const t=d[e];t&&(delete d[e],t.cacheEntryRemoved())}function p(t,a,r,s,i){const l=n.endpointDefinitions[t],o=null==l?void 0:l.onCacheEntryAdded;if(!o)return;const c={},u=new Promise(e=>{c.cacheEntryRemoved=e}),f=Promise.race([new Promise(e=>{c.valueResolved=e}),u.then(()=>{throw Gt})]);f.catch(()=>{}),d[r]=c;const m=e.endpoints[t].select(kt(l)?a:r),p=s.dispatch((e,t,n)=>n),h={...s,getCacheEntry:()=>m(s.getState()),requestId:i,extra:p,updateCachedData:kt(l)?n=>s.dispatch(e.util.updateQueryData(t,a,n)):void 0,cacheDataLoaded:f,cacheEntryRemoved:u},g=o(a,h);Promise.resolve(g).catch(e=>{if(e!==Gt)throw e})}return(n,s,l)=>{const h=function(t){if(o(t))return t.meta.arg.queryCacheKey;if(c(t))return t.meta.arg.fixedCacheKey??t.meta.requestId;return e.internalActions.removeQueryResult.match(t)?t.payload.queryCacheKey:e.internalActions.removeMutationResult.match(t)?Lt(t.payload):""}(n);function g(e,t,n,a){const r=i(l,t),o=i(s.getState(),t);!r&&o&&p(e,a,t,s,n)}if(a.pending.match(n))g(n.meta.arg.endpointName,h,n.meta.requestId,n.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(n))for(const{queryDescription:e,value:t}of n.payload){const{endpointName:a,originalArgs:r,queryCacheKey:s}=e;g(a,s,n.meta.requestId,r),f(s,t,{})}else if(r.pending.match(n)){s.getState()[t].mutations[h]&&p(n.meta.arg.endpointName,n.meta.arg.originalArgs,h,s,n.meta.requestId)}else if(u(n))f(h,n.payload,n.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(n)||e.internalActions.removeMutationResult.match(n))m(h);else if(e.util.resetApiState.match(n))for(const e of Object.keys(d))m(e)}},Zt=({api:e,context:{apiUid:t},reducerPath:n})=>(n,a)=>{e.util.resetApiState.match(n)&&a.dispatch(e.internalActions.middlewareRegistered(t))},Yt=({reducerPath:e,context:t,context:{endpointDefinitions:n},mutationThunk:a,queryThunk:r,api:s,assertTagType:i,refetchQuery:l,internalState:o})=>{const{removeQueryResult:c}=s.internalActions,u=$(V(a),B(a)),d=$(V(a,r),G(a,r));let f=[];function m(n,a){const r=a.getState(),i=r[e];if(f.push(...n),"delayed"===i.config.invalidationBehavior&&function(e){var t;const{queries:n,mutations:a}=e;for(const r of[n,a])for(const e in r)if("pending"===(null==(t=r[e])?void 0:t.status))return!0;return!1}(i))return;const u=f;if(f=[],0===u.length)return;const d=s.util.selectInvalidatedBy(r,u);t.batch(()=>{const e=Array.from(d.values());for(const{queryCacheKey:t}of e){const e=i.queries[t],n=o.currentSubscriptions[t]??{};e&&(0===ft(n)?a.dispatch(c({queryCacheKey:t})):"uninitialized"!==e.status&&a.dispatch(l(e)))}})}return(e,t)=>{u(e)?m(Rt(e,"invalidatesTags",n,i),t):d(e)?m([],t):s.util.invalidateTags.match(e)&&m(wt(e.payload,void 0,void 0,void 0,void 0,i),t)}},Jt=({reducerPath:e,queryThunk:t,api:n,refetchQuery:a,internalState:r})=>{const s={};function i({queryCacheKey:t},n){const l=n.getState()[e],o=l.queries[t],u=r.currentSubscriptions[t];if(!o||"uninitialized"===o.status)return;const{lowestPollingInterval:d,skipPollingIfUnfocused:f}=c(u);if(!Number.isFinite(d))return;const m=s[t];(null==m?void 0:m.timeout)&&(clearTimeout(m.timeout),m.timeout=void 0);const p=Date.now()+d;s[t]={nextPollTimestamp:p,pollingInterval:d,timeout:setTimeout(()=>{!l.config.focused&&f||n.dispatch(a(o)),i({queryCacheKey:t},n)},d)}}function l({queryCacheKey:t},n){const a=n.getState()[e].queries[t],l=r.currentSubscriptions[t];if(!a||"uninitialized"===a.status)return;const{lowestPollingInterval:u}=c(l);if(!Number.isFinite(u))return void o(t);const d=s[t],f=Date.now()+u;(!d||f<d.nextPollTimestamp)&&i({queryCacheKey:t},n)}function o(e){const t=s[e];(null==t?void 0:t.timeout)&&clearTimeout(t.timeout),delete s[e]}function c(e={}){let t=!1,n=Number.POSITIVE_INFINITY;for(let a in e)e[a].pollingInterval&&(n=Math.min(e[a].pollingInterval,n),t=e[a].skipPollingIfUnfocused||t);return{lowestPollingInterval:n,skipPollingIfUnfocused:t}}return(e,a)=>{(n.internalActions.updateSubscriptionOptions.match(e)||n.internalActions.unsubscribeQueryResult.match(e))&&l(e.payload,a),(t.pending.match(e)||t.rejected.match(e)&&e.meta.condition)&&l(e.meta.arg,a),(t.fulfilled.match(e)||t.rejected.match(e)&&!e.meta.condition)&&i(e.meta.arg,a),n.util.resetApiState.match(e)&&function(){for(const e of Object.keys(s))o(e)}()}},en=({api:e,context:t,queryThunk:n,mutationThunk:a})=>{const r=X(n,a),s=G(n,a),i=V(n,a),l={};return(n,a)=>{var o,c;if(r(n)){const{requestId:r,arg:{endpointName:s,originalArgs:i}}=n.meta,o=t.endpointDefinitions[s],c=null==o?void 0:o.onQueryStarted;if(c){const t={},n=new Promise((e,n)=>{t.resolve=e,t.reject=n});n.catch(()=>{}),l[r]=t;const u=e.endpoints[s].select(kt(o)?i:r),d=a.dispatch((e,t,n)=>n),f={...a,getCacheEntry:()=>u(a.getState()),requestId:r,extra:d,updateCachedData:kt(o)?t=>a.dispatch(e.util.updateQueryData(s,i,t)):void 0,queryFulfilled:n};c(i,f)}}else if(i(n)){const{requestId:e,baseQueryMeta:t}=n.meta;null==(o=l[e])||o.resolve({data:n.payload,meta:t}),delete l[e]}else if(s(n)){const{requestId:e,rejectedWithValue:t,baseQueryMeta:a}=n.meta;null==(c=l[e])||c.reject({error:n.payload??n.error,isUnhandledError:!t,meta:a}),delete l[e]}}};function tn(e){const{reducerPath:t,queryThunk:n,api:a,context:r}=e,{apiUid:s}=r,i={invalidateTags:L(`${t}/invalidateTags`)},l=e=>e.type.startsWith(`${t}/`),o=[Zt,Kt,Yt,Jt,Xt,en];return{middleware:n=>{let i=!1;const u={...e,internalState:{currentSubscriptions:{}},refetchQuery:c,isThisApiSliceAction:l},d=o.map(e=>e(u)),f=Wt(u),m=(({reducerPath:e,context:t,api:n,refetchQuery:a,internalState:r})=>{const{removeQueryResult:s}=n.internalActions;function i(n,i){const l=n.getState()[e],o=l.queries,c=r.currentSubscriptions;t.batch(()=>{for(const e of Object.keys(c)){const t=o[e],r=c[e];r&&t&&((Object.values(r).some(e=>!0===e[i])||Object.values(r).every(e=>void 0===e[i])&&l.config[i])&&(0===ft(r)?n.dispatch(s({queryCacheKey:e})):"uninitialized"!==t.status&&n.dispatch(a(t))))}})}return(e,t)=>{gt.match(e)&&i(t,"refetchOnFocus"),yt.match(e)&&i(t,"refetchOnReconnect")}})(u);return e=>o=>{if(!J(o))return e(o);i||(i=!0,n.dispatch(a.internalActions.middlewareRegistered(s)));const c={...n,next:e},u=n.getState(),[p,h]=f(o,c,u);let g;if(g=p?e(o):h,n.getState()[t]&&(m(o,c,u),l(o)||r.hasRehydrationInfo(o)))for(const e of d)e(o,c,u);return g}},actions:i};function c(t){return e.api.endpoints[t.endpointName].initiate(t.originalArgs,{subscribe:!1,forceRefetch:!0})}}var nn=Symbol(),an=({createSelector:e=P}={})=>({name:nn,init(t,{baseQuery:n,tagTypes:a,reducerPath:r,serializeQueryArgs:s,keepUnusedDataFor:i,refetchOnMountOrArgChange:l,refetchOnFocus:o,refetchOnReconnect:c,invalidationBehavior:u,onSchemaFailure:d,catchSchemaFailure:f,skipSchemaValidation:m},p){D();const h=e=>e;Object.assign(t,{reducerPath:r,endpoints:{},internalActions:{onOnline:yt,onOffline:bt,onFocus:gt,onFocusLost:vt},util:{}});const g=function({serializeQueryArgs:e,reducerPath:t,createSelector:n}){const a=e=>$t,r=e=>Bt;return{buildQuerySelector:function(e,t){return c(e,t,s)},buildInfiniteQuerySelector:function(e,t){const{infiniteQueryOptions:n}=t;return c(e,t,function(e){const t={...e,...ct(e.status)},{isLoading:a,isError:r,direction:s}=t,i="forward"===s,l="backward"===s;return{...t,hasNextPage:u(n,t.data,t.originalArgs),hasPreviousPage:d(n,t.data,t.originalArgs),isFetchingNextPage:a&&i,isFetchingPreviousPage:a&&l,isFetchNextPageError:r&&i,isFetchPreviousPageError:r&&l}})},buildMutationSelector:function(){return e=>{let t;return t="object"==typeof e?Lt(e)??Ot:e,n(t===Ot?r:e=>{var n,a;return(null==(a=null==(n=i(e))?void 0:n.mutations)?void 0:a[t])??Bt},s)}},selectInvalidatedBy:function(e,n){const a=e[t],r=new Set;for(const t of n.filter(pt).map(Nt)){const e=a.provided.tags[t.type];if(!e)continue;let n=(void 0!==t.id?e[t.id]:mt(Object.values(e)))??[];for(const t of n)r.add(t)}return mt(Array.from(r.values()).map(e=>{const t=a.queries[e];return t?[{queryCacheKey:e,endpointName:t.endpointName,originalArgs:t.originalArgs}]:[]}))},selectCachedArgsForQuery:function(e,t){return Object.values(l(e)).filter(e=>(null==e?void 0:e.endpointName)===t&&"uninitialized"!==e.status).map(e=>e.originalArgs)},selectApiState:i,selectQueries:l,selectMutations:function(e){var t;return null==(t=i(e))?void 0:t.mutations},selectQueryEntry:o,selectConfig:function(e){var t;return null==(t=i(e))?void 0:t.config}};function s(e){return{...e,...ct(e.status)}}function i(e){return e[t]}function l(e){var t;return null==(t=i(e))?void 0:t.queries}function o(e,t){var n;return null==(n=l(e))?void 0:n[t]}function c(t,r,s){return i=>{if(i===Ot)return n(a,s);const l=e({queryArgs:i,endpointDefinition:r,endpointName:t});return n(e=>o(e,l)??$t,s)}}function u(e,t,n){return!!t&&null!=Et(e,t,n)}function d(e,t,n){return!(!t||!e.getPreviousPageParam)&&null!=At(e,t,n)}}({serializeQueryArgs:s,reducerPath:r,createSelector:e}),{selectInvalidatedBy:v,selectCachedArgsForQuery:y,buildQuerySelector:b,buildInfiniteQuerySelector:x,buildMutationSelector:_}=g;Ht(t.util,{selectInvalidatedBy:v,selectCachedArgsForQuery:y});const{queryThunk:k,infiniteQueryThunk:w,mutationThunk:N,patchQueryData:S,updateQueryData:T,upsertQueryData:j,prefetch:M,buildMatchThunkActions:C}=function({reducerPath:e,baseQuery:t,context:{endpointDefinitions:n},serializeQueryArgs:a,api:r,assertTagType:s,selectors:i,onSchemaFailure:l,catchSchemaFailure:o,skipSchemaValidation:c}){function u(e,t,n=0){const a=[t,...e];return n&&a.length>n?a.slice(0,-1):a}function d(e,t,n=0){const a=[...e,t];return n&&a.length>n?a.slice(1):a}const f=(e,t)=>e.query&&e[t]?e[t]:Ct,m=async(e,{signal:a,abort:r,rejectWithValue:s,fulfillWithValue:m,dispatch:h,getState:g,extra:v})=>{var y,b;const x=n[e.endpointName],{metaSchema:_,skipSchemaValidation:k=c}=x;try{let S=f(x,"transformResponse");const T={signal:a,abort:r,dispatch:h,getState:g,extra:v,endpoint:e.endpointName,type:e.type,forced:"query"===e.type?p(e,g()):void 0,queryCacheKey:"query"===e.type?e.queryCacheKey:void 0},j="query"===e.type?e[St]:void 0;let M;const C=async(t,n,a,r)=>{if(null==n&&t.pages.length)return Promise.resolve({data:t});const s={queryArg:e.originalArgs,pageParam:n},i=await I(s),l=r?u:d;return{data:{pages:l(t.pages,i.data,a),pageParams:l(t.pageParams,n,a)},meta:i.meta}};async function I(e){let n;const{extraOptions:a,argSchema:r,rawResponseSchema:s,responseSchema:i}=x;if(r&&!k&&(e=await Mt(r,e,"argSchema",{})),n=j?j():x.query?await t(x.query(e),T,a):await x.queryFn(e,T,a,e=>t(e,T,a)),n.error)throw new ht(n.error,n.meta);let{data:l}=n;s&&!k&&(l=await Mt(s,n.data,"rawResponseSchema",n.meta));let o=await S(l,n.meta,e);return i&&!k&&(o=await Mt(i,o,"responseSchema",n.meta)),{...n,data:o}}if("query"===e.type&&"infiniteQueryOptions"in x){const{infiniteQueryOptions:E}=x,{maxPages:A=1/0}=E;let R;const D={pages:[],pageParams:[]},L=null==(y=i.selectQueryEntry(g(),e.queryCacheKey))?void 0:y.data,P=p(e,g())&&!e.direction||!L?D:L;if("direction"in e&&e.direction&&P.pages.length){const F="backward"===e.direction,q=(F?At:Et)(E,P,e.originalArgs);R=await C(P,q,A,F)}else{const{initialPageParam:O=E.initialPageParam}=e,z=(null==L?void 0:L.pageParams)??[],$=z[0]??O,B=z.length;R=await C(P,$,A),j&&(R={data:R.data.pages[0]});for(let V=1;V<B;V++){const U=Et(E,R.data,e.originalArgs);R=await C(R.data,U,A)}}M=R}else M=await I(e.originalArgs);return _&&!k&&M.meta&&(M.meta=await Mt(_,M.meta,"metaSchema",M.meta)),m(M.data,It({fulfilledTimeStamp:Date.now(),baseQueryMeta:M.meta}))}catch(w){let Q=w;if(Q instanceof ht){let H=f(x,"transformErrorResponse");const{rawErrorResponseSchema:W,errorResponseSchema:K}=x;let{value:G,meta:X}=Q;try{W&&!k&&(G=await Mt(W,G,"rawErrorResponseSchema",X)),_&&!k&&(X=await Mt(_,X,"metaSchema",X));let Z=await H(G,X,e.originalArgs);return K&&!k&&(Z=await Mt(K,Z,"errorResponseSchema",X)),s(Z,It({baseQueryMeta:X}))}catch(N){Q=N}}try{if(Q instanceof jt){const Y={endpoint:e.endpointName,arg:e.originalArgs,type:e.type,queryCacheKey:"query"===e.type?e.queryCacheKey:void 0};null==(b=x.onSchemaFailure)||b.call(x,Q,Y),null==l||l(Q,Y);const{catchSchemaFailure:J=o}=x;if(J)return s(J(Q,Y),It({baseQueryMeta:Q._bqMeta}))}}catch(N){Q=N}throw Q}};function p(e,t){const n=i.selectQueryEntry(t,e.queryCacheKey),a=i.selectConfig(t).refetchOnMountOrArgChange,r=null==n?void 0:n.fulfilledTimeStamp,s=e.forceRefetch??(e.subscribe&&a);return!!s&&(!0===s||(Number(new Date)-Number(r))/1e3>=s)}const h=()=>q(`${e}/executeQuery`,m,{getPendingMeta({arg:e}){const t=n[e.endpointName];return It({startedTimeStamp:Date.now(),..._t(t)?{direction:e.direction}:{}})},condition(e,{getState:t}){var a;const r=t(),s=i.selectQueryEntry(r,e.queryCacheKey),l=null==s?void 0:s.fulfilledTimeStamp,o=e.originalArgs,c=null==s?void 0:s.originalArgs,u=n[e.endpointName],d=e.direction;return!(!Tt(e)&&("pending"===(null==s?void 0:s.status)||!p(e,r)&&(!xt(u)||!(null==(a=null==u?void 0:u.forceRefetch)?void 0:a.call(u,{currentArg:o,previousArg:c,endpointState:s,state:r})))&&l&&!d))},dispatchConditionRejection:!0}),g=h(),v=h(),y=q(`${e}/executeMutation`,m,{getPendingMeta:()=>It({startedTimeStamp:Date.now()})});function b(e){return t=>{var n,a;return(null==(a=null==(n=null==t?void 0:t.meta)?void 0:n.arg)?void 0:a.endpointName)===e}}return{queryThunk:g,mutationThunk:y,infiniteQueryThunk:v,prefetch:(e,t,n)=>(a,s)=>{const i=(e=>"force"in e)(n)&&n.force,l=(e=>"ifOlderThan"in e)(n)&&n.ifOlderThan,o=(n=!0)=>{const a={forceRefetch:n,isPrefetch:!0};return r.endpoints[e].initiate(t,a)},c=r.endpoints[e].select(t)(s());if(i)a(o());else if(l){const e=null==c?void 0:c.fulfilledTimeStamp;if(!e)return void a(o());(Number(new Date)-Number(new Date(e)))/1e3>=l&&a(o())}else a(o(!1))},updateQueryData:(e,t,n,a=!0)=>(s,i)=>{const l=r.endpoints[e].select(t)(i()),o={patches:[],inversePatches:[],undo:()=>s(r.util.patchQueryData(e,t,o.inversePatches,a))};if("uninitialized"===l.status)return o;let c;if("data"in l)if(Z(l.data)){const[e,t,a]=Y(l.data,n);o.patches.push(...t),o.inversePatches.push(...a),c=e}else c=n(l.data),o.patches.push({op:"replace",path:[],value:c}),o.inversePatches.push({op:"replace",path:[],value:l.data});return 0===o.patches.length||s(r.util.patchQueryData(e,t,o.patches,a)),o},upsertQueryData:(e,t,n)=>a=>a(r.endpoints[e].initiate(t,{subscribe:!1,forceRefetch:!0,[St]:()=>({data:n})})),patchQueryData:(e,t,i,l)=>(o,c)=>{const u=n[e],d=a({queryArgs:t,endpointDefinition:u,endpointName:e});if(o(r.internalActions.queryResultPatched({queryCacheKey:d,patches:i})),!l)return;const f=r.endpoints[e].select(t)(c()),m=wt(u.providesTags,f.data,void 0,t,{},s);o(r.internalActions.updateProvidedBy([{queryCacheKey:d,providedTags:m}]))},buildMatchThunkActions:function(e,t){return{matchPending:K(X(e),b(t)),matchFulfilled:K(V(e),b(t)),matchRejected:K(G(e),b(t))}}}}({baseQuery:n,reducerPath:r,context:p,api:t,serializeQueryArgs:s,assertTagType:h,selectors:g,onSchemaFailure:d,catchSchemaFailure:f,skipSchemaValidation:m}),{reducer:I,actions:E}=qt({context:p,queryThunk:k,mutationThunk:N,serializeQueryArgs:s,reducerPath:r,assertTagType:h,config:{refetchOnFocus:o,refetchOnReconnect:c,refetchOnMountOrArgChange:l,keepUnusedDataFor:i,reducerPath:r,invalidationBehavior:u}});Ht(t.util,{patchQueryData:S,updateQueryData:T,upsertQueryData:j,prefetch:M,resetApiState:E.resetApiState,upsertQueryEntries:E.cacheEntriesUpserted}),Ht(t.internalActions,E);const{middleware:A,actions:R}=tn({reducerPath:r,context:p,queryThunk:k,mutationThunk:N,infiniteQueryThunk:w,api:t,assertTagType:h,selectors:g});Ht(t.util,R),Ht(t,{reducer:I,middleware:A});const{buildInitiateQuery:L,buildInitiateInfiniteQuery:P,buildInitiateMutation:F,getRunningMutationThunk:O,getRunningMutationsThunk:z,getRunningQueriesThunk:$,getRunningQueryThunk:B}=function({serializeQueryArgs:e,queryThunk:t,infiniteQueryThunk:n,mutationThunk:a,api:r,context:s}){const i=new Map,l=new Map,{unsubscribeQueryResult:o,removeMutationResult:c,updateSubscriptionOptions:u}=r.internalActions;return{buildInitiateQuery:function(e,t){return d(e,t)},buildInitiateInfiniteQuery:function(e,t){return d(e,t)},buildInitiateMutation:function(e){return(t,{track:n=!0,fixedCacheKey:r}={})=>(s,i)=>{const o=a({type:"mutation",endpointName:e,originalArgs:t,track:n,fixedCacheKey:r}),u=s(o),{requestId:d,abort:f,unwrap:m}=u,p=(h=e=>({error:e}),u.unwrap().then(e=>({data:e})).catch(h));var h;const g=Object.assign(p,{arg:u.arg,requestId:d,abort:f,unwrap:m,reset:()=>{s(c({requestId:d,fixedCacheKey:r}))}}),v=l.get(s)||{};return l.set(s,v),v[d]=g,g.then(()=>{delete v[d],ft(v)||l.delete(s)}),r&&(v[r]=g,g.then(()=>{v[r]===g&&(delete v[r],ft(v)||l.delete(s))})),g}},getRunningQueryThunk:function(t,n){return a=>{var r;const l=s.endpointDefinitions[t],o=e({queryArgs:n,endpointDefinition:l,endpointName:t});return null==(r=i.get(a))?void 0:r[o]}},getRunningMutationThunk:function(e,t){return e=>{var n;return null==(n=l.get(e))?void 0:n[t]}},getRunningQueriesThunk:function(){return e=>Object.values(i.get(e)||{}).filter(pt)},getRunningMutationsThunk:function(){return e=>Object.values(l.get(e)||{}).filter(pt)}};function d(a,s){const l=(c,{subscribe:d=!0,forceRefetch:f,subscriptionOptions:m,[St]:p,...h}={})=>(g,v)=>{var y;const b=e({queryArgs:c,endpointDefinition:s,endpointName:a});let x;const _={...h,type:"query",subscribe:d,forceRefetch:f,subscriptionOptions:m,endpointName:a,originalArgs:c,queryCacheKey:b,[St]:p};if(xt(s))x=t(_);else{const{direction:e,initialPageParam:t}=h;x=n({..._,direction:e,initialPageParam:t})}const k=r.endpoints[a].select(c),w=g(x),N=k(v()),{requestId:S,abort:T}=w,j=N.requestId!==S,M=null==(y=i.get(g))?void 0:y[b],C=()=>k(v()),I=Object.assign(p?w.then(C):j&&!M?Promise.resolve(N):Promise.all([M,w]).then(C),{arg:c,requestId:S,subscriptionOptions:m,queryCacheKey:b,abort:T,async unwrap(){const e=await I;if(e.isError)throw e.error;return e.data},refetch:()=>g(l(c,{subscribe:!1,forceRefetch:!0})),unsubscribe(){d&&g(o({queryCacheKey:b,requestId:S}))},updateSubscriptionOptions(e){I.subscriptionOptions=e,g(u({endpointName:a,requestId:S,queryCacheKey:b,options:e}))}});if(!M&&!j&&!p){const e=(A=g,R={},(E=i).has(A)?E.get(A):E.set(A,R).get(A));e[b]=I,I.then(()=>{delete e[b],ft(e)||i.delete(g)})}var E,A,R;return I};return l}}({queryThunk:k,mutationThunk:N,infiniteQueryThunk:w,api:t,serializeQueryArgs:s,context:p});return Ht(t.util,{getRunningMutationThunk:O,getRunningMutationsThunk:z,getRunningQueryThunk:B,getRunningQueriesThunk:$}),{name:nn,injectEndpoint(e,n){var a;const r=(a=t.endpoints)[e]??(a[e]={});xt(n)&&Ht(r,{name:e,select:b(e,n),initiate:L(e,n)},C(k,e)),"mutation"===n.type&&Ht(r,{name:e,select:_(),initiate:F(e)},C(N,e)),_t(n)&&Ht(r,{name:e,select:x(e,n),initiate:P(e,n)},C(k,e))}}}});function rn(e){return e.replace(e[0],e[0].toUpperCase())}function sn(e){return"infinitequery"===e.type}function ln(e,...t){return Object.assign(e,...t)}an();var on=Symbol();function cn(e,t,n,a){const r=b.useMemo(()=>({queryArgs:e,serialized:"object"==typeof e?t({queryArgs:e,endpointDefinition:n,endpointName:a}):e}),[e,t,n,a]),s=b.useRef(r);return b.useEffect(()=>{s.current.serialized!==r.serialized&&(s.current=r)},[r]),s.current.serialized===r.serialized?s.current.queryArgs:e}function un(e){const t=b.useRef(e);return b.useEffect(()=>{le(t.current,e)||(t.current=e)},[e]),le(t.current,e)?t.current:e}var dn=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),fn=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),mn=(()=>dn||fn?b.useLayoutEffect:b.useEffect)(),pn=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:void 0===e.data,status:ot.pending}:e;function hn(e,...t){const n={};return t.forEach(t=>{n[t]=e[t]}),n}var gn=["data","status","isLoading","isSuccess","isError","error"];var vn=Symbol(),yn=Qt(an(),(({batch:e=ae,hooks:t={useDispatch:ie,useSelector:se,useStore:re},createSelector:n=P,unstable__sideEffectsInRender:a=!1,...r}={})=>({name:vn,init(r,{serializeQueryArgs:s},i){const l=r,{buildQueryHooks:o,buildInfiniteQueryHooks:c,buildMutationHook:u,usePrefetch:d}=function({api:e,moduleOptions:{batch:t,hooks:{useDispatch:n,useSelector:a,useStore:r},unstable__sideEffectsInRender:s,createSelector:i},serializeQueryArgs:l,context:o}){const c=s?e=>e():b.useEffect;return{buildQueryHooks:function(a){const r=(e,t={})=>{const[n]=f(a,e,t);return p(n),b.useMemo(()=>({refetch:()=>h(n)}),[n])},s=({refetchOnReconnect:r,refetchOnFocus:s,pollingInterval:i=0,skipPollingIfUnfocused:l=!1}={})=>{const{initiate:o}=e.endpoints[a],u=n(),[d,f]=b.useState(on),m=b.useRef(void 0),p=un({refetchOnReconnect:r,refetchOnFocus:s,pollingInterval:i,skipPollingIfUnfocused:l});c(()=>{var e,t;const n=null==(e=m.current)?void 0:e.subscriptionOptions;p!==n&&(null==(t=m.current)||t.updateSubscriptionOptions(p))},[p]);const h=b.useRef(p);c(()=>{h.current=p},[p]);const g=b.useCallback(function(e,n=!1){let a;return t(()=>{var t;null==(t=m.current)||t.unsubscribe(),m.current=a=u(o(e,{subscriptionOptions:h.current,forceRefetch:!n})),f(e)}),a},[u,o]),v=b.useCallback(()=>{var t,n;(null==(t=m.current)?void 0:t.queryCacheKey)&&u(e.internalActions.removeQueryResult({queryCacheKey:null==(n=m.current)?void 0:n.queryCacheKey}))},[u]);return b.useEffect(()=>()=>{var e;null==(e=null==m?void 0:m.current)||e.unsubscribe()},[]),b.useEffect(()=>{d===on||m.current||g(d,!0)},[d,g]),b.useMemo(()=>[g,d,{reset:v}],[g,d,v])},i=m(a,u);return{useQueryState:i,useQuerySubscription:r,useLazyQuerySubscription:s,useLazyQuery(e){const[t,n,{reset:a}]=s(e),r=i(n,{...e,skip:n===on}),l=b.useMemo(()=>({lastArg:n}),[n]);return b.useMemo(()=>[t,{...r,reset:a},l],[t,r,a,l])},useQuery(e,t){const n=r(e,t),a=i(e,{selectFromResult:e===Ot||(null==t?void 0:t.skip)?void 0:pn,...t}),s=hn(a,...gn);return b.useDebugValue(s),b.useMemo(()=>({...a,...n}),[a,n])}}},buildInfiniteQueryHooks:function(e){const n=(n,a={})=>{const[r,s,i,l]=f(e,n,a),u=b.useRef(l);c(()=>{u.current=l},[l]);const d=b.useCallback(function(e,n){let a;return t(()=>{var t;null==(t=r.current)||t.unsubscribe(),r.current=a=s(i(e,{subscriptionOptions:u.current,direction:n}))}),a},[r,s,i]);p(r);const m=cn(a.skip?Ot:n,Ut,o.endpointDefinitions[e],e),g=b.useCallback(()=>h(r),[r]);return b.useMemo(()=>({trigger:d,refetch:g,fetchNextPage:()=>d(m,"forward"),fetchPreviousPage:()=>d(m,"backward")}),[g,d,m])},a=m(e,d);return{useInfiniteQueryState:a,useInfiniteQuerySubscription:n,useInfiniteQuery(e,t){const{refetch:r,fetchNextPage:s,fetchPreviousPage:i}=n(e,t),l=a(e,{selectFromResult:e===Ot||(null==t?void 0:t.skip)?void 0:pn,...t}),o=hn(l,...gn,"hasNextPage","hasPreviousPage");return b.useDebugValue(o),b.useMemo(()=>({...l,fetchNextPage:s,fetchPreviousPage:i,refetch:r}),[l,s,i,r])}}},buildMutationHook:function(r){return({selectFromResult:s,fixedCacheKey:l}={})=>{const{select:o,initiate:c}=e.endpoints[r],u=n(),[d,f]=b.useState();b.useEffect(()=>()=>{(null==d?void 0:d.arg.fixedCacheKey)||null==d||d.reset()},[d]);const m=b.useCallback(function(e){const t=u(c(e,{fixedCacheKey:l}));return f(t),t},[u,c,l]),{requestId:p}=d||{},h=b.useMemo(()=>o({fixedCacheKey:l,requestId:null==d?void 0:d.requestId}),[l,d,o]),g=b.useMemo(()=>s?i([h],s):h,[s,h]),v=a(g,le),y=null==l?null==d?void 0:d.arg.originalArgs:void 0,x=b.useCallback(()=>{t(()=>{d&&f(void 0),l&&u(e.internalActions.removeMutationResult({requestId:p,fixedCacheKey:l}))})},[u,l,d,p]),_=hn(v,...gn,"endpointName");b.useDebugValue(_);const k=b.useMemo(()=>({...v,originalArgs:y,reset:x}),[v,y,x]);return b.useMemo(()=>[m,k],[m,k])}},usePrefetch:function(t,a){const r=n(),s=un(a);return b.useCallback((n,a)=>r(e.util.prefetch(t,n,{...s,...a})),[t,r,s])}};function u(e,t,n){if((null==t?void 0:t.endpointName)&&e.isUninitialized){const{endpointName:e}=t,a=o.endpointDefinitions[e];n!==Ot&&l({queryArgs:t.originalArgs,endpointDefinition:a,endpointName:e})===l({queryArgs:n,endpointDefinition:a,endpointName:e})&&(t=void 0)}let a=e.isSuccess?e.data:null==t?void 0:t.data;void 0===a&&(a=e.data);const r=void 0!==a,s=e.isLoading,i=(!t||t.isLoading||t.isUninitialized)&&!r&&s,c=e.isSuccess||r&&(s&&!(null==t?void 0:t.isError)||e.isUninitialized);return{...e,data:a,currentData:e.data,isFetching:s,isLoading:i,isSuccess:c}}function d(e,t,n){if((null==t?void 0:t.endpointName)&&e.isUninitialized){const{endpointName:e}=t,a=o.endpointDefinitions[e];n!==Ot&&l({queryArgs:t.originalArgs,endpointDefinition:a,endpointName:e})===l({queryArgs:n,endpointDefinition:a,endpointName:e})&&(t=void 0)}let a=e.isSuccess?e.data:null==t?void 0:t.data;void 0===a&&(a=e.data);const r=void 0!==a,s=e.isLoading,i=(!t||t.isLoading||t.isUninitialized)&&!r&&s,c=e.isSuccess||s&&r;return{...e,data:a,currentData:e.data,isFetching:s,isLoading:i,isSuccess:c}}function f(t,a,{refetchOnReconnect:r,refetchOnFocus:s,refetchOnMountOrArgChange:i,skip:l=!1,pollingInterval:u=0,skipPollingIfUnfocused:d=!1,...f}={}){const{initiate:m}=e.endpoints[t],p=n(),h=b.useRef(void 0);if(!h.current){const t=p(e.internalActions.internal_getRTKQSubscriptions());h.current=t}const g=cn(l?Ot:a,Ut,o.endpointDefinitions[t],t),v=un({refetchOnReconnect:r,refetchOnFocus:s,pollingInterval:u,skipPollingIfUnfocused:d}),y=un(f.initialPageParam),x=b.useRef(void 0);let{queryCacheKey:_,requestId:k}=x.current||{},w=!1;_&&k&&(w=h.current.isRequestSubscribed(_,k));const N=!w&&void 0!==x.current;return c(()=>{N&&(x.current=void 0)},[N]),c(()=>{var e;const n=x.current;if(g===Ot)return null==n||n.unsubscribe(),void(x.current=void 0);const a=null==(e=x.current)?void 0:e.subscriptionOptions;if(n&&n.arg===g)v!==a&&n.updateSubscriptionOptions(v);else{null==n||n.unsubscribe();const e=p(m(g,{subscriptionOptions:v,forceRefetch:i,...sn(o.endpointDefinitions[t])?{initialPageParam:y}:{}}));x.current=e}},[p,m,i,g,v,N,y,t]),[x,p,m,v]}function m(t,n){return(s,{skip:c=!1,selectFromResult:u}={})=>{const{select:d}=e.endpoints[t],f=cn(c?Ot:s,l,o.endpointDefinitions[t],t),m=b.useRef(void 0),p=b.useMemo(()=>i([d(f),(e,t)=>t,e=>f],n,{memoizeOptions:{resultEqualityCheck:le}}),[d,f]),h=b.useMemo(()=>u?i([p],u,{devModeChecks:{identityFunctionCheck:"never"}}):p,[p,u]),g=a(e=>h(e,m.current),le),v=r(),y=p(v.getState(),m.current);return mn(()=>{m.current=y},[y]),g}}function p(e){b.useEffect(()=>()=>{var t,n;null==(n=null==(t=e.current)?void 0:t.unsubscribe)||n.call(t),e.current=void 0},[e])}function h(e){if(!e.current)throw new Error(R(38));return e.current.refetch()}}({api:r,moduleOptions:{batch:e,hooks:t,unstable__sideEffectsInRender:a,createSelector:n},serializeQueryArgs:s,context:i});return ln(l,{usePrefetch:d}),ln(i,{batch:e}),{injectEndpoint(e,t){if("query"===t.type){const{useQuery:t,useLazyQuery:n,useLazyQuerySubscription:a,useQueryState:s,useQuerySubscription:i}=o(e);ln(l.endpoints[e],{useQuery:t,useLazyQuery:n,useLazyQuerySubscription:a,useQueryState:s,useQuerySubscription:i}),r[`use${rn(e)}Query`]=t,r[`useLazy${rn(e)}Query`]=n}if(function(e){return"mutation"===e.type}(t)){const t=u(e);ln(l.endpoints[e],{useMutation:t}),r[`use${rn(e)}Mutation`]=t}else if(sn(t)){const{useInfiniteQuery:t,useInfiniteQuerySubscription:n,useInfiniteQueryState:a}=c(e);ln(l.endpoints[e],{useInfiniteQuery:t,useInfiniteQuerySubscription:n,useInfiniteQueryState:a}),r[`use${rn(e)}InfiniteQuery`]=t}}}}}))());const bn={retries:3,retryDelay:(e,t)=>{const n=fe.exponentialDelay(e,t);return Math.max(n,500)},shouldResetTimeout:!0,retryCondition:e=>{var t;const n=((null==(t=null==e?void 0:e.config)?void 0:t.method)||"").toUpperCase();if(!("GET"===n||"HEAD"===n||"OPTIONS"===n||"PUT"===n||"DELETE"===n))return!1;if(!(null==e?void 0:e.response))return!0;const a=e.response.status;return 429===a||a>=500&&a<=599}};const xn=v(me()),_n=e=>xn.stringify(e,{arrayFormat:"repeat",skipNulls:!0,encodeValuesOnly:!0,serializeDate:e=>e.toISOString()}),kn=pe.create({baseURL:"https://192.168.2.80:5001",withCredentials:!0,paramsSerializer:_n,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json","X-Client-Type":"web"}});fe(kn,bn);const wn=O({name:"ui",initialState:{pending:0,lockUi:!1},reducers:{incPending(e){e.pending+=1,e.lockUi=e.pending>0},decPending(e){e.pending=Math.max(0,e.pending-1),e.lockUi=e.pending>0}}}),{incPending:Nn,decPending:Sn}=wn.actions,Tn=wn.reducer,jn=e=>e.ui.lockUi;function Mn(e){var t;if(!e)return"Request failed";if("string"==typeof e)return e;const n=e;if(n.data&&"object"==typeof n.data){if("string"==typeof n.data.errorMessage&&n.data.errorMessage)return n.data.errorMessage;if("string"==typeof n.data.message&&n.data.message)return n.data.message}if("string"==typeof n.errorMessage&&n.errorMessage)return n.errorMessage;if("string"==typeof n.message&&n.message)return n.message;if(null==(t=n.response)?void 0:t.data)return Mn(n.response.data);try{const t=JSON.stringify(e);return"{}"===t||"null"===t?"Request failed":t}catch{return"Request failed"}}function Cn(e){if(void 0!==e)return"string"==typeof e?{text:e}:e}const In={show:(e,t)=>a(e,t),success:(e,t)=>a.success(e,t),error:(e,t)=>a.error(e,t),loading:(e,t)=>a.loading(e,t),dismiss:e=>e?a.dismiss(e):a.dismiss(),async run(e,t={},n){const{id:r,silent:s,toastOptions:i}=n??{},l=Cn(t.loading),o=Cn(t.success),c=Cn(t.error);if(!s&&(null==l?void 0:l.text)){const e={duration:1/0,...i,...l.toastOptions,id:r};a.loading(l.text,e)}try{const t=await e;if(!s&&o)if(o.text){const e={...i,...o.toastOptions,id:r};a.success(o.text,e)}else(null==l?void 0:l.text)&&a.dismiss(r);else!s&&(null==l?void 0:l.text)&&a.dismiss(r);return t}catch(u){if(!s){if("error"in t&&void 0!==c){const e=void 0!==c.text&&""!==c.text?c.text:Mn(u),t={...i,...c.toastOptions,id:r};a.error(e,t)}else(null==l?void 0:l.text)&&a.dismiss(r)}throw u}}},En=e=>!!e&&"object"==typeof e&&"success"in e&&"boolean"==typeof e.success,An=e=>{const{status:t,data:n}=e;return{error:void 0===t?{data:n}:{status:t,data:n}}},Rn=e=>({data:e}),Dn={CHARTS:{MULTI:"/charts/multi"},DATABASES:{ENTITIES:"metadata/database/entities",FIELDS:"metadata/database/fields",All:"metadata/databases/all",CREATE:"metadata/database/create",UPDATE:e=>`metadata/database/update/${e}`,DELETE:e=>`metadata/database/delete/${e}`,TEST_CONNECTION:"metadata/database/test-connection"},TEMPLATES:{All:"/templates/all",CREATE:"/templates/create",UPDATE:e=>`/templates/update/${e}`,DELETE:e=>`/templates/delete/${e}`},USER:{LOGIN:"/api/user/login",LOGOUT:"/api/user/logout",REGISTER:"/api/user/register",RESET_PASSWORD:"/api/user/reset-password",INITIATE_PASSWORD_RESET:"/api/user/initiate-password-reset",ME:"/api/user/me"}},Ln=yn({reducerPath:"authApi",baseQuery:async(e,t)=>{var n,a,r;const s=e.method??"get",{url:i,data:l,params:o,headers:c,lockUi:u=!1}=e;u&&t.dispatch(Nn());try{const e={...c??{}};void 0===l||e["Content-Type"]||(e["Content-Type"]="application/json");const n={url:i,method:s,withCredentials:!0,signal:t.signal,...void 0!==l?{data:l}:{},...void 0!==o?{params:o}:{},...e&&Object.keys(e).length?{headers:e}:{}},a=await kn.request(n),r=a.data;return En(r)?r.success?Rn(r.data):An({status:a.status,data:r}):Rn(r)}catch(d){const e=d,t=(null==(n=e.response)?void 0:n.data)??e.message;In.error(Mn(t));const s=null==(a=e.response)?void 0:a.status,i=(null==(r=e.response)?void 0:r.data)??e.message;return An({status:s,data:i})}finally{u&&t.dispatch(Sn())}},endpoints:e=>({login:e.mutation({query:e=>({url:Dn.USER.LOGIN,method:"post",data:e})}),logout:e.mutation({query:()=>({url:Dn.USER.LOGOUT,method:"post"})}),me:e.query({query:()=>({url:Dn.USER.ME,method:"get"})}),register:e.mutation({query:e=>({url:Dn.USER.REGISTER,method:"post",data:e})}),initiatePasswordReset:e.mutation({query:e=>({url:Dn.USER.INITIATE_PASSWORD_RESET,method:"post",data:e})}),resetPassword:e.mutation({query:e=>({url:Dn.USER.RESET_PASSWORD,method:"post",data:e})})})}),{useLoginMutation:Pn,useLogoutMutation:Fn}=Ln,qn=O({name:"auth",initialState:{user:null,isAuthenticated:!1},reducers:{setCredentials:(e,t)=>{e.user=t.payload??null,e.isAuthenticated=!!t.payload},resetAuthState:e=>{e.user=null,e.isAuthenticated=!1}},extraReducers:e=>{e.addMatcher(Ln.endpoints.logout.matchFulfilled,e=>{e.user=null,e.isAuthenticated=!1})}}),{setCredentials:On,resetAuthState:zn}=qn.actions,$n=e=>e.auth.isAuthenticated,Bn=e=>{var t,n;return(null==(t=e.auth.user)?void 0:t.fullName)??(null==(n=e.auth.user)?void 0:n.email)??null},Vn=oe({key:"auth",storage:it,whitelist:["user","isAuthenticated"]},qn.reducer),Un="_btnSend_1dweq_3",Qn=ie.withTypes(),Hn=se.withTypes(),Wn=()=>{const e=Qn(),t=y(),[a]=Fn();return n.jsx("button",{className:Un,onClick:async()=>{try{await a().unwrap()}catch(n){}e(zn()),t(He,{replace:!0})},children:""})},Kn="_btnSend_3uqwi_3",Gn=()=>n.jsx("button",{className:Kn,children:n.jsx(_,{to:He,children:n.jsx("span",{children:""})})}),Xn=b.createContext({theme:"dark",setTheme:()=>{}}),Zn=({children:e})=>{const[t,a]=b.useState(()=>localStorage.getItem("theme")||"system"),r=e=>{const t="system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e,n=document.documentElement;n.setAttribute("shared-theme",t),n.classList.toggle("dark","dark"===t)};return b.useEffect(()=>{r(t);const e=window.matchMedia("(prefers-color-scheme: dark)"),n=()=>{"system"===t&&r("system")};return e.addEventListener("change",n),()=>e.removeEventListener("change",n)},[t]),n.jsx(Xn.Provider,{value:{theme:t,setTheme:e=>{localStorage.setItem("theme",e),a(e),r(e)}},children:e})},Yn=()=>b.useContext(Xn),Jn="_switch_1ehdt_1",ea="_moon_1ehdt_69",ta="_icons_1ehdt_99",na="_icon_1ehdt_99",aa="_sun_1ehdt_133",ra="_thumb_1ehdt_153";function sa(e){return n.jsxs("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...e,children:[n.jsx("circle",{cx:"12",cy:"12",r:"5",fill:"currentColor"}),n.jsxs("g",{stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:[n.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"4"}),n.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"23"}),n.jsx("line",{x1:"1",y1:"12",x2:"4",y2:"12"}),n.jsx("line",{x1:"20",y1:"12",x2:"23",y2:"12"}),n.jsx("line",{x1:"4.22",y1:"4.22",x2:"6.34",y2:"6.34"}),n.jsx("line",{x1:"17.66",y1:"17.66",x2:"19.78",y2:"19.78"}),n.jsx("line",{x1:"4.22",y1:"19.78",x2:"6.34",y2:"17.66"}),n.jsx("line",{x1:"17.66",y1:"6.34",x2:"19.78",y2:"4.22"})]})]})}function ia(e){return n.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",...e,children:n.jsx("path",{fill:"currentColor",d:"M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z"})})}function la({className:e}){const{theme:t,setTheme:a}=Yn(),r="dark"===t;return n.jsx(n.Fragment,{children:n.jsxs("button",{type:"button",role:"switch","aria-checked":r,"aria-label":" ","data-checked":r?"true":"false",className:`${Jn} ${e??""}`,onClick:()=>a(r?"light":"dark"),children:[n.jsxs("span",{className:ta,"aria-hidden":"true",children:[n.jsx(sa,{className:`${na} ${aa}`}),n.jsx(ia,{className:`${na} ${ea}`})]}),n.jsx("span",{className:ra,"aria-hidden":"true"})]})})}const oa=({className:e})=>{const t=se($n);return n.jsxs("header",{className:`${Ze} ${e}`,children:[t&&n.jsx(Wn,{}),!t&&n.jsx(Gn,{}),n.jsx(la,{})]})},ca=({className:e})=>{const{theme:t}=Yn(),a=se($n),r=se(Bn);return n.jsxs("header",{className:`${$e} ${e}`,"data-theme":t,children:[a&&n.jsx("div",{className:Ve,children:n.jsx("span",{children:r})}),n.jsx(Xe,{}),n.jsx(oa,{className:Be})]})},ua="_container_6joxe_3",da="_infoBlock_6joxe_49",fa="_safetyText_6joxe_63",ma=({className:e})=>{const{theme:t}=Yn();return n.jsxs("div",{className:`${ua} ${e}`,"data-theme":t,children:[n.jsx(Xe,{}),n.jsxs("div",{className:da,children:[n.jsxs("span",{children:["MIRAX ",n.jsx("span",{className:fa,children:"safety"})]}),n.jsx("span",{children:"+7 (342) 259 88 55"}),n.jsx("span",{children:"info@mirax-safety.com"})]})]})},pa="_topNav_1445s_1",ha="_topNav__content_1445s_45",ga="_nav_1445s_57",va="_link_1445s_67",ya="_active_1445s_123",ba=[{to:Qe,label:"",end:!0},{to:Ke,label:""}];function xa(){const{theme:e}=Yn();return n.jsx("nav",{className:pa,"data-theme":e,children:n.jsx("div",{className:ha,children:n.jsx("nav",{className:ga,"aria-label":" ",children:ba.map(({to:e,label:t,end:a})=>n.jsx(_,{to:e,...a?{end:!0}:{},className:({isActive:e})=>e?`${va} ${ya}`:va,children:t},e))})})})}const _a=()=>n.jsxs("div",{className:Oe,children:[n.jsx(ca,{}),n.jsx(xa,{}),n.jsx("main",{className:ze,children:n.jsx(k,{})}),n.jsx(ma,{})]});var ka=e=>"checkbox"===e.type,wa=e=>e instanceof Date,Na=e=>null==e;const Sa=e=>"object"==typeof e;var Ta=e=>!Na(e)&&!Array.isArray(e)&&Sa(e)&&!wa(e),ja="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function Ma(e){let t;const n=Array.isArray(e),a="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(ja&&(e instanceof Blob||a)||!n&&!Ta(e))return e;if(t=n?[]:Object.create(Object.getPrototypeOf(e)),n||(e=>{const t=e.constructor&&e.constructor.prototype;return Ta(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=Ma(e[n]));else t=e}return t}var Ca=e=>/^\w*$/.test(e),Ia=e=>void 0===e,Ea=e=>Array.isArray(e)?e.filter(Boolean):[],Aa=e=>Ea(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ra=(e,t,n)=>{if(!t||!Ta(e))return n;const a=(Ca(t)?[t]:Aa(t)).reduce((e,t)=>Na(e)?e:e[t],e);return Ia(a)||a===e?Ia(e[t])?n:e[t]:a},Da=e=>"boolean"==typeof e,La=(e,t,n)=>{let a=-1;const r=Ca(t)?[t]:Aa(t),s=r.length,i=s-1;for(;++a<s;){const t=r[a];let s=n;if(a!==i){const n=e[t];s=Ta(n)||Array.isArray(n)?n:isNaN(+r[a+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=s,e=e[t]}};const Pa="blur",Fa="focusout",qa="onBlur",Oa="onChange",za="onSubmit",$a="onTouched",Ba="all",Va="max",Ua="min",Qa="maxLength",Ha="minLength",Wa="pattern",Ka="required",Ga="validate";w.createContext(null).displayName="HookFormContext";const Xa="undefined"!=typeof window?w.useLayoutEffect:w.useEffect;var Za=e=>"string"==typeof e,Ya=e=>Na(e)||!Sa(e);function Ja(e,t,n=new WeakSet){if(Ya(e)||Ya(t))return e===t;if(wa(e)&&wa(t))return e.getTime()===t.getTime();const a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const s of a){const a=e[s];if(!r.includes(s))return!1;if("ref"!==s){const e=t[s];if(wa(a)&&wa(e)||Ta(a)&&Ta(e)||Array.isArray(a)&&Array.isArray(e)?!Ja(a,e,n):a!==e)return!1}}return!0}var er=(e,t,n,a,r)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[a]:r||!0}}:{},tr=e=>Array.isArray(e)?e:[e],nr=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},ar=e=>Ta(e)&&!Object.keys(e).length,rr=e=>"file"===e.type,sr=e=>"function"==typeof e,ir=e=>{if(!ja)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},lr=e=>"select-multiple"===e.type,or=e=>"radio"===e.type,cr=e=>ir(e)&&e.isConnected;function ur(e,t){const n=Array.isArray(t)?t:Ca(t)?[t]:Aa(t),a=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let a=0;for(;a<n;)e=Ia(e)?a++:e[t[a++]];return e}(e,n),r=n.length-1,s=n[r];return a&&delete a[s],0!==r&&(Ta(a)&&ar(a)||Array.isArray(a)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ia(e[t]))return!1;return!0}(a))&&ur(e,n.slice(0,-1)),e}var dr=e=>{for(const t in e)if(sr(e[t]))return!0;return!1};function fr(e,t={}){const n=Array.isArray(e);if(Ta(e)||n)for(const a in e)Array.isArray(e[a])||Ta(e[a])&&!dr(e[a])?(t[a]=Array.isArray(e[a])?[]:{},fr(e[a],t[a])):Na(e[a])||(t[a]=!0);return t}function mr(e,t,n){const a=Array.isArray(e);if(Ta(e)||a)for(const r in e)Array.isArray(e[r])||Ta(e[r])&&!dr(e[r])?Ia(t)||Ya(n[r])?n[r]=Array.isArray(e[r])?fr(e[r],[]):{...fr(e[r])}:mr(e[r],Na(t)?{}:t[r],n[r]):n[r]=!Ja(e[r],t[r]);return n}var pr=(e,t)=>mr(e,t,fr(t));const hr={value:!1,isValid:!1},gr={value:!0,isValid:!0};var vr=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ia(e[0].attributes.value)?Ia(e[0].value)||""===e[0].value?gr:{value:e[0].value,isValid:!0}:gr:hr}return hr},yr=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:a})=>Ia(e)?e:t?""===e?NaN:e?+e:e:n&&Za(e)?new Date(e):a?a(e):e;const br={isValid:!1,value:null};var xr=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,br):br;function _r(e){const t=e.ref;return rr(t)?t.files:or(t)?xr(e.refs).value:lr(t)?[...t.selectedOptions].map(({value:e})=>e):ka(t)?vr(e.refs).value:yr(Ia(t.value)?e.ref.value:t.value,e)}var kr=e=>e instanceof RegExp,wr=e=>Ia(e)?e:kr(e)?e.source:Ta(e)?kr(e.value)?e.value.source:e.value:e,Nr=e=>({isOnSubmit:!e||e===za,isOnBlur:e===qa,isOnChange:e===Oa,isOnAll:e===Ba,isOnTouch:e===$a});const Sr="AsyncFunction";var Tr=e=>!!e&&!!e.validate&&!!(sr(e.validate)&&e.validate.constructor.name===Sr||Ta(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===Sr)),jr=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const Mr=(e,t,n,a)=>{for(const r of n||Object.keys(e)){const n=Ra(e,r);if(n){const{_f:e,...s}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],r)&&!a)return!0;if(e.ref&&t(e.ref,e.name)&&!a)return!0;if(Mr(s,t))break}else if(Ta(s)&&Mr(s,t))break}}};function Cr(e,t,n){const a=Ra(e,n);if(a||Ca(n))return{error:a,name:n};const r=n.split(".");for(;r.length;){const a=r.join("."),s=Ra(t,a),i=Ra(e,a);if(s&&!Array.isArray(s)&&n!==a)return{name:n};if(i&&i.type)return{name:a,error:i};if(i&&i.root&&i.root.type)return{name:`${a}.root`,error:i.root};r.pop()}return{name:n}}var Ir=(e,t,n)=>{const a=tr(Ra(e,n));return La(a,"root",t[n]),La(e,n,a),e},Er=e=>Za(e);function Ar(e,t,n="validate"){if(Er(e)||Array.isArray(e)&&e.every(Er)||Da(e)&&!e)return{type:n,message:Er(e)?e:"",ref:t}}var Rr=e=>Ta(e)&&!kr(e)?e:{value:e,message:""},Dr=async(e,t,n,a,r,s)=>{const{ref:i,refs:l,required:o,maxLength:c,minLength:u,min:d,max:f,pattern:m,validate:p,name:h,valueAsNumber:g,mount:v}=e._f,y=Ra(n,h);if(!v||t.has(h))return{};const b=l?l[0]:i,x=e=>{r&&b.reportValidity&&(b.setCustomValidity(Da(e)?"":e||""),b.reportValidity())},_={},k=or(i),w=ka(i),N=k||w,S=(g||rr(i))&&Ia(i.value)&&Ia(y)||ir(i)&&""===i.value||""===y||Array.isArray(y)&&!y.length,T=er.bind(null,h,a,_),j=(e,t,n,a=Qa,r=Ha)=>{const s=e?t:n;_[h]={type:e?a:r,message:s,ref:i,...T(e?a:r,s)}};if(s?!Array.isArray(y)||!y.length:o&&(!N&&(S||Na(y))||Da(y)&&!y||w&&!vr(l).isValid||k&&!xr(l).isValid)){const{value:e,message:t}=Er(o)?{value:!!o,message:o}:Rr(o);if(e&&(_[h]={type:Ka,message:t,ref:b,...T(Ka,t)},!a))return x(t),_}if(!(S||Na(d)&&Na(f))){let e,t;const n=Rr(f),r=Rr(d);if(Na(y)||isNaN(y)){const a=i.valueAsDate||new Date(y),s=e=>new Date((new Date).toDateString()+" "+e),l="time"==i.type,o="week"==i.type;Za(n.value)&&y&&(e=l?s(y)>s(n.value):o?y>n.value:a>new Date(n.value)),Za(r.value)&&y&&(t=l?s(y)<s(r.value):o?y<r.value:a<new Date(r.value))}else{const a=i.valueAsNumber||(y?+y:y);Na(n.value)||(e=a>n.value),Na(r.value)||(t=a<r.value)}if((e||t)&&(j(!!e,n.message,r.message,Va,Ua),!a))return x(_[h].message),_}if((c||u)&&!S&&(Za(y)||s&&Array.isArray(y))){const e=Rr(c),t=Rr(u),n=!Na(e.value)&&y.length>+e.value,r=!Na(t.value)&&y.length<+t.value;if((n||r)&&(j(n,e.message,t.message),!a))return x(_[h].message),_}if(m&&!S&&Za(y)){const{value:e,message:t}=Rr(m);if(kr(e)&&!y.match(e)&&(_[h]={type:Wa,message:t,ref:i,...T(Wa,t)},!a))return x(t),_}if(p)if(sr(p)){const e=Ar(await p(y,n),b);if(e&&(_[h]={...e,...T(Ga,e.message)},!a))return x(e.message),_}else if(Ta(p)){let e={};for(const t in p){if(!ar(e)&&!a)break;const r=Ar(await p[t](y,n),b,t);r&&(e={...r,...T(t,r.message)},x(r.message),a&&(_[h]=e))}if(!ar(e)&&(_[h]={ref:b,...e},!a))return _}return x(!0),_};const Lr={mode:za,reValidateMode:Oa,shouldFocusError:!0};function Pr(e={}){let t,n={...Lr,...e},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:sr(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},r={},s=(Ta(n.defaultValues)||Ta(n.values))&&Ma(n.defaultValues||n.values)||{},i=n.shouldUnregister?{}:Ma(s),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const f={array:nr(),state:nr()},m=n.criteriaMode===Ba,p=async e=>{if(!n.disabled&&(u.isValid||d.isValid||e)){const e=n.resolver?ar((await b()).errors):await x(r,!0);e!==a.isValid&&f.state.next({isValid:e})}},h=(e,t)=>{!n.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((e||Array.from(o.mount)).forEach(e=>{e&&(t?La(a.validatingFields,e,t):ur(a.validatingFields,e))}),f.state.next({validatingFields:a.validatingFields,isValidating:!ar(a.validatingFields)}))},g=(e,t,n,a)=>{const o=Ra(r,e);if(o){const r=Ra(i,e,Ia(n)?Ra(s,e):n);Ia(r)||a&&a.defaultChecked||t?La(i,e,t?r:_r(o._f)):w(e,r),l.mount&&p()}},v=(e,t,r,i,l)=>{let o=!1,c=!1;const m={name:e};if(!n.disabled){if(!r||i){(u.isDirty||d.isDirty)&&(c=a.isDirty,a.isDirty=m.isDirty=_(),o=c!==m.isDirty);const n=Ja(Ra(s,e),t);c=!!Ra(a.dirtyFields,e),n?ur(a.dirtyFields,e):La(a.dirtyFields,e,!0),m.dirtyFields=a.dirtyFields,o=o||(u.dirtyFields||d.dirtyFields)&&c!==!n}if(r){const t=Ra(a.touchedFields,e);t||(La(a.touchedFields,e,r),m.touchedFields=a.touchedFields,o=o||(u.touchedFields||d.touchedFields)&&t!==r)}o&&l&&f.state.next(m)}return o?m:{}},y=(e,r,s,i)=>{const l=Ra(a.errors,e),o=(u.isValid||d.isValid)&&Da(r)&&a.isValid!==r;var m;if(n.delayError&&s?(m=()=>((e,t)=>{La(a.errors,e,t),f.state.next({errors:a.errors})})(e,s),t=e=>{clearTimeout(c),c=setTimeout(m,e)},t(n.delayError)):(clearTimeout(c),t=null,s?La(a.errors,e,s):ur(a.errors,e)),(s?!Ja(l,s):l)||!ar(i)||o){const t={...i,...o&&Da(r)?{isValid:r}:{},errors:a.errors,name:e};a={...a,...t},f.state.next(t)}},b=async e=>{h(e,!0);const t=await n.resolver(i,n.context,((e,t,n,a)=>{const r={};for(const s of e){const e=Ra(t,s);e&&La(r,s,e._f)}return{criteriaMode:n,names:[...e],fields:r,shouldUseNativeValidation:a}})(e||o.mount,r,n.criteriaMode,n.shouldUseNativeValidation));return h(e),t},x=async(e,t,r={valid:!0})=>{for(const s in e){const l=e[s];if(l){const{_f:e,...c}=l;if(e){const c=o.array.has(e.name),d=l._f&&Tr(l._f);d&&u.validatingFields&&h([s],!0);const f=await Dr(l,o.disabled,i,m,n.shouldUseNativeValidation&&!t,c);if(d&&u.validatingFields&&h([s]),f[e.name]&&(r.valid=!1,t))break;!t&&(Ra(f,e.name)?c?Ir(a.errors,f,e.name):La(a.errors,e.name,f[e.name]):ur(a.errors,e.name))}!ar(c)&&await x(c,t,r)}}return r.valid},_=(e,t)=>!n.disabled&&(e&&t&&La(i,e,t),!Ja(C(),s)),k=(e,t,n)=>((e,t,n,a,r)=>Za(e)?(a&&t.watch.add(e),Ra(n,e,r)):Array.isArray(e)?e.map(e=>(a&&t.watch.add(e),Ra(n,e))):(a&&(t.watchAll=!0),n))(e,o,{...l.mount?i:Ia(t)?s:Za(e)?{[e]:t}:t},n,t),w=(e,t,n={})=>{const a=Ra(r,e);let s=t;if(a){const n=a._f;n&&(!n.disabled&&La(i,e,yr(t,n)),s=ir(n.ref)&&Na(t)?"":t,lr(n.ref)?[...n.ref.options].forEach(e=>e.selected=s.includes(e.value)):n.refs?ka(n.ref)?n.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(s)?e.checked=!!s.find(t=>t===e.value):e.checked=s===e.value||!!s)}):n.refs.forEach(e=>e.checked=e.value===s):rr(n.ref)?n.ref.value="":(n.ref.value=s,n.ref.type||f.state.next({name:e,values:Ma(i)})))}(n.shouldDirty||n.shouldTouch)&&v(e,s,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&M(e)},N=(e,t,n)=>{for(const a in t){if(!t.hasOwnProperty(a))return;const s=t[a],i=e+"."+a,l=Ra(r,i);(o.array.has(e)||Ta(s)||l&&!l._f)&&!wa(s)?N(i,s,n):w(i,s,n)}},S=(e,t,n={})=>{const c=Ra(r,e),m=o.array.has(e),p=Ma(t);La(i,e,p),m?(f.array.next({name:e,values:Ma(i)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&n.shouldDirty&&f.state.next({name:e,dirtyFields:pr(s,i),isDirty:_(e,p)})):!c||c._f||Na(p)?w(e,p,n):N(e,p,n),jr(e,o)&&f.state.next({...a,name:e}),f.state.next({name:l.mount?e:void 0,values:Ma(i)})},T=async e=>{l.mount=!0;const s=e.target;let c=s.name,g=!0;const _=Ra(r,c),k=e=>{g=Number.isNaN(e)||wa(e)&&isNaN(e.getTime())||Ja(e,Ra(i,c,e))},w=Nr(n.mode),N=Nr(n.reValidateMode);if(_){let l,T;const j=s.type?_r(_._f):(e=>Ta(e)&&e.target?ka(e.target)?e.target.checked:e.target.value:e)(e),C=e.type===Pa||e.type===Fa,I=!((S=_._f).mount&&(S.required||S.min||S.max||S.maxLength||S.minLength||S.pattern||S.validate)||n.resolver||Ra(a.errors,c)||_._f.deps)||((e,t,n,a,r)=>!r.isOnAll&&(!n&&r.isOnTouch?!(t||e):(n?a.isOnBlur:r.isOnBlur)?!e:!(n?a.isOnChange:r.isOnChange)||e))(C,Ra(a.touchedFields,c),a.isSubmitted,N,w),E=jr(c,o,C);La(i,c,j),C?s&&s.readOnly||(_._f.onBlur&&_._f.onBlur(e),t&&t(0)):_._f.onChange&&_._f.onChange(e);const A=v(c,j,C),R=!ar(A)||E;if(!C&&f.state.next({name:c,type:e.type,values:Ma(i)}),I)return(u.isValid||d.isValid)&&("onBlur"===n.mode?C&&p():C||p()),R&&f.state.next({name:c,...E?{}:A});if(!C&&E&&f.state.next({...a}),n.resolver){const{errors:e}=await b([c]);if(k(j),g){const t=Cr(a.errors,r,c),n=Cr(e,r,t.name||c);l=n.error,c=n.name,T=ar(e)}}else h([c],!0),l=(await Dr(_,o.disabled,i,m,n.shouldUseNativeValidation))[c],h([c]),k(j),g&&(l?T=!1:(u.isValid||d.isValid)&&(T=await x(r,!0)));g&&(_._f.deps&&M(_._f.deps),y(c,T,l,A))}var S},j=(e,t)=>{if(Ra(a.errors,t)&&e.focus)return e.focus(),1},M=async(e,t={})=>{let s,i;const l=tr(e);if(n.resolver){const t=await(async e=>{const{errors:t}=await b(e);if(e)for(const n of e){const e=Ra(t,n);e?La(a.errors,n,e):ur(a.errors,n)}else a.errors=t;return t})(Ia(e)?e:l);s=ar(t),i=e?!l.some(e=>Ra(t,e)):s}else e?(i=(await Promise.all(l.map(async e=>{const t=Ra(r,e);return await x(t&&t._f?{[e]:t}:t)}))).every(Boolean),(i||a.isValid)&&p()):i=s=await x(r);return f.state.next({...!Za(e)||(u.isValid||d.isValid)&&s!==a.isValid?{}:{name:e},...n.resolver||!e?{isValid:s}:{},errors:a.errors}),t.shouldFocus&&!i&&Mr(r,j,e?l:o.mount),i},C=e=>{const t={...l.mount?i:s};return Ia(e)?t:Za(e)?Ra(t,e):e.map(e=>Ra(t,e))},I=(e,t)=>({invalid:!!Ra((t||a).errors,e),isDirty:!!Ra((t||a).dirtyFields,e),error:Ra((t||a).errors,e),isValidating:!!Ra(a.validatingFields,e),isTouched:!!Ra((t||a).touchedFields,e)}),E=(e,t,n)=>{const s=(Ra(r,e,{_f:{}})._f||{}).ref,i=Ra(a.errors,e)||{},{ref:l,message:o,type:c,...u}=i;La(a.errors,e,{...u,...t,ref:s}),f.state.next({name:e,errors:a.errors,isValid:!1}),n&&n.shouldFocus&&s&&s.focus&&s.focus()},A=e=>f.state.subscribe({next:t=>{var n,r,l;n=e.name,r=t.name,l=e.exact,n&&r&&n!==r&&!tr(n).some(e=>e&&(l?e===r:e.startsWith(r)||r.startsWith(e)))||!((e,t,n,a)=>{n(e);const{name:r,...s}=e;return ar(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(e=>t[e]===(!a||Ba))})(t,e.formState||u,z,e.reRenderRoot)||e.callback({values:{...i},...a,...t,defaultValues:s})}}).unsubscribe,R=(e,t={})=>{for(const l of e?tr(e):o.mount)o.mount.delete(l),o.array.delete(l),t.keepValue||(ur(r,l),ur(i,l)),!t.keepError&&ur(a.errors,l),!t.keepDirty&&ur(a.dirtyFields,l),!t.keepTouched&&ur(a.touchedFields,l),!t.keepIsValidating&&ur(a.validatingFields,l),!n.shouldUnregister&&!t.keepDefaultValue&&ur(s,l);f.state.next({values:Ma(i)}),f.state.next({...a,...t.keepDirty?{isDirty:_()}:{}}),!t.keepIsValid&&p()},D=({disabled:e,name:t})=>{(Da(e)&&l.mount||e||o.disabled.has(t))&&(e?o.disabled.add(t):o.disabled.delete(t))},L=(e,t={})=>{let a=Ra(r,e);const i=Da(t.disabled)||Da(n.disabled);return La(r,e,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:e}},name:e,mount:!0,...t}}),o.mount.add(e),a?D({disabled:Da(t.disabled)?t.disabled:n.disabled,name:e}):g(e,!0,t.value),{...i?{disabled:t.disabled||n.disabled}:{},...n.progressive?{required:!!t.required,min:wr(t.min),max:wr(t.max),minLength:wr(t.minLength),maxLength:wr(t.maxLength),pattern:wr(t.pattern)}:{},name:e,onChange:T,onBlur:T,ref:i=>{if(i){L(e,t),a=Ra(r,e);const n=Ia(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,l=(e=>or(e)||ka(e))(n),o=a._f.refs||[];if(l?o.find(e=>e===n):n===a._f.ref)return;La(r,e,{_f:{...a._f,...l?{refs:[...o.filter(cr),n,...Array.isArray(Ra(s,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),g(e,!1,void 0,n)}else a=Ra(r,e,{}),a._f&&(a._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!((e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)))(o.array,e)||!l.action)&&o.unMount.add(e)}}},P=()=>n.shouldFocusError&&Mr(r,j,o.mount),F=(e,t)=>async s=>{let l;s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist());let c=Ma(i);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await b();a.errors=e,c=Ma(t)}else await x(r);if(o.disabled.size)for(const e of o.disabled)ur(c,e);if(ur(a.errors,"root"),ar(a.errors)){f.state.next({errors:{}});try{await e(c,s)}catch(u){l=u}}else t&&await t({...a.errors},s),P(),setTimeout(P);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ar(a.errors)&&!l,submitCount:a.submitCount+1,errors:a.errors}),l)throw l},q=(e,t={})=>{const c=e?Ma(e):s,d=Ma(c),m=ar(e),p=m?s:d;if(t.keepDefaultValues||(s=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...o.mount,...Object.keys(pr(s,i))]);for(const t of Array.from(e))Ra(a.dirtyFields,t)?La(p,t,Ra(i,t)):S(t,Ra(p,t))}else{if(ja&&Ia(e))for(const e of o.mount){const t=Ra(r,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(ir(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of o.mount)S(e,Ra(p,e));else r={}}i=n.shouldUnregister?t.keepDefaultValues?Ma(s):{}:Ma(p),f.array.next({values:{...p}}),f.state.next({values:{...p}})}o={mount:t.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!u.isValid||!!t.keepIsValid||!!t.keepDirtyValues,l.watch=!!n.shouldUnregister,f.state.next({submitCount:t.keepSubmitCount?a.submitCount:0,isDirty:!m&&(t.keepDirty?a.isDirty:!(!t.keepDefaultValues||Ja(e,s))),isSubmitted:!!t.keepIsSubmitted&&a.isSubmitted,dirtyFields:m?{}:t.keepDirtyValues?t.keepDefaultValues&&i?pr(s,i):a.dirtyFields:t.keepDefaultValues&&e?pr(s,e):t.keepDirty?a.dirtyFields:{},touchedFields:t.keepTouched?a.touchedFields:{},errors:t.keepErrors?a.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&a.isSubmitSuccessful,isSubmitting:!1,defaultValues:s})},O=(e,t)=>q(sr(e)?e(i):e,t),z=e=>{a={...a,...e}},$={control:{register:L,unregister:R,getFieldState:I,handleSubmit:F,setError:E,_subscribe:A,_runSchema:b,_focusError:P,_getWatch:k,_getDirty:_,_setValid:p,_setFieldArray:(e,t=[],o,c,m=!0,p=!0)=>{if(c&&o&&!n.disabled){if(l.action=!0,p&&Array.isArray(Ra(r,e))){const t=o(Ra(r,e),c.argA,c.argB);m&&La(r,e,t)}if(p&&Array.isArray(Ra(a.errors,e))){const t=o(Ra(a.errors,e),c.argA,c.argB);m&&La(a.errors,e,t),((e,t)=>{!Ea(Ra(e,t)).length&&ur(e,t)})(a.errors,e)}if((u.touchedFields||d.touchedFields)&&p&&Array.isArray(Ra(a.touchedFields,e))){const t=o(Ra(a.touchedFields,e),c.argA,c.argB);m&&La(a.touchedFields,e,t)}(u.dirtyFields||d.dirtyFields)&&(a.dirtyFields=pr(s,i)),f.state.next({name:e,isDirty:_(e,t),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else La(i,e,t)},_setDisabledField:D,_setErrors:e=>{a.errors=e,f.state.next({errors:a.errors,isValid:!1})},_getFieldArray:e=>Ea(Ra(l.mount?i:s,e,n.shouldUnregister?Ra(s,e,[]):[])),_reset:q,_resetDefaultValues:()=>sr(n.defaultValues)&&n.defaultValues().then(e=>{O(e,n.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of o.unMount){const t=Ra(r,e);t&&(t._f.refs?t._f.refs.every(e=>!cr(e)):!cr(t._f.ref))&&R(e)}o.unMount=new Set},_disableForm:e=>{Da(e)&&(f.state.next({disabled:e}),Mr(r,(t,n)=>{const a=Ra(r,n);a&&(t.disabled=a._f.disabled||e,Array.isArray(a._f.refs)&&a._f.refs.forEach(t=>{t.disabled=a._f.disabled||e}))},0,!1))},_subjects:f,_proxyFormState:u,get _fields(){return r},get _formValues(){return i},get _state(){return l},set _state(e){l=e},get _defaultValues(){return s},get _names(){return o},set _names(e){o=e},get _formState(){return a},get _options(){return n},set _options(e){n={...n,...e}}},subscribe:e=>(l.mount=!0,d={...d,...e.formState},A({...e,formState:d})),trigger:M,register:L,handleSubmit:F,watch:(e,t)=>sr(e)?f.state.subscribe({next:n=>"values"in n&&e(k(void 0,t),n)}):k(e,t,!0),setValue:S,getValues:C,reset:O,resetField:(e,t={})=>{Ra(r,e)&&(Ia(t.defaultValue)?S(e,Ma(Ra(s,e))):(S(e,t.defaultValue),La(s,e,Ma(t.defaultValue))),t.keepTouched||ur(a.touchedFields,e),t.keepDirty||(ur(a.dirtyFields,e),a.isDirty=t.defaultValue?_(e,Ma(Ra(s,e))):_()),t.keepError||(ur(a.errors,e),u.isValid&&p()),f.state.next({...a}))},clearErrors:e=>{e&&tr(e).forEach(e=>ur(a.errors,e)),f.state.next({errors:e?a.errors:{}})},unregister:R,setError:E,setFocus:(e,t={})=>{const n=Ra(r,e),a=n&&n._f;if(a){const e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),t.shouldSelect&&sr(e.select)&&e.select())}},getFieldState:I};return{...$,formControl:$}}function Fr(e={}){const t=w.useRef(void 0),n=w.useRef(void 0),[a,r]=w.useState({isDirty:!1,isValidating:!1,isLoading:sr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:sr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:a},e.defaultValues&&!sr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:n,...r}=Pr(e);t.current={...r,formState:a}}const s=t.current.control;return s._options=e,Xa(()=>{const e=s._subscribe({formState:s._proxyFormState,callback:()=>r({...s._formState}),reRenderRoot:!0});return r(e=>({...e,isReady:!0})),s._formState.isReady=!0,e},[s]),w.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),w.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),w.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),w.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),w.useEffect(()=>{if(s._proxyFormState.isDirty){const e=s._getDirty();e!==a.isDirty&&s._subjects.state.next({isDirty:e})}},[s,a.isDirty]),w.useEffect(()=>{e.values&&!Ja(e.values,n.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=e.values,r(e=>({...e}))):s._resetDefaultValues()},[s,e.values]),w.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=((e,t,n,a=!0)=>{const r={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(r,s,{get:()=>{const n=s;return t._proxyFormState[n]!==Ba&&(t._proxyFormState[n]=!a||Ba),e[n]}});return r})(a,s),t.current}const qr=(e,t,n)=>{if(e&&"reportValidity"in e){const a=Ra(n,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},Or=(e,t)=>{for(const n in t.fields){const a=t.fields[n];a&&a.ref&&"reportValidity"in a.ref?qr(a.ref,n,e):a&&a.refs&&a.refs.forEach(t=>qr(t,n,e))}},zr=(e,t)=>{t.shouldUseNativeValidation&&Or(e,t);const n={};for(const a in e){const r=Ra(t.fields,a),s=Object.assign(e[a]||{},{ref:r&&r.ref});if($r(t.names||Object.keys(e),a)){const e=Object.assign({},Ra(n,a));La(e,"root",s),La(n,a,e)}else La(n,a,s)}return n},$r=(e,t)=>{const n=Br(t);return e.some(e=>Br(e).match(`^${n}\\.\\d+`))};function Br(e){return e.replace(/\]|\[/g,"")}function Vr(e,t){try{var n=e()}catch(a){return t(a)}return n&&n.then?n.then(void 0,t):n}function Ur(e,t){for(var n={};e.length;){var a=e[0],r=a.code,s=a.message,i=a.path.join(".");if(!n[i])if("unionErrors"in a){var l=a.unionErrors[0].errors[0];n[i]={message:l.message,type:l.code}}else n[i]={message:s,type:r};if("unionErrors"in a&&a.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var o=n[i].types,c=o&&o[a.code];n[i]=er(i,t,n,r,c?[].concat(c,a.message):a.message)}e.shift()}return n}function Qr(e,t){for(var n={};e.length;){var a=e[0],r=a.code,s=a.message,i=a.path.join(".");if(!n[i])if("invalid_union"===a.code&&a.errors.length>0){var l=a.errors[0][0];n[i]={message:l.message,type:l.code}}else n[i]={message:s,type:r};if("invalid_union"===a.code&&a.errors.forEach(function(t){return t.forEach(function(t){return e.push(t)})}),t){var o=n[i].types,c=o&&o[a.code];n[i]=er(i,t,n,r,c?[].concat(c,a.message):a.message)}e.shift()}return n}function Hr(e,t,n){if(void 0===n&&(n={}),"_def"in(a=e)&&"object"==typeof a._def&&"typeName"in a._def)return function(r,s,i){try{return Promise.resolve(Vr(function(){return Promise.resolve(e["sync"===n.mode?"parse":"parseAsync"](r,t)).then(function(e){return i.shouldUseNativeValidation&&Or({},i),{errors:{},values:n.raw?Object.assign({},r):e}})},function(e){if(t=e,Array.isArray(null==t?void 0:t.issues))return{values:{},errors:zr(Ur(e.errors,!i.shouldUseNativeValidation&&"all"===i.criteriaMode),i)};var t;throw e}))}catch(a){return Promise.reject(a)}};var a;if(function(e){return"_zod"in e&&"object"==typeof e._zod}(e))return function(r,s,i){try{return Promise.resolve(Vr(function(){return Promise.resolve(("sync"===n.mode?he:ge)(e,r,t)).then(function(e){return i.shouldUseNativeValidation&&Or({},i),{errors:{},values:n.raw?Object.assign({},r):e}})},function(e){if(e instanceof ve)return{values:{},errors:zr(Qr(e.issues,!i.shouldUseNativeValidation&&"all"===i.criteriaMode),i)};throw e}))}catch(a){return Promise.reject(a)}};throw new Error("Invalid input: not a Zod schema")}const Wr="_loginContainer_ectg1_1",Kr="_form_ectg1_21",Gr="_email_ectg1_41",Xr="_password_ectg1_41",Zr="_errorsContainer_ectg1_57",Yr="_buttonSend_ectg1_79";function Jr(e,t){if(!e)return null;const n=null==t?void 0:t[e];if(n)return n;return e.split(".").pop()??e}function es(e){const{errors:t,setError:n,knownFields:a,fieldMap:r,defaultMessage:s}=e,i=new Set(a),l="root";if(!t||0===t.length){const e=s??" ";return n(l,{type:"server",message:e}),{fieldErrors:0,commonMessage:e}}let o=0;const c=[];for(const d of t){const e=Jr(d.field,r);e&&i.has(e)?(n(e,{type:"server",message:d.message}),o++):c.push(d.message)}const u=c.length?c.join("\n"):null;return u&&n(l,{type:"server",message:u}),{fieldErrors:o,commonMessage:u}}const ts=b.createContext(null);function ns({children:e}){const[t,a]=b.useState(new Map);b.useEffect(()=>{if(0===t.size)return void(document.title="");const e=Array.from(t.values()).reduce((e,t)=>t.priority>e.priority?t:e);document.title=e.title},[t]);const r={setTitle:b.useCallback((e,t,n)=>{a(a=>{const r=new Map(a);return r.set(e,{id:e,title:t,priority:n}),r})},[]),removeTitle:b.useCallback(e=>{a(t=>{const n=new Map(t);return n.delete(e),n})},[])};return n.jsx(ts.Provider,{value:r,children:e})}function as(e,t=0,n=!0){const a=b.useContext(ts);if(!a)throw new Error("useDocumentTitle must be used within DocumentTitleProvider");const{setTitle:r,removeTitle:s}=a,i=b.useRef(`title-${Math.random().toString(36).slice(2)}`).current;b.useEffect(()=>(n?r(i,e,t):s(i),()=>{s(i)}),[e,t,n,i,r,s])}const rs=ye({email:be().min(1,"  "),password:be().min(5," 5 ")}),ss=()=>{as("");const e=Qn(),t=y(),[a]=Pn(),{register:r,handleSubmit:s,setError:i,formState:{errors:l,isSubmitting:o}}=Fr({resolver:Hr(rs),defaultValues:{email:"tester@example.com",password:"Tester123!"}}),c=se($n),u={username:"email"};return b.useEffect(()=>{c&&t(Qe)},[c,t]),n.jsxs("div",{className:Wr,children:[n.jsx(Xe,{width:200,height:100}),n.jsxs("form",{className:Kr,onSubmit:s(async n=>{try{const r=await a({email:n.email,password:n.password}).unwrap();if(r.success){if(null==r.user)return void i("root",{type:"server",message:":   "});e(On(r.user)),t(Qe)}else es({errors:r.errors??null,setError:i,knownFields:["email","password"],fieldMap:u,defaultMessage:"  "})}catch(r){!function(e,t,n,a,r){const s=e??{},{commonMessage:i}=es({errors:s.errors??null,setError:t,knownFields:n,fieldMap:a,defaultMessage:s.errorMessage??r})}(null==r?void 0:r.data,i,["email","password"],u," ")}}),children:[n.jsxs("div",{children:[n.jsx("input",{className:Gr,placeholder:"Email",...r("email")}),l.email&&n.jsx("p",{className:"text-red-500 text-sm",children:l.email.message})]}),n.jsxs("div",{children:[n.jsx("input",{type:"password",className:Xr,placeholder:"Password",...r("password")}),l.password&&n.jsx("p",{className:"text-red-500 text-sm",children:l.password.message})]}),n.jsx("button",{type:"submit",className:Yr,disabled:o,children:o?"...":""}),n.jsx("div",{className:Zr,children:l.root&&n.jsx("p",{className:"text-red-500 text-sm",children:l.root.message})})]})]})},is="_homePageContainer_wifmr_1",ls="_container_svsmw_5",os="_databaseSelector_svsmw_17",cs="_title_svsmw_37",us="_databaseInfoBlock_svsmw_47",ds="_label_svsmw_61",fs="_select_svsmw_75",ms="_topSection_svsmw_131",ps="_rightSection_svsmw_147",hs="_devicesContainer_svsmw_163",gs="_emptyContainer_svsmw_177",vs="_noSelectionPanel_svsmw_195",ys="_placeholder_svsmw_211",bs={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://192.168.2.80:5001",VITE_CHARTS_URL:"http://192.168.2.80:7094",VITE_CHART_DEFAULT_CHART_HEIGHT_PX:"800",VITE_CHART_MIN_CONTAINER_WIDTH:"300",VITE_DATABASES_PASSWORD:"0000",VITE_ENABLE_DEBUG_LOGS:"false",VITE_ENABLE_DEVTOOLS:"false",VITE_ENABLE_MOCK_DATA:"false",VITE_ENABLE_PERFORMANCE_MONITORING:"false",VITE_MIRAX_DEFAULT_BASE_TEMPLATE_ID:"77777777-0000-0000-0000-000000000223",VITE_MIRAX_DEFAULT_SENSOR_TEMPLATE_ID:"77777777-0000-0000-0000-000000000222"};function xs(e,t){const n=bs[e];return void 0===n||""===n?t:String(n)}function _s(e,t){const n=bs[e];if(void 0===n||""===n)return t;const a=Number(n);return isNaN(a)?t:a}function ks(e,t){const n=bs[e];if(void 0===n||""===n)return t;const a=String(n).toLowerCase().trim();return"true"===a||"1"===a||"yes"===a||"on"===a||"false"!==a&&"0"!==a&&"no"!==a&&"off"!==a&&t}const ws={APP_NAME:xs("VITE_APP_NAME","MyApp"),APP_VERSION:xs("VITE_APP_VERSION","1.0.0"),API_URL:xs("VITE_API_URL","https://localhost:5001"),CHARTS_URL:xs("VITE_CHARTS_URL","https://localhost:7094"),CHART_DEFAULT_CHART_HEIGHT_PX:_s("VITE_CHART_DEFAULT_CHART_HEIGHT_PX",800),CHART_MIN_CONTAINER_WIDTH:_s("VITE_CHART_MIN_CONTAINER_WIDTH",640),ENABLE_DEBUG_LOGS:ks("VITE_ENABLE_DEBUG_LOGS",!1),ENABLE_PERFORMANCE_MONITORING:ks("VITE_ENABLE_PERFORMANCE_MONITORING",!1),ENABLE_MOCK_DATA:ks("VITE_ENABLE_MOCK_DATA",!1),ENABLE_DEVTOOLS:ks("VITE_ENABLE_DEVTOOLS",!1),MIRAX_DEFAULT_BASE_TEMPLATE_ID:xs("VITE_MIRAX_DEFAULT_BASE_TEMPLATE_ID","77777777-0000-0000-0000-000000000223"),MIRAX_DEFAULT_SENSOR_TEMPLATE_ID:xs("VITE_MIRAX_DEFAULT_SENSOR_TEMPLATE_ID","77777777-0000-0000-0000-000000000222")};var Ns,Ss={};const Ts=v(function(){if(Ns)return Ss;var e;Ns=1,Ss.__esModule=!0,Ss.default=void 0;var t=(0,((e=st())&&e.__esModule?e:{default:e}).default)("session");return Ss.default=t,Ss}());function js(e,t){return`${e}-${t}`}const Ms={isLoading:!1,progress:0,error:void 0},Cs={currentDatabaseId:void 0,openTabs:[],activeContextId:void 0,sensorTabs:{},selectedDeviceFactoryNumber:void 0,expandedTechnicalRunIds:[],expandedDeviceFactoryNumbers:[],technicalRunsLoading:Ms,devicesLoading:{},sensorsLoading:{},technicalRunsData:[],devicesByTechnicalRun:{},sensorsBySensorKey:{},defaultBaseTemplateId:ws.MIRAX_DEFAULT_BASE_TEMPLATE_ID,defaultSensorTemplateId:ws.MIRAX_DEFAULT_SENSOR_TEMPLATE_ID,activeFactoryNumber:void 0};function Is(e){return`${e.technicalRun.id}-${e.device.factoryNumber}-${e.sensor.gas}-${e.sensor.channelNumber}`}const Es=O({name:"mirax",initialState:Cs,reducers:{setCurrentDatabaseId:(e,t)=>{e.currentDatabaseId=t.payload,e.openTabs=[],e.activeContextId=void 0,e.sensorTabs={},e.selectedDeviceFactoryNumber=void 0,e.expandedTechnicalRunIds=[],e.expandedDeviceFactoryNumbers=[],e.technicalRunsLoading=Ms,e.devicesLoading={},e.sensorsLoading={},e.technicalRunsData=[],e.devicesByTechnicalRun={},e.sensorsBySensorKey={}},clearCurrentDatabase:e=>{e.currentDatabaseId=void 0,e.openTabs=[],e.activeContextId=void 0,e.sensorTabs={},e.selectedDeviceFactoryNumber=void 0,e.expandedTechnicalRunIds=[],e.expandedDeviceFactoryNumbers=[],e.technicalRunsLoading=Ms,e.devicesLoading={},e.sensorsLoading={},e.technicalRunsData=[],e.devicesByTechnicalRun={},e.sensorsBySensorKey={}},setDefaultBaseTemplateId(e,t){e.defaultBaseTemplateId=t.payload},setDefaultSensorTemplateId(e,t){e.defaultSensorTemplateId=t.payload},setActiveFactoryNumber:(e,t)=>{e.activeFactoryNumber=t.payload},setTechnicalRunsData:(e,t)=>{e.technicalRunsData=t.payload},setDevicesData:(e,t)=>{const{technicalRunId:n,devices:a}=t.payload;e.devicesByTechnicalRun[n]=a},setSensorsData:(e,t)=>{const{technicalRunId:n,factoryNumber:a,sensors:r}=t.payload;e.sensorsBySensorKey[js(n,a)]=r},openTechnicalRunTab:(e,t)=>{const{id:n,name:a}=t.payload;e.openTabs.find(e=>e.id===n)?e.activeContextId=n:(e.openTabs=[...e.openTabs,{id:n,name:a}],e.activeContextId=n,e.sensorTabs[n]={openTabs:[],activeTabKey:void 0})},closeTechnicalRunTab:(e,t)=>{var n;const a=t.payload,r=e.openTabs.findIndex(e=>e.id===a);if(-1!==r){if(e.openTabs=e.openTabs.filter(e=>e.id!==a),e.activeContextId===a)if(e.openTabs.length>0){const t=Math.max(0,r-1);e.activeContextId=null==(n=e.openTabs[t])?void 0:n.id}else e.activeContextId=void 0;delete e.sensorTabs[a],delete e.devicesLoading[a],e.expandedDeviceFactoryNumbers=[],e.selectedDeviceFactoryNumber=void 0}},setActiveTab:(e,t)=>{const n=t.payload;e.openTabs.some(e=>e.id===n)&&(e.activeContextId=n,e.selectedDeviceFactoryNumber=void 0)},closeAllTabs:e=>{e.openTabs=[],e.activeContextId=void 0,e.sensorTabs={},e.selectedDeviceFactoryNumber=void 0,e.expandedDeviceFactoryNumbers=[]},openSensorTab:(e,t)=>{const n=t.payload,a=n.technicalRun.id;if(!e.openTabs.some(e=>e.id===a))return;a in e.sensorTabs||(e.sensorTabs[a]={openTabs:[],activeTabKey:void 0});const r=e.sensorTabs[a],s=Is(n),i=r.openTabs.find(e=>Is(e)===s);e.sensorTabs[a]=i?{...r,activeTabKey:s}:{openTabs:[...r.openTabs,n],activeTabKey:s}},closeSensorTab:(e,t)=>{const{technicalRunId:n,tabKey:a}=t.payload;if(!(n in e.sensorTabs))return;const r=e.sensorTabs[n],s=r.openTabs.findIndex(e=>Is(e)===a);if(-1===s)return;const i=r.openTabs.filter(e=>Is(e)!==a);let l=r.activeTabKey;if(r.activeTabKey===a)if(i.length>0){const e=i[Math.max(0,s-1)];l=e?Is(e):void 0}else l=void 0;e.sensorTabs[n]={openTabs:i,activeTabKey:l}},setActiveSensorTab:(e,t)=>{const{technicalRunId:n,tabKey:a}=t.payload;if(!(n in e.sensorTabs))return;const r=e.sensorTabs[n];r.openTabs.some(e=>Is(e)===a)&&(e.sensorTabs[n]={...r,activeTabKey:a})},closeAllSensorTabs:(e,t)=>{const n=t.payload;n in e.sensorTabs&&(e.sensorTabs[n]={openTabs:[],activeTabKey:void 0})},deselectDevice:e=>{e.selectedDeviceFactoryNumber=void 0},selectDevice:(e,t)=>{e.selectedDeviceFactoryNumber=t.payload},toggleTechnicalRunExpanded:(e,t)=>{const n=t.payload,a=e.expandedTechnicalRunIds.includes(n);e.expandedTechnicalRunIds=a?e.expandedTechnicalRunIds.filter(e=>e!==n):[...e.expandedTechnicalRunIds,n]},expandTechnicalRun:(e,t)=>{const n=t.payload;e.expandedTechnicalRunIds.includes(n)||(e.expandedTechnicalRunIds=[...e.expandedTechnicalRunIds,n])},collapseTechnicalRun:(e,t)=>{e.expandedTechnicalRunIds=e.expandedTechnicalRunIds.filter(e=>e!==t.payload)},collapseAllTechnicalRuns:e=>{e.expandedTechnicalRunIds=[]},expandAllTechnicalRuns:(e,t)=>{e.expandedTechnicalRunIds=[...t.payload]},toggleDeviceExpanded:(e,t)=>{const n=t.payload,a=e.expandedDeviceFactoryNumbers.includes(n);e.expandedDeviceFactoryNumbers=a?e.expandedDeviceFactoryNumbers.filter(e=>e!==n):[...e.expandedDeviceFactoryNumbers,n]},expandDevice:(e,t)=>{const n=t.payload;e.expandedDeviceFactoryNumbers.includes(n)||(e.expandedDeviceFactoryNumbers=[...e.expandedDeviceFactoryNumbers,n])},collapseDevice:(e,t)=>{e.expandedDeviceFactoryNumbers=e.expandedDeviceFactoryNumbers.filter(e=>e!==t.payload)},collapseAllDevices:e=>{e.expandedDeviceFactoryNumbers=[]},startTechnicalRunsLoading:e=>{e.technicalRunsLoading={isLoading:!0,progress:0,error:void 0}},updateTechnicalRunsProgress:(e,t)=>{e.technicalRunsLoading={...e.technicalRunsLoading,progress:t.payload}},finishTechnicalRunsLoading:(e,t)=>{e.technicalRunsLoading={isLoading:!1,progress:t.payload.success?100:0,error:t.payload.error}},resetTechnicalRunsLoading:e=>{e.technicalRunsLoading=Ms},startDevicesLoading:(e,t)=>{const n=t.payload;e.devicesLoading[n]={isLoading:!0,progress:0,error:void 0}},updateDevicesProgress:(e,t)=>{const{technicalRunId:n,progress:a}=t.payload;n in e.devicesLoading&&(e.devicesLoading[n]={...e.devicesLoading[n],progress:a})},finishDevicesLoading:(e,t)=>{const{technicalRunId:n,success:a,error:r}=t.payload;e.devicesLoading[n]={isLoading:!1,progress:a?100:0,error:r}},clearDevicesLoading:(e,t)=>{delete e.devicesLoading[t.payload]},clearAllDevicesLoading:e=>{e.devicesLoading={}},startSensorsLoading:(e,t)=>{const{technicalRunId:n,factoryNumber:a}=t.payload,r=`${n}-${a}`;e.sensorsLoading[r]={isLoading:!0,progress:0,error:void 0}},updateSensorsProgress:(e,t)=>{const{technicalRunId:n,factoryNumber:a,progress:r}=t.payload,s=`${n}-${a}`;s in e.sensorsLoading&&(e.sensorsLoading[s]={...e.sensorsLoading[s],progress:r})},finishSensorsLoading:(e,t)=>{const{technicalRunId:n,factoryNumber:a,success:r,error:s}=t.payload,i=`${n}-${a}`;e.sensorsLoading[i]={isLoading:!1,progress:r?100:0,error:s}},clearSensorsLoading:(e,t)=>{const{technicalRunId:n,factoryNumber:a}=t.payload,r=`${n}-${a}`;delete e.sensorsLoading[r]},clearAllSensorsLoading:e=>{e.sensorsLoading={}},resetMiraxState:()=>Cs}}),{setCurrentDatabaseId:As,clearCurrentDatabase:Rs,setTechnicalRunsData:Ds,setDevicesData:Ls,setSensorsData:Ps,openTechnicalRunTab:Fs,setActiveFactoryNumber:qs,closeTechnicalRunTab:Os,setActiveTab:zs,closeAllTabs:$s,openSensorTab:Bs,closeSensorTab:Vs,setActiveSensorTab:Us,closeAllSensorTabs:Qs,selectDevice:Hs,deselectDevice:Ws,toggleTechnicalRunExpanded:Ks,expandTechnicalRun:Gs,collapseTechnicalRun:Xs,collapseAllTechnicalRuns:Zs,expandAllTechnicalRuns:Ys,toggleDeviceExpanded:Js,expandDevice:ei,collapseDevice:ti,collapseAllDevices:ni,startTechnicalRunsLoading:ai,updateTechnicalRunsProgress:ri,finishTechnicalRunsLoading:si,resetTechnicalRunsLoading:ii,startDevicesLoading:li,updateDevicesProgress:oi,finishDevicesLoading:ci,clearDevicesLoading:ui,clearAllDevicesLoading:di,startSensorsLoading:fi,updateSensorsProgress:mi,finishSensorsLoading:pi,clearSensorsLoading:hi,clearAllSensorsLoading:gi,resetMiraxState:vi}=Es.actions,yi=e=>e.mirax.technicalRunsData,bi=e=>e.mirax.currentDatabaseId,xi=P([bi,e=>e.chartsMeta.getDatabasesById],(e,t)=>{if(e)return t[e]}),_i=e=>e.mirax.openTabs,ki=e=>e.mirax.activeContextId,wi=e=>e.mirax.selectedDeviceFactoryNumber,Ni={isLoading:!1,progress:0,error:void 0},Si=P([e=>e.mirax.devicesLoading,(e,t)=>t],(e,t)=>e[t]??Ni),Ti=P([e=>e.mirax.sensorsLoading,(e,t,n)=>`${t}-${n}`],(e,t)=>e[t]??Ni),ji=e=>e.mirax.technicalRunsLoading.isLoading,Mi=e=>e.mirax.technicalRunsLoading.error,Ci=[],Ii=[],Ei=P([e=>e.mirax.sensorsBySensorKey,(e,t,n)=>js(t,n)],(e,t)=>e[t]??Ci),Ai=P([yi,(e,t)=>t],(e,t)=>e.find(e=>e.id===t));P([yi,ki],(e,t)=>{if(void 0!==t)return e.find(e=>e.id===t)});const Ri=P([e=>e.mirax.devicesByTechnicalRun,(e,t)=>t],(e,t)=>e[t]??Ii);P([e=>e.mirax.devicesByTechnicalRun,ki],(e,t)=>void 0===t?Ii:e[t]??Ii),P([Ri],e=>e.length>0),P([Ri],e=>e.length);const Di=e=>e.mirax.defaultBaseTemplateId,Li=e=>e.mirax.defaultSensorTemplateId,Pi=e=>e.mirax.activeFactoryNumber,Fi=oe({key:"mirax",storage:Ts,blacklist:["technicalRunsLoading","devicesLoading","sensorsLoading"]},Es.reducer);const qi=v(xe()),Oi={containerTechnicalRunsPanel:"_containerTechnicalRunsPanel_xi2mh_3",header:"_header_xi2mh_21",title:"_title_xi2mh_39",info:"_info_xi2mh_53",btnCopyFactoryNumber:"_btnCopyFactoryNumber_xi2mh_69",count:"_count_xi2mh_89",controls:"_controls_xi2mh_107",activeFilterBadge:"_activeFilterBadge_xi2mh_125",list:"_list_xi2mh_155",items:"_items_xi2mh_167",item:"_item_xi2mh_167",itemActive:"_itemActive_xi2mh_211",itemContent:"_itemContent_xi2mh_231",itemName:"_itemName_xi2mh_243",itemDates:"_itemDates_xi2mh_257",itemDate:"_itemDate_xi2mh_257",placeholder:"_placeholder_xi2mh_281",loaderContainer:"_loaderContainer_xi2mh_297",spinner:"_spinner_xi2mh_313"},zi=new Set(["GET","HEAD","OPTIONS","PUT","DELETE"]),$i=new Set([408,429,500,502,503,504]),Bi=new Set(["ECONNABORTED","ECONNREFUSED","ECONNRESET","ENETUNREACH","ETIMEDOUT","ENOTFOUND"]);const Vi={retries:3,retryDelay:function(e,t){const n=function(e){var t,n;const a=null==(n=null==(t=e.response)?void 0:t.headers)?void 0:n["retry-after"];if(!a)return;const r=Number(a);if(!isNaN(r)&&r>0)return 1e3*r;const s=new Date(a);if(!isNaN(s.getTime())){const e=s.getTime()-Date.now();return Math.max(0,e)}}(t);if(void 0!==n)return Math.min(n,3e4);const a=1e3*Math.pow(2,e-1),r=a+.25*a*(2*Math.random()-1);return Math.max(1e3,Math.min(r,3e4))},shouldResetTimeout:!0,retryCondition:function(e){var t,n;if(!(n=null==(t=e.config)?void 0:t.method)||!zi.has(n.toUpperCase()))return!1;if(function(e){return!e.response&&void 0!==e.code&&Bi.has(e.code)}(e))return!0;if(e.response){const t=e.response.status;if(function(e){return!!e&&$i.has(e)}(t))return!0;if(t>=200&&t<300)return!1;if(t>=400&&t<500)return!1;if(t>=500&&t<600)return!0}return!1},onRetry:(e,t,n)=>{var a,r;null==(a=n.method)||a.toUpperCase(),n.url,null==(r=t.response)||r.status,t.code},onMaxRetryTimesExceeded:(e,t)=>{var n;null==(n=e.config)||n.url}},Ui=pe.create({baseURL:ws.CHARTS_URL,withCredentials:!0,paramsSerializer:_n,timeout:3e4,headers:{"Content-Type":"application/json",Accept:"application/json","X-Client-Type":"web"}});function Qi(e){if(null==e)return e;if(e instanceof Date)return e;if("string"==typeof e){if(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[+-]\d{2}:\d{2})?$/.test(e)){const t=new Date(e);if(!isNaN(t.getTime()))return t}return e}if(Array.isArray(e))return e.map(e=>Qi(e));if("object"==typeof e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Qi(e[n]));return t}return e}fe(Ui,Vi);const Hi=()=>async(e,t)=>{var n,a;const r=e.method??"get",{url:s,data:i,params:l,headers:o,lockUi:c=!0,parseDates:u=!0}=e;c&&t.dispatch(Nn());try{const e={...o??{}};void 0===i||e["Content-Type"]||(e["Content-Type"]="application/json");const n={url:s,method:r,withCredentials:!0,signal:t.signal,...void 0!==i?{data:i}:{},...void 0!==l?{params:l}:{},...e&&Object.keys(e).length?{headers:e}:{}},a=await Ui.request(n);let c=a.data;return u&&(c=Qi(c)),En(c)?c.success?Rn(c.data):An({status:a.status,data:c}):Rn(c)}catch(d){const e=d,t=null==(n=e.response)?void 0:n.status,r=null==(a=e.response)?void 0:a.data;return r&&En(r)?An({status:t,data:r}):An({status:t,data:r??e.message})}finally{c&&t.dispatch(Sn())}},Wi="/mirax/technical-runs",Ki=e=>`/mirax/technical-runs/${e}/devices`,Gi=(e,t)=>`/mirax/technical-runs/${e}/devices/${encodeURIComponent(t)}/sensors`,Xi=yn({reducerPath:"miraxApi",baseQuery:Hi(),tagTypes:["TechnicalRun","PortableDevice","Sensor"],endpoints:e=>({getTechnicalRuns:e.query({query:({body:e,dbId:t})=>({url:null!=e&&"factoryNumber"in e&&void 0!==e.factoryNumber?`${Wi}?factoryNumber=${encodeURIComponent(null==e?void 0:e.factoryNumber)}`:Wi,method:"get",headers:{"X-Db":String(t)}}),providesTags:(e,t,{body:n})=>{const a=void 0!==n&&"factoryNumber"in n?n.factoryNumber:void 0;return void 0!==a?[{type:"TechnicalRun",id:`factory-${a}`}]:[{type:"TechnicalRun",id:"LIST"}]},keepUnusedDataFor:300}),getPortableDevices:e.query({query:({body:e,dbId:t})=>({url:Ki(e.technicalRunId),method:"get",headers:{"X-Db":String(t)}}),providesTags:(e,t,{body:n})=>[{type:"PortableDevice",id:n.technicalRunId}],keepUnusedDataFor:180}),getSensors:e.query({query:({body:e,dbId:t})=>({url:Gi(e.technicalRunId,e.factoryNumber),method:"get",headers:{"X-Db":String(t)}}),providesTags:(e,t,{body:n})=>[{type:"Sensor",id:`${n.technicalRunId}-${n.factoryNumber}`}],keepUnusedDataFor:120})})}),Zi=(e,t)=>({body:e,dbId:t}),Yi=q("mirax/fetchTechnicalRuns",async({databaseId:e,factoryNumber:t,signal:n,onProgress:a},{dispatch:r,rejectWithValue:s})=>{var i;if(null==n?void 0:n.aborted)return{data:[],wasAborted:!0};r(ai());const l=void 0!==t?{factoryNumber:t}:void 0,o=r(Xi.endpoints.getTechnicalRuns.initiate(Zi(l,e)));try{let e;if(void 0!==a){let t=0;e=setInterval(()=>{t<90&&(t+=10,a(t),r(ri(t)))},100)}const s=void 0!==t?`    ${t}...`:"  ...",i=void 0!==t?`    ${t}`:" ",l=await In.run(o.unwrap(),{loading:{text:s},success:{text:i,toastOptions:{duration:700}},error:{toastOptions:{duration:3e3}}},{id:"fetch-technical-runs"});return void 0!==e&&clearInterval(e),(null==n?void 0:n.aborted)?(r(si({success:!1,error:void 0})),{data:l,wasAborted:!0}):(void 0!==a&&a(100),r(ri(100)),r(Ds(l)),r(si({success:!0})),{data:l,wasAborted:!1})}catch(c){if(null!==c&&"object"==typeof c&&"name"in c&&"AbortError"===c.name||(null==n?void 0:n.aborted))return r(si({success:!1,error:void 0})),{data:[],wasAborted:!0};const e=null!==c&&"object"==typeof c&&"message"in c&&"string"==typeof c.message?c.message:"   ";return r(si({success:!1,error:e})),s(e)}finally{null==(i=o.unsubscribe)||i.call(o)}}),Ji=q("mirax/fetchPortableDevices",async({databaseId:e,technicalRunId:t,signal:n,onProgress:a},{dispatch:r,rejectWithValue:s})=>{var i;if(null==n?void 0:n.aborted)return{data:[],wasAborted:!0};r(li(t));const l=r(Xi.endpoints.getPortableDevices.initiate(Zi({technicalRunId:t},e)));try{let e;if(void 0!==a){let n=0;e=setInterval(()=>{n<90&&(n+=10,a(n),r(oi({technicalRunId:t,progress:n})))},100)}const s=await In.run(l.unwrap(),{loading:{text:"  ..."},success:{text:" ",toastOptions:{duration:700}},error:{toastOptions:{duration:3e3}}},{id:"fetch-portable-devices"});return void 0!==e&&clearInterval(e),(null==n?void 0:n.aborted)?(r(ci({technicalRunId:t,success:!1,error:void 0})),{data:s,wasAborted:!0}):(void 0!==a&&a(100),r(oi({technicalRunId:t,progress:100})),r(Ls({technicalRunId:t,devices:s})),r(ci({technicalRunId:t,success:!0})),{data:s,wasAborted:!1})}catch(o){if(null!==o&&"object"==typeof o&&"name"in o&&"AbortError"===o.name||(null==n?void 0:n.aborted))return r(ci({technicalRunId:t,success:!1,error:void 0})),{data:[],wasAborted:!0};const e=null!==o&&"object"==typeof o&&"message"in o&&"string"==typeof o.message?o.message:"  ";return r(ci({technicalRunId:t,success:!1,error:e})),s(e)}finally{null==(i=l.unsubscribe)||i.call(l)}}),el=q("mirax/fetchSensors",async({databaseId:e,technicalRunId:t,factoryNumber:n,signal:a,onProgress:r},{dispatch:s,rejectWithValue:i})=>{var l;if(null==a?void 0:a.aborted)return{data:[],wasAborted:!0};s(fi({technicalRunId:t,factoryNumber:n}));const o=s(Xi.endpoints.getSensors.initiate(Zi({technicalRunId:t,factoryNumber:n},e)));try{let e;if(void 0!==r){let a=0;e=setInterval(()=>{a<90&&(a+=10,r(a),s(mi({technicalRunId:t,factoryNumber:n,progress:a})))},100)}const i=await In.run(o.unwrap(),{loading:{text:" ..."},success:{text:" ",toastOptions:{duration:700}},error:{toastOptions:{duration:3e3}}},{id:"fetch-sensors"});return void 0!==e&&clearInterval(e),(null==a?void 0:a.aborted)?(s(pi({technicalRunId:t,factoryNumber:n,success:!1,error:void 0})),{data:i,wasAborted:!0}):(void 0!==r&&r(100),s(mi({technicalRunId:t,factoryNumber:n,progress:100})),s(Ps({technicalRunId:t,factoryNumber:n,sensors:i})),s(pi({technicalRunId:t,factoryNumber:n,success:!0})),{data:i,wasAborted:!1})}catch(c){if(null!==c&&"object"==typeof c&&"name"in c&&"AbortError"===c.name||(null==a?void 0:a.aborted))return s(pi({technicalRunId:t,factoryNumber:n,success:!1,error:void 0})),{data:[],wasAborted:!0};const e=null!==c&&"object"==typeof c&&"message"in c&&"string"==typeof c.message?c.message:"  ";return s(pi({technicalRunId:t,factoryNumber:n,success:!1,error:e})),i(e)}finally{null==(l=o.unsubscribe)||l.call(o)}}),tl="_container_1kevx_3",nl="_icon_1kevx_13",al="_message_1kevx_23",rl="_retryButton_1kevx_35";function sl({message:e,onRetry:t}){return n.jsxs("div",{className:tl,children:[n.jsx("div",{className:nl,children:""}),n.jsx("p",{className:al,children:e}),t&&n.jsx("button",{className:rl,onClick:t,children:" "})]})}const il="_container_3g5d5_3",ll="_label_3g5d5_15",ol="_select_3g5d5_29";function cl(e){try{return new Date(e).toLocaleString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return e}}function ul(e){const t=new Date(e.dateStartTime).getTime();return new Date(e.dateEndTime).getTime()-t}const dl="dateStartAsc",fl="dateStartDesc",ml="dateEndAsc",pl="dateEndDesc",hl="nameAsc",gl="nameDesc",vl="durationAsc",yl="durationDesc",bl=[{value:fl,label:" :  "},{value:dl,label:" :  "},{value:pl,label:" :  "},{value:ml,label:" :  "},{value:hl,label:":   "},{value:gl,label:":   "},{value:vl,label:":   "},{value:yl,label:":   "}];const xl="factoryNumberAsc",_l="factoryNumberDesc",kl="nameAsc",wl="nameDesc",Nl=[{value:xl,label:" :  "},{value:_l,label:" :  "},{value:kl,label:":   "},{value:wl,label:":   "}];function Sl({value:e,onChange:t,className:a}){const r=b.useCallback(e=>{t(e.target.value)},[t]);return n.jsxs("div",{className:qi(il,a),children:[n.jsx("label",{htmlFor:"sort-select",className:ll,children:":"}),n.jsx("select",{id:"sort-select",className:ol,value:e,onChange:r,"aria-label":"  ",children:bl.map(e=>n.jsx("option",{value:e.value,children:e.label},e.value))})]})}const Tl="_container_4jn9u_3",jl="_input_4jn9u_13",Ml="_icon_4jn9u_55",Cl="_clearButton_4jn9u_75";function Il({value:e,onChange:t,onClear:a,placeholder:r}){const s=b.useCallback(e=>{t(e.target.value)},[t]),i=b.useCallback(t=>{"Escape"===t.key&&e&&a()},[e,a]);return n.jsxs("div",{className:Tl,children:[n.jsx("input",{type:"text",className:jl,value:e,onChange:s,onKeyDown:i,placeholder:r??"...","aria-label":""}),e&&n.jsx("button",{className:Cl,onClick:a,"aria-label":" ",type:"button",children:""}),n.jsx("span",{className:Ml,"aria-hidden":"true",children:""})]})}const El="_button_13c7t_3";function Al({text:e,label:t,className:a}){const[r,s]=b.useState(!1),i=b.useCallback(async t=>{t.stopPropagation();try{await navigator.clipboard.writeText(e),s(!0),setTimeout(()=>{s(!1)},2e3)}catch(n){}},[e]);return n.jsx("button",{className:qi(El,a),onClick:i,"aria-label":t??"",title:r?"!":"",type:"button",children:r?"":""})}const Rl="_container_1q6r1_3",Dl="_input_1q6r1_23",Ll="_searchButton_1q6r1_75",Pl="_clearButton_1q6r1_135";function Fl({onSearch:e,onClear:t,isActive:a,className:r}){const[s,i]=b.useState(""),l=b.useCallback(e=>{i(e.target.value)},[]),o=b.useCallback(()=>{const t=s.trim();t&&e(t)},[s,e]),c=b.useCallback(()=>{i(""),t()},[t]),u=b.useCallback(e=>{"Enter"===e.key&&(e.preventDefault(),o())},[o]);return n.jsxs("div",{className:qi(Rl,r),children:[n.jsx("input",{type:"text",className:Dl,placeholder:"  ...",value:s,onChange:l,onKeyDown:u,"aria-label":"   "}),n.jsx("button",{type:"button",className:Ll,onClick:o,disabled:!s.trim(),"aria-label":" ",title:"    ",children:" "}),a&&n.jsx("button",{type:"button",className:Pl,onClick:c,"aria-label":"  ",title:"     ",children:" "})]})}function ql(){const e=Qn(),t=Hn(bi),a=Hn(ji),r=Hn(Mi),s=Hn(ki),[i,l]=b.useState(""),[o,c]=b.useState(void 0),[u,d]=b.useState(pl),f=Hn(yi),m=b.useRef(void 0);b.useEffect(()=>{t?a||(f.length>0?m.current=t:m.current!==t&&(m.current=t,e(Yi({databaseId:t})))):m.current=void 0},[t,e,a,f.length]);const p=b.useMemo(()=>{let e=f;if(i.trim()){const t=i.toLowerCase().trim();e=f.filter(e=>{const n="string"==typeof e.name&&e.name.toLowerCase().includes(t),a=new Date(e.dateStartTime).toLocaleDateString("ru-RU"),r=new Date(e.dateEndTime).toLocaleDateString("ru-RU"),s=a.includes(t)||r.includes(t);return n||s})}return function(e,t){const n=[...e];switch(t){case dl:return n.sort((e,t)=>new Date(e.dateStartTime).getTime()-new Date(t.dateStartTime).getTime());case fl:return n.sort((e,t)=>{const n=new Date(e.dateStartTime).getTime();return new Date(t.dateStartTime).getTime()-n});case ml:return n.sort((e,t)=>new Date(e.dateEndTime).getTime()-new Date(t.dateEndTime).getTime());case pl:return n.sort((e,t)=>{const n=new Date(e.dateEndTime).getTime();return new Date(t.dateEndTime).getTime()-n});case hl:return n.sort((e,t)=>{const n=e.name??"",a=t.name??"";return n.localeCompare(a,"ru",{numeric:!0,sensitivity:"base"})});case gl:return n.sort((e,t)=>{const n=e.name??"";return(t.name??"").localeCompare(n,"ru",{numeric:!0,sensitivity:"base"})});case vl:return n.sort((e,t)=>ul(e)-ul(t));case yl:return n.sort((e,t)=>{const n=ul(e);return ul(t)-n});default:throw new Error(`  : ${t}`)}}(e,u)},[f,i,u]),h=b.useCallback(()=>{t&&(m.current=void 0,e(Yi({databaseId:t,factoryNumber:o})))},[e,t,o]),g=b.useCallback(e=>{l(e)},[]),v=b.useCallback(()=>{l("")},[]),y=b.useCallback(e=>{d(e)},[]),x=b.useCallback(t=>{e(Fs({id:t.id,name:t.name}))},[e]),_=b.useCallback(n=>{t&&(c(n),e(qs(n)),m.current=void 0,e(Yi({databaseId:t,factoryNumber:n})))},[e,t]),k=b.useCallback(()=>{t&&(c(void 0),e(qs(void 0)),m.current=void 0,e(Yi({databaseId:t})))},[e,t]);if(a)return n.jsx("div",{className:Oi.containerTechnicalRunsPanel,children:n.jsx("div",{className:Oi.loaderContainer,children:n.jsx("div",{className:Oi.spinner})})});if(void 0!==r)return n.jsx("div",{className:Oi.container,children:n.jsx(sl,{message:r,onRetry:h})});const w=i.trim()&&0===p.length;return n.jsxs("div",{className:Oi.containerTechnicalRunsPanel,children:[n.jsxs("div",{className:Oi.header,children:[n.jsx("h2",{className:Oi.title,children:""}),n.jsx("span",{className:Oi.count,children:i.trim()?`${p.length}  ${f.length}`:f.length})]}),n.jsxs("div",{className:Oi.controls,children:[void 0!==o&&n.jsxs("div",{className:Oi.activeFilterBadge,children:[":  ",n.jsx("strong",{children:o})]}),n.jsx(Fl,{onSearch:_,onClear:k,isActive:void 0!==o}),n.jsx(Il,{value:i,onChange:g,onClear:v,placeholder:"    ..."}),n.jsx(Sl,{value:u,onChange:y})]}),n.jsx("div",{className:Oi.list,children:0===f.length?n.jsx("div",{className:Oi.placeholder,children:void 0!==o?`     ${o}`:"  "}):w?n.jsxs("div",{className:Oi.placeholder,children:['     "',i,'"']}):n.jsx("ul",{className:Oi.items,children:p.map(e=>n.jsx("li",{className:qi(Oi.item,s===e.id&&Oi.itemActive),onClick:()=>x(e),children:n.jsxs("div",{className:Oi.itemContent,children:[n.jsx("h3",{className:Oi.itemName,children:"string"==typeof e.name?e.name:" "}),n.jsxs("div",{className:Oi.info,children:[n.jsxs("span",{children:["ID:",e.id]}),n.jsx(Al,{className:Oi.btnCopyFactoryNumber,text:e.id,label:" ID "})]}),n.jsxs("div",{className:Oi.itemDates,children:[n.jsx("span",{className:Oi.itemDate,children:cl(e.dateStartTime)}),n.jsx("span",{className:Oi.itemDate,children:cl(e.dateEndTime)})]})]})},e.id))})})]})}const Ol="_container_jhu5h_3",zl="_tabs_jhu5h_23",$l="_closeAllButton_jhu5h_73",Bl="_placeholder_jhu5h_111",Vl="_tab_ibk5a_3",Ul="_active_ibk5a_41",Ql="_title_ibk5a_57",Hl="_closeButton_ibk5a_87";function Wl({tab:e,isActive:t,onActivate:a,onClose:r}){const s=b.useCallback(e=>{e.stopPropagation(),r()},[r]);return n.jsxs("div",{className:qi(Vl,t&&Ul),onClick:a,role:"tab","aria-selected":t,children:[n.jsx("span",{className:Ql,title:e.name??" ",children:e.name??" "}),n.jsx("button",{className:Hl,onClick:s,"aria-label":" ",type:"button",children:""})]})}function Kl(){const e=Qn(),t=Hn(_i),a=Hn(ki),r=b.useCallback(()=>{e($s())},[e]);return 0===t.length?n.jsx("div",{className:Ol,children:n.jsx("div",{className:Bl,children:"    "})}):n.jsxs("div",{className:Ol,children:[n.jsx("div",{className:zl,children:t.map(t=>n.jsx(Wl,{tab:t,isActive:t.id===a,onActivate:()=>e(zs(t.id)),onClose:()=>e(Os(t.id))},t.id))}),t.length>1&&n.jsx("button",{className:$l,onClick:r,title:" ",children:" "})]})}const Gl="_container_tpc1f_3",Xl="_header_tpc1f_19",Zl="_title_tpc1f_37",Yl="_count_tpc1f_51",Jl="_controls_tpc1f_69",eo="_list_tpc1f_87",to="_placeholder_tpc1f_115",no="_error_tpc1f_135",ao="_container_2hxgm_3",ro="_label_2hxgm_15",so="_select_2hxgm_29";function io({value:e,onChange:t,className:a}){const r=b.useCallback(e=>{t(e.target.value)},[t]);return n.jsxs("div",{className:qi(ao,a),children:[n.jsx("label",{htmlFor:"device-sort-select",className:ro,children:":"}),n.jsx("select",{id:"device-sort-select",className:so,value:e,onChange:r,"aria-label":"   ",children:Nl.map(e=>n.jsx("option",{value:e.value,children:e.label},e.value))})]})}const lo=()=>{var e;if("function"==typeof(null==(e=globalThis.crypto)?void 0:e.randomUUID))return globalThis.crypto.randomUUID().toLowerCase();const t=globalThis.crypto??globalThis.msCrypto;if(t&&"function"==typeof t.getRandomValues){const e=new Uint8Array(16);t.getRandomValues(e);const n=e[6],a=e[8];e[6]=15&n|64,e[8]=63&a|128;const r=e=>e.toString(16).padStart(2,"0"),s=Array.from(e,r).join("");return`${s.slice(0,8)}-${s.slice(8,12)}-${s.slice(12,16)}-${s.slice(16,20)}-${s.slice(20)}`.toLowerCase()}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}).toLowerCase()},oo=Object.freeze([]);const co=O({name:"tabs",initialState:{byId:{},allIds:[],activeTabId:void 0},reducers:{createTab(e,t){const{id:n,name:a}=t.payload;if(n in e.byId)return;const r=a??` ${e.allIds.length+1}`;e.byId[n]={id:n,name:r,contextIds:[],visibleContextIds:[],syncEnabled:!1,syncContextIds:[]},e.allIds=[...e.allIds,n],e.activeTabId=n},setActiveTab(e,t){const n=t.payload;n in e.byId&&(e.activeTabId=n)},closeTab(e,t){const n=t.payload;n in e.byId&&(delete e.byId[n],e.allIds=e.allIds.filter(e=>e!==n),e.activeTabId===n&&(e.activeTabId=e.allIds[0]))},renameTab(e,t){const{tabId:n,name:a}=t.payload,r=e.byId[n];r&&(e.byId[n]={...r,name:a})},addContextToTab(e,t){const{tabId:n,contextId:a}=t.payload,r=e.byId[n];r&&(r.contextIds.includes(a)||(e.byId[n]={...r,contextIds:[...r.contextIds,a],visibleContextIds:[...r.visibleContextIds,a]}))},removeContextFromTab(e,t){const{tabId:n,contextId:a}=t.payload,r=e.byId[n];r&&(e.byId[n]={...r,contextIds:r.contextIds.filter(e=>e!==a),visibleContextIds:r.visibleContextIds.filter(e=>e!==a),syncContextIds:r.syncContextIds.filter(e=>e!==a)})},toggleContextVisibility(e,t){const{tabId:n,contextId:a}=t.payload,r=e.byId[n];if(!r)return;const s=r.visibleContextIds.includes(a)?r.visibleContextIds.filter(e=>e!==a):[...r.visibleContextIds,a];e.byId[n]={...r,visibleContextIds:s}},showAllContexts(e,t){const n=t.payload,a=e.byId[n];a&&(e.byId[n]={...a,visibleContextIds:[...a.contextIds]})},hideAllContexts(e,t){const n=t.payload,a=e.byId[n];a&&(e.byId[n]={...a,visibleContextIds:[]})},clearTabContexts(e,t){const n=t.payload,a=e.byId[n];a&&(e.byId[n]={...a,contextIds:[],visibleContextIds:[],syncContextIds:[]})},toggleTabSync(e,t){const n=t.payload,a=e.byId[n];if(!a)return;const r=!a.syncEnabled;e.byId[n]={...a,syncEnabled:r,syncContextIds:r?a.syncContextIds:[]}},addSyncContext(e,t){const{tabId:n,contextId:a}=t.payload,r=e.byId[n];r&&(r.syncContextIds.includes(a)||(e.byId[n]={...r,syncContextIds:[...r.syncContextIds,a]}))},removeSyncContext(e,t){const{tabId:n,contextId:a}=t.payload,r=e.byId[n];r&&(e.byId[n]={...r,syncContextIds:r.syncContextIds.filter(e=>e!==a)})},clearTabSyncContexts(e,t){const n=t.payload,a=e.byId[n];a&&(e.byId[n]={...a,syncContextIds:[]})},clearAllTabs(e){e.byId={},e.allIds=[],e.activeTabId=void 0}}}),uo=oe({key:"charts-tabs",storage:Ts},co.reducer),{createTab:fo,setActiveTab:mo,closeTab:po,renameTab:ho,addContextToTab:go,removeContextFromTab:vo,toggleContextVisibility:yo,showAllContexts:bo,hideAllContexts:xo,clearTabContexts:_o,clearAllTabs:ko,toggleTabSync:wo,addSyncContext:No,removeSyncContext:So,clearTabSyncContexts:To}=co.actions,jo=e=>e.tabs.activeTabId,Mo=e=>e.tabs.allIds,Co=P([e=>e.tabs.byId,(e,t)=>t],(e,t)=>e[t]),Io=P([Co],e=>null==e?void 0:e.name),Eo=P([Co],e=>(null==e?void 0:e.contextIds)??oo),Ao=P([Co],e=>(null==e?void 0:e.visibleContextIds)??oo);P([Co,(e,t,n)=>n],(e,t)=>(null==e?void 0:e.visibleContextIds.includes(t))??!1),P([Eo],e=>e.length),P([Eo],e=>e.length>0),P([e=>e.tabs.byId,jo],(e,t)=>{if(void 0!==t)return e[t]});const Ro=P([e=>e.tabs.byId,Mo],(e,t)=>t.map(t=>e[t]));P([Mo],e=>e.length>0),P([Mo],e=>e.length);const Do=P([Co],e=>(null==e?void 0:e.syncEnabled)??!1),Lo=P([Co],e=>(null==e?void 0:e.syncContextIds)??oo);P([Co,(e,t,n)=>n],(e,t)=>!!e&&e.syncContextIds.includes(t));const Po=P([Lo],e=>e.length),Fo=/{{\s*([\w:.\-]+)\s*}}/g;function qo(e){if(!e)return[];const t=[];let n;for(Fo.lastIndex=0;null!==(n=Fo.exec(e));){const e=(n[1]||"").trim();e&&!t.includes(e)&&t.push(e)}return t}function Oo(e,t){const n=[];return(e??[]).forEach(e=>{(function(e){const t=[],n=e=>qo(e).forEach(e=>{t.includes(e)||t.push(e)});return"string"==typeof e?n(e):Array.isArray(e)&&e.forEach(e=>{"string"==typeof e&&n(e)}),t})(e.value).forEach(e=>{n.includes(e)||n.push(e)})}),(null==t?void 0:t.whereSql)&&qo(t.whereSql).forEach(e=>{n.includes(e)||n.push(e)}),n}function zo(e){return Oo(e.where,e.sql??null)}function $o(e,t){return(e??[]).find(e=>((null==e?void 0:e.key)??"").trim()===t.trim())}function Bo(e,t){if(null==e)return e;const n=(t??"").toLowerCase().trim(),a=n.endsWith("[]"),r=a?n.slice(0,-2):n,s=e=>{if(null==e)return e;const t="string"==typeof e?e.trim():String(e);if(["int","integer","smallint","bigint","int4","int8"].includes(r)){const n=parseInt(t,10);return Number.isFinite(n)?n:e}if(["double","float","float8","real","float4","numeric","decimal"].includes(r)){const n=Number(t.replace(",","."));return Number.isFinite(n)?n:e}if(["bool","boolean"].includes(r)){const e=t.toLowerCase();return"true"===e||"1"===e||"yes"===e||"y"===e||"on"===e}return"string"==typeof e?e:t};if(!a)return s(e);return(i=e,Array.isArray(i)?i.map(e=>null==e?"":String(e)):"string"==typeof i?i.split(/[,;]+/).map(e=>e.trim()).filter(e=>e.length>0):[String(i)]).map(s);var i}function Vo(e,t){const n=e.params,a=null==n?void 0:n.map(e=>{var n;const a=((null==e?void 0:e.key)??"").trim(),r=t[a];return{...e,value:Bo(r,null==(n=null==e?void 0:e.field)?void 0:n.type)}});return{...e,params:a}}var Uo=(e=>(e.Initial="initial",e.Zoom="zoom",e.Pan="pan",e.Refresh="refresh",e))(Uo||{});const Qo=v(r()),Ho={syncFields:[],template:void 0,view:{},isDataLoaded:!1};function Wo(e,t){return t in e.chartContexts||(e.chartContexts[t]={contextId:t,syncFields:[],template:void 0,view:{},isDataLoaded:!1}),e.chartContexts[t]}const Ko=O({name:"contexts",initialState:{chartContexts:{}},reducers:{createContext(e,t){const{contextId:n,template:a}=t.payload;void 0===e.chartContexts[n]&&(e.chartContexts[n]={contextId:n,template:a,view:{},syncFields:[],isDataLoaded:!1})},deleteContext(e,t){const n=t.payload;delete e.chartContexts[n]},clearContext(e,t){const n=t.payload;void 0!==e.chartContexts[n]&&(e.chartContexts[n]={contextId:n,...Ho})},iniTopTile(e,t){var n;const{contextId:a,field:r,bucketMs:s,tile:i}=t.payload,l=e.chartContexts[a];if(!l)return;const o=l.view[r];o&&(null==(n=o.seriesLevel[s])||n.push(i))},updateResolvedCharReqTemplate(e,t){const{contextId:n,template:a}=t.payload;e.chartContexts[n]&&(e.chartContexts[n].template=a)},initialDataView(e,t){const{contextId:n,field:a,px:r,currentRange:s,originalRange:i,currentBucketsMs:l,seriesLevels:o,error:c}=t.payload;if(void 0===n)return;const u=e.chartContexts[n];if(!u)return;const d={};for(const f of o)d[f]=[];u.view[a]={originalRange:i,currentRange:s,currentBucketsMs:l,seriesLevel:d,px:r,loadingState:{active:!1,type:Uo.Initial,progress:0,startTime:0},error:c}},initialViews(e,t){const{contextId:n,px:a,fields:r}=t.payload;if(void 0===n)return;const s=e.chartContexts[n];s&&r.forEach(e=>{e.name in s.view||(s.view[e.name]={originalRange:{fromMs:0,toMs:0},currentRange:{fromMs:0,toMs:0},currentBucketsMs:0,seriesLevel:{},px:a,loadingState:{active:!1,type:Uo.Initial,progress:0,startTime:0},error:void 0})})},updateView(e,t){const{contextId:n,field:a,px:r}=t.payload,s=e.chartContexts[n];if(!s)return;const i=s.view[a];i&&(i.px=r)},setViewRange(e,t){const{contextId:n,field:a,range:r}=t.payload,s=e.chartContexts[n];if(!s)return;const i=s.view[a];i&&(i.currentRange=r)},setViewBucket(e,t){const{contextId:n,field:a,bucketMs:r}=t.payload,s=e.chartContexts[n];if(!s)return;const i=s.view[a];i&&(i.currentBucketsMs=r)},setLoadingState(e,t){const{contextId:n,field:a,loadingState:r}=t.payload,s=e.chartContexts[n];if(!s)return;const i=s.view[a];i&&(i.loadingState=r)},startLoading(e,t){const{contextId:n,field:a,type:r,message:s}=t.payload,i=e.chartContexts[n];if(!i)return;const l=i.view[a];l&&(l.loadingState={active:!0,type:r,progress:0,startTime:Date.now(),message:s})},startLoadingFields(e,t){const{contextId:n,fields:a,type:r,messageError:s}=t.payload,i=e.chartContexts[n];i&&a.forEach(e=>{const t=i.view[e.name];t&&(t.loadingState={active:!0,type:r,progress:0,startTime:Date.now(),message:s})})},updateLoadingProgress(e,t){const{contextId:n,field:a,progress:r,message:s}=t.payload,i=e.chartContexts[n];if(!i)return;const l=i.view[a];l&&l.loadingState.active&&(l.loadingState={...l.loadingState,progress:Math.min(r,100),message:s})},finishLoadings(e,t){const{contextId:n,fields:a,success:r}=t.payload,s=e.chartContexts[n];s&&a.forEach(e=>{const t=s.view[e.name];t&&(t.loadingState={active:!1,type:Uo.Initial,progress:100,startTime:0,success:r})})},finishLoading(e,t){const{contextId:n,field:a,message:r,success:s}=t.payload,i=e.chartContexts[n];if(!i)return;const l=i.view[a];l&&(l.loadingState={active:!1,type:Uo.Initial,progress:r?100:0,startTime:0,message:r,success:s})},setFieldError(e,t){const{contextId:n,fieldName:a,errorMessage:r}=t.payload,s=e.chartContexts[n];if(!s)return;const i=s.view[a];i&&(i.error=r)},clearFieldError(e,t){const{contextId:n,fieldName:a}=t.payload,r=e.chartContexts[n];if(!r)return;const s=r.view[a];s&&(s.error=void 0)},registerRequest(e,t){const{contextId:n,field:a,bucketMs:r,interval:s,requestId:i}=t.payload,l=Wo(e,n).view[a];if(!l)throw Error("view   "+a+"  ");l.seriesLevel[r]||(l.seriesLevel[r]=[]),l.seriesLevel[r].push({coverageInterval:s,bins:[],status:"loading",requestId:i})},completeRequest(e,t){const{contextId:n,field:a,bucketMs:r,requestId:s,bins:i}=t.payload,l=e.chartContexts[n];if(!l)return;const o=l.view[a];if(!o)return;const c=o.seriesLevel[r];if(!c)return;const u=c.find(e=>e.requestId===s);null!=u&&(u.bins=i,u.status="loading",delete u.requestId)},failRequest(e,t){const{contextId:n,field:a,bucketMs:r,requestId:s,error:i}=t.payload,l=e.chartContexts[n];if(!l)return;const o=l.view[a];if(!o)return;const c=o.seriesLevel[r];if(!c)return;const u=c.find(e=>e.requestId===s);u&&(u.status="error",u.error=i,delete u.requestId)},addContextSyncField(e,t){const{contextId:n,field:a}=t.payload,r=Wo(e,n);r.syncFields.some(e=>e.name===a.name)||(r.syncFields=[...r.syncFields,a])},removeContextSyncField(e,t){const{contextId:n,fieldName:a}=t.payload,r=Wo(e,n);r.syncFields=r.syncFields.filter(e=>e.name!==a)},clearContextSyncFields(e,t){Wo(e,t.payload).syncFields=[]},setIsDataLoaded(e,t){const{contextId:n,isLoaded:a}=t.payload,r=e.chartContexts[n];r&&(r.isDataLoaded=a)},setPx(e,t){const{contextId:n,px:a}=t.payload,r=e.chartContexts[n];r&&Object.values(r.view).forEach(e=>{e.px=a})},clearField(e,t){const{contextId:n,fieldName:a}=t.payload,r=e.chartContexts[n];r&&delete r.view[a]},clearAll(e){e.chartContexts={}},batchUpdateTiles(e,t){const{contextId:n,updates:a}=t.payload,r=e.chartContexts[n];r&&a.forEach(e=>{const t=r.view[e.field];t&&(t.seriesLevel[e.bucketMs]=e.tiles)})}}}),Go=Ko.reducer,Xo=oe({key:"charts",storage:Qo.createInstance({name:"ChartsDB",storeName:"charts_data",description:"Cached chart tiles data"}),version:1,throttle:2e3,debug:!0},Go),{createContext:Zo,deleteContext:Yo,clearContext:Jo,iniTopTile:ec,updateResolvedCharReqTemplate:tc,initialDataView:nc,initialViews:ac,updateView:rc,setViewRange:sc,setViewBucket:ic,setLoadingState:lc,startLoading:oc,startLoadingFields:cc,updateLoadingProgress:uc,finishLoadings:dc,finishLoading:fc,setFieldError:mc,clearFieldError:pc,registerRequest:hc,completeRequest:gc,failRequest:vc,addContextSyncField:yc,removeContextSyncField:bc,clearContextSyncFields:xc,setIsDataLoaded:_c,setPx:kc,clearField:wc,clearAll:Nc,batchUpdateTiles:Sc}=Ko.actions;async function Tc(e,t,n,a,r,s,i,l){try{const o=r.find(e=>e.id===s),c=r.find(e=>e.id===i);if(!o)return void alert("   .  .");if(!c)return void alert("   .  .");const u=n.factoryNumber??"",d=t.id,f=lo();e(fo({id:f,name:`${n.name??""} - ${n.factoryNumber}`})),e(mo(f));const m={deviceId:u,technicalRunToStartId:d},p=Vo({...o,databaseId:l},m),h=lo();e(Zo({contextId:h,template:p})),e(go({tabId:f,contextId:h}));for(const t of a){const n={deviceId:u,technicalRunToStartId:d,channelNumber:t.channelNumber??0},a=Vo({...c,databaseId:l},n);a.name=`${c.name} -  ${t.channelNumber} (${t.gas??"N/A"}) ${t.displayUnits??""}(${t.mainUnits??""})`;const r=lo();e(Zo({contextId:r,template:a})),e(go({tabId:f,contextId:r}))}}catch(o){alert("   . .   .")}}const jc="_container_w66o0_7",Mc="_tabs_w66o0_65",Cc="_tabWrapper_w66o0_81",Ic="_tab_w66o0_65",Ec="_tabActive_w66o0_147",Ac="_tabTitle_w66o0_173",Rc="_tabCount_w66o0_205",Dc="_buildButton_w66o0_229";function Lc({devices:e,selectedPort:t,onPortChange:a,technicalRun:r,databaseId:s,dispatch:i,allTemplates:l,defaultBaseTemplateId:o,defaultSensorTemplateId:c}){const[u,d]=b.useState(void 0),[f,m]=b.useState(void 0),p=b.useRef(s);b.useEffect(()=>{p.current=s},[s]);const h=b.useMemo(()=>{const t=new Set;for(const n of e){if(!("comPortName"in n))continue;const e=n.comPortName;"string"==typeof e&&""!==e.trim()&&t.add(e.trim())}return Array.from(t).sort((e,t)=>{const n=parseInt(e.replace(/\D/g,""),10),a=parseInt(t.replace(/\D/g,""),10);return Number.isNaN(n)&&Number.isNaN(a)?e.localeCompare(t):Number.isNaN(n)?1:Number.isNaN(a)?-1:n-a})},[e]),g=b.useCallback(e=>{a(t===e?void 0:e)},[t,a]),v=b.useCallback(t=>e.filter(e=>{if(!("comPortName"in e))return!1;const n=e.comPortName;return"string"==typeof n&&n.trim()===t}),[e]),y=b.useCallback(e=>v(e).length,[v]),x=b.useCallback(async(e,t)=>{if(e.stopPropagation(),void 0===p.current)return void In.error("Database is undefined");const n=v(t);if(0!==n.length){m(t);try{for(const e of n){const t="factoryNumber"in e&&"string"==typeof e.factoryNumber?e.factoryNumber:"";if(""===t)continue;if(void 0===o){In.error(`defaultBaseTemplateId is undefined | ${t} | ${e.id}`);continue}if(void 0===c){In.error(`defaultSensorTemplateId is undefined | ${t} | ${e.id}`);continue}let n=[];try{n=(await i(el({databaseId:p.current,technicalRunId:r.id,factoryNumber:t,signal:(new AbortController).signal})).unwrap()).data}catch(a){continue}await Tc(i,r,e,n,l,o,c,p.current)}In.success(`   ${n.length}   ${t}`)}catch(a){In.error("  ")}finally{m(void 0)}}else In.error(`    ${t}`)},[v,r,i,l,o,c]);return 0===h.length?null:n.jsx("div",{className:jc,children:n.jsx("div",{className:Mc,children:h.map(e=>{const a=y(e),r=u===e,s=f===e;return n.jsxs("div",{className:Cc,onMouseEnter:()=>d(e),onMouseLeave:()=>d(void 0),children:[n.jsxs("button",{type:"button",className:qi(Ic,t===e&&Ec),onClick:()=>g(e),title:t===e?`  ${e}`:`  ${e}`,children:[n.jsx("span",{className:Ac,children:e}),n.jsxs("span",{className:Rc,children:["(",a,")"]})]}),r&&n.jsx("button",{type:"button",className:Dc,onClick:t=>{x(t,e)},disabled:s,title:`      ${e}`,"aria-label":`   ${e}`,children:s?"":""})]},e)})})})}const Pc={item:"_item_132aq_3",selected:"_selected_132aq_29",header:"_header_132aq_39",expandButton:"_expandButton_132aq_55",btnCopyFactoryNumber:"_btnCopyFactoryNumber_132aq_91",comPortLabel:"_comPortLabel_132aq_111",arrow:"_arrow_132aq_121",expanded:"_expanded_132aq_135",content:"_content_132aq_143",nameContainer:"_nameContainer_132aq_159",name:"_name_132aq_159",metaRow:"_metaRow_132aq_185",factoryNumber:"_factoryNumber_132aq_199",gasesContainer:"_gasesContainer_132aq_211",gasBadge:"_gasBadge_132aq_225",displayUnit:"_displayUnit_132aq_249",chartButton:"_chartButton_132aq_265",children:"_children_132aq_315",loading:"_loading_132aq_325",empty:"_empty_132aq_327"},Fc="_list_6djr2_3",qc="_item_1hdjp_3",Oc="_content_1hdjp_21",zc="_gas_1hdjp_35",$c="_channel_1hdjp_47",Bc="_modification_1hdjp_57";function Vc({sensor:e}){return n.jsx("li",{className:qc,children:n.jsxs("div",{className:Oc,children:[n.jsx("span",{className:zc,children:e.gas}),n.jsxs("span",{className:$c,children:[" ",e.channelNumber]}),e.modification&&n.jsxs("span",{className:Bc,children:[e.modification," ",e.displayUnits," (",e.mainUnits,")"]})]})})}function Uc({sensors:e}){return n.jsx("ul",{className:Fc,children:e.map((e,t)=>n.jsx(Vc,{sensor:e},`${e.gas}-${e.channelNumber}-${t}`))})}function Qc({device:e,technicalRun:t,isFirst:a,isHighlighted:r}){const s=se(Di),i=se(Li);if(void 0===t||void 0===e)return n.jsx("li",{className:Pc.item,children:n.jsx("div",{className:Pc.error,children:":     "})});const l=Qn(),o=Hn(xi),c=b.useRef(o),u="factoryNumber"in e&&"string"==typeof e.factoryNumber?e.factoryNumber:"",d=Hn(e=>((e,t)=>e.mirax.expandedDeviceFactoryNumbers.includes(t))(e,u)),f=Hn(wi)===u,m=b.useRef(void 0),p=b.useRef(!1);b.useEffect(()=>{c.current=o},[o]);const h=Hn(e=>e.chartsTemplates.items),g=Hn(e=>Ei(e,t.id,u)),v=Hn(e=>Ti(e,t.id,u)).isLoading;b.useEffect(()=>{if(!a)return;if(!p.current&&void 0!==o&&""!==u&&0===g.length&&!v){p.current=!0;const e=new AbortController;m.current=e,l(el({databaseId:o.id,technicalRunId:t.id,factoryNumber:u,signal:e.signal}))}},[a,o,t.id,u,g.length,v,l]);const y=b.useCallback(()=>{u&&l(Hs(u))},[l,u]),x=b.useCallback(async e=>{var n;if(e.stopPropagation(),u&&(l(Js(u)),!d&&0===g.length&&void 0!==(null==o?void 0:o.id))){null==(n=m.current)||n.abort(),m.current=new AbortController;try{await l(el({databaseId:o.id,technicalRunId:t.id,factoryNumber:u,signal:m.current.signal})).unwrap()}catch(a){null!==a&&"object"==typeof a&&"name"in a&&a.name}}},[l,u,d,g.length,o,t.id]),_=b.useCallback(async n=>{if(n.stopPropagation(),void 0===c.current)return void In.error("Database is undefined");let a=g;if(0===g.length&&u)try{a=(await l(el({databaseId:c.current.id,technicalRunId:t.id,factoryNumber:u,signal:(new AbortController).signal})).unwrap()).data}catch(r){return}await Tc(l,t,e,a,h,s,i,c.current.id)},[t,e,g,u,l,h,s,i]);return n.jsxs("li",{className:qi(Pc.item,f&&Pc.selected,r&&Pc.highlighted),children:[n.jsxs("div",{className:Pc.header,onClick:y,children:[n.jsx("button",{className:Pc.expandButton,onClick:x,"aria-expanded":d,"aria-label":d?"":"",disabled:!u,type:"button",children:n.jsx("span",{className:qi(Pc.arrow,d&&Pc.expanded),children:""})}),n.jsx("span",{className:Pc.comPortLabel,children:e.comPortName}),n.jsxs("div",{className:Pc.content,children:[n.jsxs("div",{className:Pc.nameContainer,children:[n.jsx("h4",{className:Pc.name,children:e.factoryNumber}),n.jsx(Al,{className:Pc.btnCopyFactoryNumber,text:e.factoryNumber,label:" factoryNumber "})]}),n.jsxs("div",{className:Pc.metaRow,children:[e.factoryNumber&&n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:Pc.factoryNumber,children:["ID:",e.id]}),n.jsx(Al,{className:Pc.btnCopyFactoryNumber,text:e.id,label:" ID "})]}),!v&&g.length>0&&n.jsx("div",{className:Pc.gasesContainer,children:g.map(e=>n.jsxs("div",{className:Pc.gasBadge,children:[e.gas," ",n.jsx("div",{className:Pc.displayUnit,children:e.displayUnits})]},e.gas))}),n.jsx("button",{className:Pc.chartButton,onClick:_,title:" ",type:"button",children:" "})]})]})]}),d&&n.jsx("div",{className:Pc.children,children:v?n.jsx("div",{className:Pc.loading,children:" ..."}):g.length>0?n.jsx(Uc,{sensors:g}):n.jsx("div",{className:Pc.empty,children:" "})})]})}const Hc="_list_om2q9_5",Wc="_deviceWrapper_om2q9_23",Kc="_deviceWrapperActive_om2q9_35",Gc="_errorState_om2q9_85",Xc="_emptyState_om2q9_87";function Zc({devices:e,technicalRun:t,activeFactoryNumber:a}){const r=b.useRef(null),s=b.useMemo(()=>void 0===a?-1:e.findIndex(e=>"factoryNumber"in e&&("string"==typeof e.factoryNumber&&e.factoryNumber===a)),[e,a]);return b.useEffect(()=>{if(void 0===a)return;if(-1===s)return;const e=requestAnimationFrame(()=>{const e=setTimeout(()=>{null!==r.current&&r.current.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},150);return()=>clearTimeout(e)});return()=>{cancelAnimationFrame(e)}},[a,s,e.length]),void 0===t?n.jsx("div",{className:Gc,children:":   "}):0===e.length?n.jsx("div",{className:Xc,children:" "}):n.jsx("ul",{className:Hc,children:e.map((e,a)=>{const i=a===s,l=0===a;return n.jsx("div",{ref:i?r:null,className:qi(Wc,i&&Kc),children:n.jsx(Qc,{device:e,technicalRun:t,isFirst:l,isHighlighted:i})},e.id)})})}const Yc="_container_1yl5a_3",Jc="_progressBar_1yl5a_13",eu="_progressFill_1yl5a_31",tu="_message_1yl5a_45",nu="_percentage_1yl5a_57";function au({progress:e,message:t}){return n.jsxs("div",{className:Yc,children:[n.jsx("div",{className:Jc,children:n.jsx("div",{className:eu,style:{width:`${Math.min(100,Math.max(0,e))}%`}})}),t&&n.jsx("p",{className:tu,children:t}),n.jsxs("p",{className:nu,children:[Math.round(e),"%"]})]})}function ru({technicalRunId:e}){const t=Qn(),a=Hn(xi),r=Hn(t=>Si(t,e)),s=Hn(t=>((e,t)=>{var n;return(null==(n=e.mirax.devicesLoading[t])?void 0:n.isLoading)??!1})(t,e)),i=Hn(t=>((e,t)=>{var n;return null==(n=e.mirax.devicesLoading[t])?void 0:n.error})(t,e)),l=Hn(t=>Ai(t,e)),o=Hn(t=>Ri(t,e)),c=Hn(e=>e.chartsTemplates.items),u=Hn(Di),d=Hn(Li),[f,m]=b.useState(""),[p,h]=b.useState(void 0),[g,v]=b.useState(xl),y=Hn(Pi);b.useEffect(()=>{void 0===(null==a?void 0:a.id)||0!==o.length||s||void 0!==i||t(Ji({databaseId:a.id,technicalRunId:e}))},[t,a,e,o.length,s,i]);const x=b.useMemo(()=>{let e=o;if(void 0!==p&&(e=e.filter(e=>{if(!("comPortName"in e))return!1;const t=e.comPortName;return"string"==typeof t&&t.trim()===p})),f.trim()){const t=f.toLowerCase().trim();e=e.filter(e=>{const n="name"in e&&"string"==typeof e.name&&e.name.toLowerCase().includes(t),a="factoryNumber"in e&&"string"==typeof e.factoryNumber&&e.factoryNumber.toLowerCase().includes(t);return n||a})}return function(e,t){const n=[...e];switch(t){case xl:return n.sort((e,t)=>{const n=e.factoryNumber??"",a=t.factoryNumber??"";if(!n&&a)return 1;if(n&&!a)return-1;if(!n&&!a)return 0;const r=parseInt(n,10),s=parseInt(a,10);return isNaN(r)||isNaN(s)?n.localeCompare(a,"ru",{numeric:!0,sensitivity:"base"}):r-s});case _l:return n.sort((e,t)=>{const n=e.factoryNumber??"",a=t.factoryNumber??"";if(!n&&a)return 1;if(n&&!a)return-1;if(!n&&!a)return 0;const r=parseInt(n,10),s=parseInt(a,10);return isNaN(r)||isNaN(s)?a.localeCompare(n,"ru",{numeric:!0,sensitivity:"base"}):s-r});case kl:return n.sort((e,t)=>{const n=e.name??"",a=t.name??"";return!n&&a?1:n&&!a?-1:n||a?n.localeCompare(a,"ru",{numeric:!0,sensitivity:"base"}):0});case wl:return n.sort((e,t)=>{const n=e.name??"",a=t.name??"";return!n&&a?1:n&&!a?-1:n||a?a.localeCompare(n,"ru",{numeric:!0,sensitivity:"base"}):0});default:throw new Error(`   : ${t}`)}}(e,g)},[o,p,f,g]),_=b.useCallback(e=>{m(e)},[]),k=b.useCallback(()=>{m("")},[]),w=b.useCallback(e=>{h(e)},[]),N=b.useCallback(e=>{v(e)},[]),S=b.useCallback(()=>{void 0!==(null==a?void 0:a.id)&&t(Ji({databaseId:a.id,technicalRunId:e}))},[t,a,e]),T=(f.trim()||void 0!==p)&&0===x.length;return void 0===l?n.jsx("div",{className:Gl,children:n.jsx("div",{className:no,children:":    "})}):void 0!==i?n.jsx("div",{className:Gl,children:n.jsx(sl,{message:i,onRetry:S})}):s?n.jsx("div",{className:Gl,children:n.jsx(au,{progress:r.progress,message:" ..."})}):n.jsxs("div",{className:Gl,children:[n.jsxs("div",{className:Xl,children:[n.jsx("h2",{className:Zl,children:""}),o.length>0&&n.jsx("span",{className:Yl,children:f.trim()||void 0!==p?`${x.length}  ${o.length}`:o.length})]}),o.length>0&&n.jsxs("div",{className:Jl,children:[n.jsx(Il,{value:f,onChange:_,onClear:k,placeholder:" ..."}),n.jsx(io,{value:g,onChange:N})]}),void 0!==(null==a?void 0:a.id)&&n.jsx(Lc,{devices:o,selectedPort:p,onPortChange:w,technicalRun:l,databaseId:a.id,dispatch:t,allTemplates:c,defaultBaseTemplateId:u,defaultSensorTemplateId:d}),n.jsx("div",{className:eo,children:0===o.length?n.jsx("div",{className:to,children:" "}):T?n.jsx("div",{className:to,children:void 0===p||f.trim()?`     "${f}"`:`    ${p}`}):n.jsx(Zc,{devices:x,technicalRun:l,activeFactoryNumber:y})})]})}const su=yn({reducerPath:"metadataApi",baseQuery:Hi(),tagTypes:["Metadata/databases/all","Metadata/databases/create","Metadata/databases/update","Metadata/databases/delete","Metadata/databases/entities","Metadata/databases/fields"],endpoints:e=>({getDatabases:e.query({query:()=>({url:Dn.DATABASES.All,method:"get"}),providesTags:["Metadata/databases/all"],keepUnusedDataFor:300}),createDatabase:e.mutation({query:e=>({url:Dn.DATABASES.CREATE,method:"post",data:e}),invalidatesTags:["Metadata/databases/create"]}),updateDatabase:e.mutation({query:e=>({url:`${Dn.DATABASES.UPDATE(e.id)}`,method:"put",data:e}),invalidatesTags:["Metadata/databases/update"]}),deleteDatabase:e.mutation({query:({id:e})=>({url:`${Dn.DATABASES.DELETE(e)}`,method:"delete"}),invalidatesTags:[{type:"Metadata/databases/delete"}]}),getEntities:e.mutation({query:()=>({url:Dn.DATABASES.ENTITIES,method:"get"}),invalidatesTags:[{type:"Metadata/databases/entities"}]}),getEntityFields:e.mutation({query:({entity:e})=>({url:Dn.DATABASES.FIELDS,method:"get",params:{entity:e}}),invalidatesTags:[{type:"Metadata/databases/fields"}]}),testConnection:e.mutation({query:e=>({url:Dn.DATABASES.TEST_CONNECTION,method:"post",data:e})})})}),{useTestConnectionMutation:iu}=su,lu=yn({reducerPath:"chartReqTemplatesApi",baseQuery:Hi(),tagTypes:["Templates/all","Templates/create","Templates/update","Templates/delete"],endpoints:e=>({getTemplates:e.query({query:()=>({url:Dn.TEMPLATES.All,method:"get"}),providesTags:["Templates/all"],keepUnusedDataFor:300}),createTemplate:e.mutation({query:e=>({url:Dn.TEMPLATES.CREATE,method:"post",data:e}),invalidatesTags:["Templates/create"]}),updateTemplate:e.mutation({query:e=>({url:Dn.TEMPLATES.UPDATE(e.id),method:"put",data:e}),invalidatesTags:["Templates/update"]}),deleteTemplate:e.mutation({query:e=>({url:Dn.TEMPLATES.DELETE(e),method:"delete"}),invalidatesTags:["Templates/delete"]})})});function ou(e){e&&("function"==typeof e.unsubscribe?e.unsubscribe():"function"==typeof e.reset&&e.reset())}const cu=e=>e.id,uu={activeTemplate:{},items:[],listLoaded:!1,loading:{list:!1,create:!1,update:!1,delete:!1},errors:{list:void 0,create:void 0,update:void 0,delete:void 0},getTemplateById:{}},du=q("chartsTemplates/fetchAll",async(e,{getState:t,dispatch:n})=>{var a;const r=!(!e||!e.force),s=t().chartsTemplates;if(!r&&s.listLoaded&&s.items.length>0)return;n(ku({key:"list",value:!0}));const i=n(lu.endpoints.getTemplates.initiate());try{const e=await In.run(i.unwrap(),{loading:{text:" "},success:{text:" ",toastOptions:{duration:700}},error:{text:"   ",toastOptions:{duration:3e3}}},{id:"fetch-fields"}),{getDatabasesById:a}=t().chartsMeta,r=e.map(e=>{const t=e.database??a[e.databaseId];return t?{...e,database:t}:{...e}});n(yu(r)),n(_u(!0)),n(Nu("list"))}catch(l){const e=(null==(a=null==l?void 0:l.data)?void 0:a.errorMessage)??("string"==typeof(null==l?void 0:l.data)?l.data:void 0)??(null==l?void 0:l.message)??"Request failed";n(wu({key:"list",error:e}))}finally{n(ku({key:"list",value:!1})),ou(i)}}),fu=q("chartsTemplates/create",async(e,{dispatch:t})=>{var n;t(ku({key:"create",value:!0}));const a=t(lu.endpoints.createTemplate.initiate(e));try{const e=await In.run(a.unwrap(),{loading:{text:" "},success:{text:"  ",toastOptions:{duration:700}},error:{text:"   ",toastOptions:{duration:3e3}}},{id:"fetch-fields"});e&&t(bu(e)),t(Nu("create"))}catch(r){const e=(null==(n=null==r?void 0:r.data)?void 0:n.errorMessage)??("string"==typeof(null==r?void 0:r.data)?r.data:void 0)??(null==r?void 0:r.message)??"Request failed";t(wu({key:"create",error:e}))}finally{t(ku({key:"create",value:!1})),ou(a)}}),mu=q("chartsTemplates/update",async(e,{dispatch:t})=>{var n;t(ku({key:"update",value:!0}));const a=t(lu.endpoints.updateTemplate.initiate(e));try{const e=await In.run(a.unwrap(),{loading:{text:" "},success:{text:"  ",toastOptions:{duration:700}},error:{text:"   ",toastOptions:{duration:3e3}}},{id:"fetch-fields"});e&&t(bu(e)),t(Nu("update"))}catch(r){const e=(null==(n=null==r?void 0:r.data)?void 0:n.errorMessage)??("string"==typeof(null==r?void 0:r.data)?r.data:void 0)??(null==r?void 0:r.message)??"Request failed";t(wu({key:"update",error:e}))}finally{t(ku({key:"update",value:!1})),ou(a)}}),pu=q("chartsTemplates/delete",async({id:e},{dispatch:t})=>{var n;t(ku({key:"delete",value:!0}));const a=t(lu.endpoints.deleteTemplate.initiate(e));try{await In.run(a.unwrap(),{loading:{text:" "},success:{text:"   !",toastOptions:{duration:700}},error:{text:"    !",toastOptions:{duration:3e3}}},{id:"fetch-fields"}),t(xu(e)),t(Nu("delete"))}catch(r){const e=(null==(n=null==r?void 0:r.data)?void 0:n.errorMessage)??("string"==typeof(null==r?void 0:r.data)?r.data:void 0)??(null==r?void 0:r.message)??"Request failed";t(wu({key:"delete",error:e}))}finally{t(ku({key:"delete",value:!1})),ou(a)}});q("chartsMeta/applyTemplate",(e,{getState:t,dispatch:n})=>{var a,r;const s=t(),i=(null==(a=e.database)?void 0:a.id)??e.databaseId;if(!i)throw new Error("databaseId is undefined");const l=s.chartsMeta.getDatabasesById[i];if(!l)throw new Error("database is undefined");const o=null==(r=e.entity)?void 0:r.name,c=o?l.entities.find(e=>e.name===o):void 0,u={...e,database:l,entity:c};n(gu(u))});const hu=O({name:"chartsTemplates",initialState:uu,reducers:{setActiveTemplate(e,t){e.activeTemplate.id!=t.payload.id&&(e.activeTemplate=t.payload)},setTemplateDatabase(e,t){const n=e.getTemplateById[t.payload.itemId];void 0!==n&&(n.database=t.payload.database)},setTemplates(e,t){e.items=t.payload,e.items.forEach(t=>{e.getTemplateById[t.id]=t})},upsertTemplate(e,t){const n=t.payload,a=cu(n),r=e.items.findIndex(e=>cu(e)===a);r>=0?(e.items[r]=n,e.getTemplateById[n.id]=n):(e.items.unshift(n),e.getTemplateById[n.id]=n)},removeTemplate(e,t){e.items=e.items.filter(e=>cu(e)!==t.payload),e.getTemplateById={},e.items.forEach(t=>{e.getTemplateById[t.id]=t})},setChartTemplatesListLoaded(e,t){e.listLoaded=t.payload},setChartTemplatesLoading(e,t){const{key:n,value:a}=t.payload;e.loading[n]=a,a&&(e.errors[n]=void 0)},setChartTemplatesError(e,t){const{key:n,error:a}=t.payload;e.errors[n]=a??"Unknown error"},clearChartTemplatesError(e,t){e.errors[t.payload]=void 0},clearAllTemplateData:()=>({...uu}),setActiveTemplateDb(e,t){const n=t.payload;e.activeTemplate.databaseId=n.id,e.activeTemplate.database=n,e.activeTemplate.entity=e.activeTemplate.database.entities[0],e.activeTemplate.selectedFields=[]},setActiveTemplateEntity(e,t){e.activeTemplate.entity=t.payload},clearBoundActiveTemplate(e){e.activeTemplate.id=void 0},setActiveTemplateWhere(e,t){e.activeTemplate.where=t.payload},setActiveTemplateSql(e,t){e.activeTemplate.sql=t.payload},setActiveTemplateParams(e,t){e.activeTemplate.params=t.payload},setActiveTemplateTimeField(e,t){e.activeTemplate.timeField=t.payload},setActiveTemplateName(e,t){e.activeTemplate.name=t.payload},setActiveTemplateDesc(e,t){e.activeTemplate.description=t.payload},setActiveTemplateRange(e,t){e.activeTemplate.originalFromMs!=t.payload.fromMs&&(e.activeTemplate.originalFromMs=t.payload.fromMs),e.activeTemplate.originalToMs!=t.payload.toMs&&(e.activeTemplate.originalToMs=t.payload.toMs)},setActiveTemplateSelectedFields(e,t){e.activeTemplate.selectedFields=t.payload},toggleActiveTemplateSelectedField(e,t){const n=t.payload,a=e.activeTemplate.selectedFields??[],r=a.findIndex(e=>e.name===n.name);e.activeTemplate.selectedFields=r>=0?a.filter((e,t)=>t!==r):[...a,n]},resetActiveTemplateEntitiesAndFields(e){e.activeTemplate.entity=void 0,e.activeTemplate.selectedFields=[]},resetActiveTemplateOnLoad(e){e.activeTemplate={},e.loading={list:!1,create:!1,update:!1,delete:!1},e.errors={list:void 0,create:void 0,update:void 0,delete:void 0}}}}),{setActiveTemplate:gu,setTemplateDatabase:vu,setTemplates:yu,upsertTemplate:bu,removeTemplate:xu,setChartTemplatesListLoaded:_u,setChartTemplatesLoading:ku,setChartTemplatesError:wu,clearChartTemplatesError:Nu,setActiveTemplateEntity:Su,setActiveTemplateDb:Tu,setActiveTemplateTimeField:ju,setActiveTemplateSelectedFields:Mu,toggleActiveTemplateSelectedField:Cu,clearBoundActiveTemplate:Iu,resetActiveTemplateEntitiesAndFields:Eu,setActiveTemplateWhere:Au,setActiveTemplateSql:Ru,setActiveTemplateParams:Du,clearAllTemplateData:Lu,setActiveTemplateName:Pu,setActiveTemplateDesc:Fu,setActiveTemplateRange:qu,resetActiveTemplateOnLoad:Ou}=hu.actions,zu=e=>{var t;return null==(t=e.chartsTemplates.activeTemplate.database)?void 0:t.entities},$u=e=>e.chartsTemplates.activeTemplate.entity,Bu=e=>{var t,n;return null==(n=null==(t=e.chartsTemplates.activeTemplate)?void 0:t.entity)?void 0:n.fields},Vu=e=>e.chartsTemplates.activeTemplate.timeField,Uu=e=>e.chartsTemplates.activeTemplate.selectedFields,Qu=e=>e.chartsTemplates.activeTemplate.database,Hu=e=>e.chartsTemplates.activeTemplate,Wu=e=>e.chartsTemplates.items,Ku=e=>e.chartsTemplates.loading,Gu=e=>e.chartsTemplates.listLoaded,Xu=e=>e.chartsTemplates.getTemplateById,Zu=oe({key:"chartsTemplates",storage:it,whitelist:[]},hu.reducer);function Yu(e){e&&("function"==typeof e.unsubscribe?e.unsubscribe():"function"==typeof e.reset&&e.reset())}const Ju={databases:[],loading:{databases:!1,entities:!1,fields:!1},errors:{databases:void 0,entities:void 0,fields:void 0},databasesLoaded:!1,getDatabasesById:{},databaseLoadingStates:{},lastDatabasesErrorTime:void 0},ed=q("chartsMeta/fetchDatabases",async(e,{getState:t,dispatch:n})=>{var a;const r=!(!e||!e.force),s=t().chartsMeta;if(!r&&s.databasesLoaded&&s.databases.length>0)return;if(s.loading.databases)return;if(!r&&s.lastDatabasesErrorTime){if(Date.now()-s.lastDatabasesErrorTime<5e3)return}n(pd({key:"databases",value:!0}));const i=n(su.endpoints.getDatabases.initiate());try{const e=await In.run(i.unwrap(),{loading:{text:" "},success:{text:" ",toastOptions:{duration:700}},error:{text:"   ",toastOptions:{duration:3e3}}},{id:"fetch-databases"});e.forEach(e=>{n(md({dbId:e.id,state:"success"}))}),n(id(e)),n(ud(!0)),n(gd("databases")),n(yd())}catch(l){const e=(null==(a=null==l?void 0:l.data)?void 0:a.errorMessage)??("string"==typeof(null==l?void 0:l.data)?l.data:void 0)??(null==l?void 0:l.message)??"Request failed";n(hd({key:"databases",error:e})),n(vd(Date.now()))}finally{n(pd({key:"databases",value:!1})),i.unsubscribe()}}),td=q("chartsMeta/createDatabase",async(e,{dispatch:t})=>{const n=t(su.endpoints.createDatabase.initiate(e));try{const e=await In.run(n.unwrap(),{loading:{text:"  "},success:{text:"  ",toastOptions:{duration:2e3}},error:{text:"    ",toastOptions:{duration:3e3}}},{id:"create-database"});return t(ld(e)),e}finally{Yu(n)}}),nd=q("chartsMeta/updateDatabase",async(e,{dispatch:t})=>{const n=t(su.endpoints.updateDatabase.initiate(e));try{const e=await In.run(n.unwrap(),{loading:{text:"  "},success:{text:"  ",toastOptions:{duration:2e3}},error:{text:"    ",toastOptions:{duration:3e3}}},{id:"update-database"});return t(od(e)),e}finally{Yu(n)}}),ad=q("chartsMeta/deleteDatabase",async({id:e},{dispatch:t})=>{const n=t(su.endpoints.deleteDatabase.initiate({id:e}));try{return await In.run(n.unwrap(),{loading:{text:"  "},success:{text:"  ",toastOptions:{duration:2e3}},error:{text:"    ",toastOptions:{duration:3e3}}},{id:"delete-database"}),t(cd(e)),e}finally{Yu(n)}}),rd=q("chartsMeta/fetchEntities",async(e,{getState:t,dispatch:n})=>{var a;const r=t().chartsTemplates.activeTemplate.database;if(!r)throw new Error("Database does not exist");n(md({dbId:r.id,state:"loading"})),n(pd({key:"entities",value:!0}));const s=n(su.endpoints.getEntities.initiate());try{const e=await In.run(s.unwrap(),{loading:{text:" "},success:{text:" ",toastOptions:{duration:700}},error:{text:"   ",toastOptions:{duration:3e3}}},{id:"fetch-entities"});n(dd({dbId:r.id,entities:e})),n(md({dbId:r.id,state:"success"})),n(gd("entities"))}catch(i){n(dd({dbId:r.id,entities:void 0})),n(md({dbId:r.id,state:"error"}));const e=(null==(a=null==i?void 0:i.data)?void 0:a.errorMessage)??("string"==typeof(null==i?void 0:i.data)?i.data:void 0)??(null==i?void 0:i.message)??"Request failed";n(hd({key:"entities",error:e}))}finally{n(pd({key:"entities",value:!1}))}});q("chartsMeta/fetchEntityFields",async(e,{getState:t,dispatch:n})=>{var a,r;const s=t().chartsTemplates,i=s.activeTemplate.database,l=null==(a=s.activeTemplate.entity)?void 0:a.name;if(null==i)throw Error("databaseId is undefined");if(null==l)throw Error("entity name is undefined");const o=e&&e.entity||s.activeTemplate.entity;if(!o)return void n(fd({dbId:i.id,entity:o,fields:void 0}));n(md({dbId:i.id,state:"loading"})),n(pd({key:"fields",value:!0}));const c=n(su.endpoints.getEntityFields.initiate({entity:o}));try{const e=await In.run(c.unwrap(),{loading:{text:" "},success:{text:" ",toastOptions:{duration:700}},error:{text:"   ",toastOptions:{duration:3e3}}},{id:"fetch-fields"})??[];n(fd({dbId:i.id,entity:o,fields:e})),n(md({dbId:i.id,state:"success"}));const t=new Set(e.map(e=>e.name));n(Mu(s.activeTemplate.selectedFields.filter(e=>t.has(e.name)))),n(gd("fields"))}catch(u){n(fd({dbId:i.id,entity:o,fields:void 0})),n(md({dbId:i.id,state:"error"}));const e=(null==(r=null==u?void 0:u.data)?void 0:r.errorMessage)??("string"==typeof(null==u?void 0:u.data)?u.data:void 0)??(null==u?void 0:u.message)??"Request failed";n(hd({key:"fields",error:e}))}finally{n(pd({key:"fields",value:!1}))}});const sd=O({name:"chartsMeta",initialState:Ju,reducers:{setFieldsDatabase(e,t){const n=t.payload.dbId,a=e.getDatabasesById[n];if(!a)throw Error("database is undefined");const r=a.entities.find(e=>e.name==t.payload.entity);if(!r)throw Error("entity is undefined");r.fields=t.payload.fields??[]},setDatabases(e,t){e.databases=t.payload??[],e.databases.forEach(t=>{e.getDatabasesById[t.id]=t})},addDatabase(e,t){const n=t.payload;e.databases.push(n),e.getDatabasesById[n.id]=n},updateDatabaseInState(e,t){const n=t.payload,a=e.databases.findIndex(e=>e.id===n.id);-1!==a&&(e.databases[a]=n),e.getDatabasesById[n.id]=n},removeDatabaseFromState(e,t){const n=t.payload;e.databases=e.databases.filter(e=>e.id!==n),delete e.getDatabasesById[n],delete e.databaseLoadingStates[n]},setDatabasesLoaded(e,t){e.databasesLoaded=t.payload},setEntitiesDatabase(e,t){const n=t.payload.dbId,a=e.getDatabasesById[n];if(null==a)throw Error("database is undefined");a.entities=t.payload.entities??[]},setDatabaseLoadingState(e,t){const{dbId:n,state:a}=t.payload;e.databaseLoadingStates[n]=a},setDatabasesLoading(e,t){const{key:n,value:a}=t.payload;e.loading[n]=a,a&&(e.errors[n]=void 0)},setDatabasesError(e,t){const{key:n,error:a}=t.payload;e.errors[n]=a??"Unknown error"},clearDatabasesError(e,t){const n=t.payload;e.errors[n]=void 0},setLastDatabasesErrorTime(e,t){e.lastDatabasesErrorTime=t.payload},clearLastDatabasesErrorTime(e){e.lastDatabasesErrorTime=void 0},resetDatabasesState:()=>({...Ju})}}),{setDatabases:id,addDatabase:ld,updateDatabaseInState:od,removeDatabaseFromState:cd,setDatabasesLoaded:ud,setEntitiesDatabase:dd,setFieldsDatabase:fd,setDatabaseLoadingState:md,setDatabasesLoading:pd,setDatabasesError:hd,clearDatabasesError:gd,setLastDatabasesErrorTime:vd,clearLastDatabasesErrorTime:yd}=sd.actions,bd=e=>e.chartsMeta.databases,xd=e=>e.chartsMeta.getDatabasesById,_d=e=>e.chartsMeta.databasesLoaded,kd=e=>e.chartsMeta.loading,wd=e=>e.chartsMeta.errors,Nd=oe({key:"chartsMeta",storage:it,whitelist:[]},sd.reducer);function Sd(){const e=Qn(),t=Hn(ki),a=Hn(bi),r=Hn(xi),s=se(_d),i=se(kd).databases,l=se(bd);b.useEffect(()=>{i||s||e(ed())},[e,s,i]),b.useEffect(()=>{s&&a&&!r&&e(Rs())},[e,s,a,r]),b.useEffect(()=>{if(!i&&s&&(null==l?void 0:l.length)>0&&void 0===r){const t=l.find(e=>"default"===e.name);t&&e(As(t.id))}},[e,i,s,l,r]);return s?0===l.length?n.jsx("div",{className:gs,children:n.jsx("div",{className:ys,children:"   "})}):n.jsxs("div",{className:ls,children:[n.jsxs("div",{className:os,children:[n.jsx("label",{htmlFor:"database-select",className:ds,children:null==r?n.jsx("span",{className:cs,children:'   "'}):n.jsx(n.Fragment,{children:n.jsx("div",{className:us})})}),n.jsxs("select",{id:"database-select",className:fs,value:(null==r?void 0:r.id)??"",onChange:t=>{const n=t.target.value;n&&e(As(n))},children:[n.jsx("option",{value:"",disabled:!0,children:"  "}),l.map(e=>n.jsx("option",{value:e.id,children:e.name},e.id))]})]}),void 0===r?n.jsx("div",{className:gs,children:n.jsx("div",{className:ys,children:"   "})}):n.jsxs("div",{className:ms,children:[n.jsx(ql,{}),n.jsxs("div",{className:ps,children:[n.jsx(Kl,{}),n.jsx("div",{className:hs,children:void 0!==t?n.jsx(ru,{technicalRunId:t}):n.jsx("div",{className:vs,children:n.jsx("div",{className:ys,children:"  "})})})]})]})]}):n.jsx("div",{className:gs,children:n.jsx("div",{className:ys,children:"  ..."})})}const Td="_backdrop_1hs48_1",jd="_dialog_1hs48_21",Md="_title_1hs48_43",Cd="_desc_1hs48_55",Id="_actions_1hs48_67",Ed="_btn_1hs48_79",Ad="_primary_1hs48_101",Rd="_danger_1hs48_111",Dd=b.createContext(void 0);function Ld(){const e=b.useContext(Dd);if(!e)throw new Error("useConfirm must be used within <ConfirmProvider>");return e}const Pd=({children:e})=>{const t=b.useRef(void 0),[a,r]=b.useState(!1),[s,i]=b.useState({}),l=e=>{var n;r(!1),null==(n=t.current)||n.call(t,e),t.current=void 0},o=b.useCallback(e=>(i(e??{}),r(!0),new Promise(e=>{t.current=e})),[]),c=e=>{"Escape"!==e.key||s.disableBackdropClose||l(!1),"Enter"===e.key&&l(!0)},u=b.useMemo(()=>a?N.createPortal(n.jsx("div",{className:Td,"aria-hidden":!a,onMouseDown:()=>!s.disableBackdropClose&&l(!1),children:n.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":"confirm-title","aria-describedby":"confirm-desc",className:jd,onMouseDown:e=>e.stopPropagation(),onKeyDown:c,tabIndex:-1,children:[s.title&&n.jsx("h3",{id:"confirm-title",className:Md,children:s.title}),s.description&&n.jsx("p",{id:"confirm-desc",className:Cd,children:s.description}),n.jsxs("div",{className:Id,children:[n.jsx("button",{type:"button",className:Ed,onClick:()=>l(!1),children:s.cancelText??"Cancel"}),n.jsx("button",{type:"button",className:`${Ed} ${s.danger?Rd:Ad}`,onClick:()=>l(!0),autoFocus:!0,children:s.confirmText??"Confirm"})]})]})}),document.body):null,[a,s]);return n.jsxs(Dd.Provider,{value:o,children:[e,u]})};var Fd=(e=>(e[e.Unknown=0]="Unknown",e[e.Online=1]="Online",e[e.Offline=2]="Offline",e))(Fd||{}),qd=(e=>(e[e.Unknown=0]="Unknown",e[e.Postgres=1]="Postgres",e[e.SqlServer=2]="SqlServer",e[e.MySql=3]="MySql",e[e.Sqlite=4]="Sqlite",e[e.Oracle=5]="Oracle",e))(qd||{});const Od="_backdrop_uif8i_3",zd="_modal_uif8i_23",$d="_modalHeader_uif8i_45",Bd="_modalTitle_uif8i_63",Vd="_btnClose_uif8i_75",Ud="_modalBody_uif8i_113",Qd="_fieldRow_uif8i_129",Hd="_fieldLabel_uif8i_141",Wd="_required_uif8i_153",Kd="_input_uif8i_161",Gd="_textarea_uif8i_163",Xd="_select_uif8i_165",Zd="_inputError_uif8i_217",Yd="_modalFooter_uif8i_257",Jd="_btnPrimary_uif8i_275",ef="_btnSecondary_uif8i_277",tf="_btnTest_uif8i_361",nf="_testSuccess_uif8i_409",af="_testError_uif8i_411",rf="_testIcon_uif8i_449",sf="_testMessage_uif8i_477";function lf({database:e,onCancel:t,onSave:a,isLoading:r}){const s=null!==e,[i,l]=b.useState(""),[o,c]=b.useState(""),[u,d]=b.useState(""),[f,m]=b.useState(qd.Postgres),[p,{isLoading:h}]=iu(),[g,v]=b.useState(null);b.useEffect(()=>{e?(l(e.name),c(e.connectionString),d(e.databaseVersion??""),m(e.provider)):(l(""),c(""),d(""),m(qd.Postgres)),v(null)},[e]),b.useEffect(()=>{v(null)},[o,f]),b.useEffect(()=>{const e=e=>{"Escape"===e.key&&t()};document.addEventListener("keydown",e);const n=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow=n}},[t]);const y=""!==i.trim()&&""!==o.trim(),x=""!==o.trim(),_=Object.entries(qd).filter(([e])=>isNaN(Number(e))).map(([e,t])=>({label:e,value:t}));return n.jsx("div",{className:Od,onClick:t,role:"dialog","aria-modal":"true",children:n.jsxs("div",{className:zd,onClick:e=>e.stopPropagation(),children:[n.jsxs("div",{className:$d,children:[n.jsx("div",{className:Bd,children:s?"  ":"  "}),n.jsx("button",{className:Vd,onClick:t,"aria-label":"",type:"button",children:""})]}),n.jsxs("div",{className:Ud,children:[n.jsxs("div",{className:Qd,children:[n.jsxs("label",{className:Hd,children:[" ",n.jsx("span",{className:Wd,children:"*"})]}),n.jsx("input",{className:`${Kd} ${i.trim()?"":Zd}`,value:i,onChange:e=>l(e.target.value),placeholder:" ",disabled:r})]}),n.jsxs("div",{className:Qd,children:[n.jsx("label",{className:Hd,children:""}),n.jsx("select",{className:Xd,value:f,onChange:e=>m(Number(e.target.value)),disabled:r,children:_.map(e=>n.jsx("option",{value:e.value,children:e.label},e.value))})]}),n.jsxs("div",{className:Qd,children:[n.jsxs("label",{className:Hd,children:["  ",n.jsx("span",{className:Wd,children:"*"})]}),n.jsx("textarea",{className:`${Gd} ${o.trim()?"":Zd}`,value:o,onChange:e=>c(e.target.value),placeholder:"Host=...;Database=...;Username=...;Password=...",rows:3,disabled:r}),n.jsx("button",{className:tf,onClick:async()=>{if(o.trim())try{const e=await p({connectionString:o.trim(),provider:f}).unwrap();v(e),e.success&&e.serverVersion&&!u.trim()&&d(e.serverVersion)}catch(e){v({success:!1,serverVersion:null,errorMessage:"   ",responseTimeMs:0})}},disabled:!x||h||r,type:"button",children:h?"...":" "})]}),g&&n.jsx("div",{className:g.success?nf:af,children:g.success?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:rf,children:""}),n.jsxs("div",{className:sf,children:[n.jsx("strong",{children:" "}),g.serverVersion&&n.jsxs("span",{children:[" : ",g.serverVersion]}),n.jsxs("span",{children:[" : ",g.responseTimeMs," "]})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:rf,children:""}),n.jsxs("div",{className:sf,children:[n.jsx("strong",{children:" "}),g.errorMessage&&n.jsx("span",{children:g.errorMessage}),g.responseTimeMs>0&&n.jsxs("span",{children:[" : ",g.responseTimeMs," "]})]})]})}),n.jsxs("div",{className:Qd,children:[n.jsx("label",{className:Hd,children:" "}),n.jsx("input",{className:Kd,value:u,onChange:e=>d(e.target.value),placeholder:": 15.0",disabled:r})]})]}),n.jsxs("div",{className:Yd,children:[n.jsx("button",{className:ef,onClick:t,disabled:r,type:"button",children:""}),n.jsx("button",{className:Jd,disabled:!y||r,onClick:()=>{if(i.trim()&&o.trim())if(s&&e){const t={id:e.id,name:i.trim(),connectionString:o.trim(),databaseVersion:u.trim(),provider:f};a(t)}else{const e={name:i.trim(),connectionString:o.trim(),databaseVersion:u.trim(),provider:f};a(e)}},type:"button",children:r?"...":s?"":""})]})]})})}const of="_container_bts19_1",cf="_card_bts19_17",uf="_icon_bts19_43",df="_title_bts19_53",ff="_description_bts19_67",mf="_form_bts19_81",pf="_input_bts19_95",hf="_inputError_bts19_127",gf="_errorText_bts19_147",vf="_button_bts19_159",yf=b.createContext(null);function bf({children:e}){const[t,a]=b.useState(!1),[r,s]=b.useState(""),[i,l]=b.useState(!1),o=()=>{a(!1),s(""),l(!1)};return t?n.jsx(yf.Provider,{value:{lock:o},children:e}):n.jsx("div",{className:of,children:n.jsxs("div",{className:cf,children:[n.jsx("div",{className:uf,children:""}),n.jsx("h2",{className:df,children:" "}),n.jsx("p",{className:ff,children:"       "}),n.jsxs("form",{onSubmit:e=>{e.preventDefault(),"0000"===r?(a(!0),l(!1)):(l(!0),s(""))},className:mf,children:[n.jsx("input",{type:"password",className:`${pf} ${i?hf:""}`,value:r,onChange:e=>{s(e.target.value),l(!1)},placeholder:" ",autoFocus:!0}),i&&n.jsx("span",{className:gf,children:" "}),n.jsx("button",{type:"submit",className:vf,children:""})]})]})})}const xf="_container_1yk7x_1",_f="_header_1yk7x_15",kf="_title_1yk7x_33",wf="_refreshButton_1yk7x_47",Nf="_content_1yk7x_89",Sf="_listPanel_1yk7x_103",Tf="_listHeader_1yk7x_121",jf="_list_1yk7x_103",Mf="_emptyList_1yk7x_149",Cf="_listItem_1yk7x_163",If="_listItemSelected_1yk7x_185",Ef="_listItemMain_1yk7x_203",Af="_dbName_1yk7x_217",Rf="_listItemSub_1yk7x_229",Df="_provider_1yk7x_237",Lf="_detailsPanel_1yk7x_249",Pf="_noSelection_1yk7x_261",Ff="_details_1yk7x_249",qf="_detailsTitle_1yk7x_287",Of="_detailsGrid_1yk7x_301",zf="_detailRow_1yk7x_313",$f="_detailRowFull_1yk7x_325",Bf="_detailLabel_1yk7x_337",Vf="_detailValue_1yk7x_351",Uf="_connectionString_1yk7x_361",Qf="_errorMessage_1yk7x_391",Hf="_status_1yk7x_411",Wf="_statusOnline_1yk7x_425",Kf="_statusOffline_1yk7x_435",Gf="_statusUnknown_1yk7x_445",Xf="_loading_1yk7x_457",Zf="_error_1yk7x_391",Yf="_retryButton_1yk7x_497",Jf="_headerActions_1yk7x_527",em="_createButton_1yk7x_537",tm="_lockButton_1yk7x_579",nm="_detailsHeader_1yk7x_615",am="_detailsActions_1yk7x_639",rm="_editButton_1yk7x_651",sm="_deleteButton_1yk7x_693",im="_testButton_1yk7x_735",lm="_testResultContainer_1yk7x_779",om="_testSuccess_1yk7x_791",cm="_testError_1yk7x_793",um="_testIcon_1yk7x_831",dm="_testMessage_1yk7x_859",fm="_testLoading_1yk7x_897";function mm(){const e=Qn(),t=Ld(),{lock:a}=function(){const e=b.useContext(yf);if(!e)throw new Error("usePasswordGate must be used within PasswordGate");return e}(),r=se(bd),s=se(kd).databases,i=se(wd).databases,l=se(_d),[o,c]=b.useState(null),[u,d]=b.useState(null),[f,m]=b.useState(!1);b.useEffect(()=>{l||s||e(ed({force:!1}))},[e,l,s]);const p=e=>String(e),h=e=>{switch(e){case Fd.Online:return{text:"Online",className:Wf};case Fd.Offline:return{text:"Offline",className:Kf};default:return{text:String(e),className:Gf}}},g=()=>{e(ed({force:!0}))};return s&&!l?n.jsx("div",{className:xf,children:n.jsx("div",{className:Xf,children:"  ..."})}):i?n.jsx("div",{className:xf,children:n.jsxs("div",{className:Zf,children:[n.jsxs("span",{children:[": ",i]}),n.jsx("button",{onClick:g,className:Yf,children:""})]})}):n.jsxs("div",{className:xf,children:[n.jsxs("div",{className:_f,children:[n.jsx("h2",{className:kf,children:" "}),n.jsxs("div",{className:Jf,children:[n.jsx("button",{onClick:()=>{d("create")},className:em,disabled:f,children:"+ "}),n.jsx("button",{onClick:g,disabled:s||f,className:wf,children:s?"...":""}),n.jsx("button",{onClick:a,className:tm,children:""})]})]}),n.jsxs("div",{className:Nf,children:[n.jsxs("div",{className:Sf,children:[n.jsx("div",{className:Tf,children:n.jsxs("span",{children:["   (",r.length,")"]})}),n.jsx("div",{className:jf,children:0===r.length?n.jsx("div",{className:Mf,children:"   "}):r.map(e=>{const t=h(e.availability);return n.jsxs("div",{className:`${Cf} ${(null==o?void 0:o.id)===e.id?If:""}`,onClick:()=>c(e),children:[n.jsxs("div",{className:Ef,children:[n.jsx("span",{className:Af,children:e.name}),n.jsx("span",{className:`${Hf} ${t.className}`,children:t.text})]}),n.jsx("div",{className:Rf,children:n.jsx("span",{className:Df,children:p(e.provider)})})]},e.id)})})]}),n.jsx("div",{className:Lf,children:o?n.jsx(pm,{database:o,getProviderDisplayName:p,getAvailabilityStatus:h,onEdit:()=>{o&&d(o)},onDelete:async()=>{if(!o)return;if(await t({title:"  ?",description:`  "${o.name}"  .   .`,confirmText:"",cancelText:"",danger:!0})){m(!0);try{await e(ad({id:o.id})).unwrap(),c(null)}finally{m(!1)}}},isLoading:f}):n.jsx("div",{className:Pf,children:"     "})})]}),null!==u&&n.jsx(lf,{database:"create"===u?null:u,onCancel:()=>{d(null)},onSave:async t=>{m(!0);try{if("id"in t&&t.id){const n=await e(nd(t)).unwrap();c(n)}else{const n=await e(td(t)).unwrap();c(n)}d(null)}finally{m(!1)}},isLoading:f})]})}function pm({database:e,getProviderDisplayName:t,getAvailabilityStatus:a,onEdit:r,onDelete:s,isLoading:i}){var l,o;const c=a(e.availability),[u,{isLoading:d}]=iu(),[f,m]=b.useState(null);b.useEffect(()=>{m(null)},[e.id]);return n.jsxs("div",{className:Ff,children:[n.jsxs("div",{className:nm,children:[n.jsx("h3",{className:qf,children:e.name}),n.jsxs("div",{className:am,children:[n.jsx("button",{className:im,onClick:async()=>{m(null);try{const t=await u({connectionString:e.connectionString,provider:e.provider}).unwrap();m(t)}catch{m({success:!1,serverVersion:null,errorMessage:"   ",responseTimeMs:0})}},disabled:i||d,children:d?"...":" "}),n.jsx("button",{className:rm,onClick:r,disabled:i,children:""}),n.jsx("button",{className:sm,onClick:s,disabled:i,children:""})]})]}),(d||f)&&n.jsx("div",{className:lm,children:d?n.jsx("div",{className:fm,children:" ..."}):f&&n.jsx("div",{className:f.success?om:cm,children:f.success?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:um,children:""}),n.jsxs("div",{className:dm,children:[n.jsx("strong",{children:" "}),f.serverVersion&&n.jsxs("span",{children:[" : ",f.serverVersion]}),n.jsxs("span",{children:[" : ",f.responseTimeMs," "]})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:um,children:""}),n.jsxs("div",{className:dm,children:[n.jsx("strong",{children:" "}),f.errorMessage&&n.jsx("span",{children:f.errorMessage}),f.responseTimeMs>0&&n.jsxs("span",{children:[" : ",f.responseTimeMs," "]})]})]})})}),n.jsxs("div",{className:Of,children:[n.jsxs("div",{className:zf,children:[n.jsx("span",{className:Bf,children:":"}),n.jsx("span",{className:`${Hf} ${c.className}`,children:c.text})]}),n.jsxs("div",{className:zf,children:[n.jsx("span",{className:Bf,children:":"}),n.jsx("span",{className:Vf,children:t(e.provider)})]}),n.jsxs("div",{className:zf,children:[n.jsx("span",{className:Bf,children:":"}),n.jsx("span",{className:Vf,children:e.databaseVersion||" "})]}),e.description&&n.jsxs("div",{className:zf,children:[n.jsx("span",{className:Bf,children:":"}),n.jsx("span",{className:Vf,children:e.description})]}),n.jsxs("div",{className:$f,children:[n.jsx("span",{className:Bf,children:" :"}),n.jsx("div",{className:Uf,children:n.jsx("code",{children:e.connectionString})})]}),e.lastConnectivityAt&&n.jsxs("div",{className:zf,children:[n.jsx("span",{className:Bf,children:" :"}),n.jsx("span",{className:Vf,children:new Date(e.lastConnectivityAt).toLocaleString("ru-RU")})]}),e.LastConnectivityError&&n.jsxs("div",{className:$f,children:[n.jsx("span",{className:Bf,children:" :"}),n.jsx("div",{className:Qf,children:e.LastConnectivityError})]}),n.jsxs("div",{className:zf,children:[n.jsx("span",{className:Bf,children:":"}),n.jsx("span",{className:Vf,children:(null==(l=e.entities)?void 0:l.length)??0})]}),n.jsxs("div",{className:zf,children:[n.jsx("span",{className:Bf,children:":"}),n.jsx("span",{className:Vf,children:(null==(o=e.chartReqTemplates)?void 0:o.length)??0})]})]})]})}const hm="_container_1i604_1",gm="_emptyText_1i604_11",vm="_list_1i604_41",ym="_card_1i604_53",bm="_blockId_1i604_105",xm="_btnCopyFactoryNumber_1i604_123",_m="_cardTitle_1i604_133",km="_cardDescr_1i604_143",wm="_btnExec_1i604_159",Nm="_btnExecRun_1i604_205",Sm="_card_center_1i604_213",Tm="_actions_1i604_235",jm="_btnDelete_1i604_261",Mm="_btnExecEdit_1i604_277",Cm={wrap:"_wrap_14k8f_1",full:"_full_14k8f_21",icon:"_icon_14k8f_37",spin:"_spin_14k8f_45",label:"_label_14k8f_71"},Im=({label:e,fullScreen:t,className:a,threePointOffset:r})=>n.jsxs("div",{className:[Cm.wrap,t?Cm.full:"",a??""].join(" "),role:"status","aria-live":"polite",children:[n.jsx(s,{className:`${Cm.icon} ${Cm.spin}`,"aria-hidden":!0}),n.jsx("span",{className:Cm.label,style:{marginLeft:r||null==r&&null==e?6:0},children:e??""})]});function Em({items:e,onPick:t,onDelete:a,onExecute:r,onExecuteShow:s}){const i=se(Ku),l=se(Hu),{theme:o}=Yn();return n.jsxs("div",{className:hm,"data-theme":o,children:[i.list&&n.jsx(Im,{}),0===e.length&&!i.list&&n.jsx("div",{className:gm,children:"  "}),n.jsx("div",{className:vm,children:e.map(e=>{const c=e.id,u=e.name,d=e.description;return n.jsxs("div",{"data-theme":o,className:ym,onClick:()=>t(e),"data-active":l.id===c,children:[n.jsxs("div",{className:bm,children:[n.jsxs("span",{children:["ID:",e.id]}),n.jsx(Al,{className:xm,text:e.id,label:" Id "})]}),n.jsxs("div",{className:Sm,children:[n.jsxs("div",{className:Tm,children:[n.jsx("button",{className:`${wm} ${jm}`,onClick:()=>a(c,u),title:"",disabled:i.delete,children:i.delete?"":n.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:n.jsx("path",{d:"M3 6H21M8 6V4C8 3.45 8.45 3 9 3H15C15.55 3 16 3.45 16 4V6M10 11V17M14 11V17M4 6H20V20C20 21.10 19.10 22 18 22H6C4.90 22 4 21.10 4 20V6Z",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),n.jsx("button",{className:`${wm} ${Mm}`,onClick:()=>{s(e)},title:"",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M12 20h9"}),n.jsx("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})})]}),n.jsx("div",{className:_m,children:u}),d&&n.jsx("div",{className:km,children:d})]}),n.jsx("button",{className:`${wm} ${Nm}`,onClick:()=>{r(e)},title:"",children:""})]},c)})})]})}const Am="_backdrop_73mj9_3",Rm="_modal_73mj9_25",Dm="_modalHeader_73mj9_47",Lm="_modalTitle_73mj9_65",Pm="_btnClose_73mj9_75",Fm="_modalBody_73mj9_101",qm="_fieldRow_73mj9_115",Om="_fieldLabel_73mj9_129",zm="_metaText_73mj9_137",$m="_badge_73mj9_147",Bm="_input_73mj9_169",Vm="_inputError_73mj9_191",Um="_modalFooter_73mj9_201",Qm="_btnPrimary_73mj9_219",Hm="_btnSecondary_73mj9_221",Wm="_container_1ic8i_5",Km="_timezoneContainer_1ic8i_17",Gm="_timezoneInfo_1ic8i_31",Xm="_timezoneLabel_1ic8i_119",Zm="_row_1ic8i_165",Ym="_row_a_1ic8i_177",Jm="_label_1ic8i_189",ep="_input_1ic8i_237",tp="_helpers_1ic8i_289",np="_helperBtn_1ic8i_299",ap="_error_1ic8i_359",rp=[1e3,2e3,5e3,1e4,15e3,2e4,3e4,6e4,12e4,3e5,6e5,9e5,18e5,36e5,72e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,15552e6,31536e6,63072e6,15768e7];function sp(e,t,n,a=!1,r=52){const s=Math.max(1,t-e),i=Math.max(20,Math.floor(.05*n)),l=Math.max(1,s/i);for(const o of rp)if(o>=l)return o;if(a){const e=6048e5;let t=Math.ceil(l/e);return t=Math.max(1,Math.min(t,r)),Math.round(t*e)}return rp.length>0?rp[rp.length-1]:6048e5}const ip=O({name:"chartsSettings",initialState:{bucketing:{targetPointsPerPx:.05,minTargetPoints:20,enableWeeklyMultiples:!1,maxWeeksMultiple:52,niceMilliseconds:rp},timeSettings:{useTimeZone:!0,timeZone:"UTC"}},reducers:{setTimeSettings(e,t){e.timeSettings=t.payload}}}),lp=e=>e.chartsSettings.timeSettings,op=e=>e.chartsSettings.bucketing,{setTimeSettings:cp}=ip.actions,up=ip.reducer;function dp(e){if(null==e)return;if(e instanceof Date)return isNaN(e.getTime())?void 0:e;const t=new Date(e);return isNaN(t.getTime())?void 0:t}function fp(e,t){const n=dp(e);if(!n)return"";const a=e=>String(e).padStart(2,"0");if((null==t?void 0:t.useTimeZone)&&"UTC"===(null==t?void 0:t.timeZone)){return`${n.getUTCFullYear()}-${a(n.getUTCMonth()+1)}-${a(n.getUTCDate())}T${a(n.getUTCHours())}:${a(n.getUTCMinutes())}`}return`${n.getFullYear()}-${a(n.getMonth()+1)}-${a(n.getDate())}T${a(n.getHours())}:${a(n.getMinutes())}`}function mp(e,t){if(!e)return;const[n,a]=e.split("T");if(!n||!a)return;const[r,s,i]=n.split("-").map(Number),[l,o]=a.split(":").map(Number);return(null==t?void 0:t.useTimeZone)&&"UTC"===(null==t?void 0:t.timeZone)?new Date(Date.UTC(r??0,(s??1)-1,i??1,l??0,o??0,0,0)):new Date(r??0,(s??1)-1,i??1,l??0,o??0,0,0)}function pp(e,t,n){const a=dp(e);if(!a||isNaN(a.getTime()))return"";const r={timeZone:t.useTimeZone?t.timeZone:void 0,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1,...n};try{return new Intl.DateTimeFormat("ru-RU",r).format(a)}catch(s){return""}}const hp=({range:e,onChange:t,labelFrom:a="From",labelTo:r="To",disabled:s})=>{const i=Hn(lp),l=b.useMemo(()=>function(e){if(!e.useTimeZone)return"";const t=e.timeZone;if("UTC"===t)return"+00:00";try{const e=new Date,n=new Intl.DateTimeFormat("en-US",{timeZone:t,hour:"numeric",minute:"numeric",hour12:!1}),a=new Intl.DateTimeFormat("en-US",{timeZone:"UTC",hour:"numeric",minute:"numeric",hour12:!1}),r=n.format(e),s=a.format(e),[i,l]=r.split(":").map(Number),[o,c]=s.split(":").map(Number);if(!(i&&l&&o&&c))return"";let u=60*i+l-(60*o+c);u>720&&(u-=1440),u<-720&&(u+=1440);const d=u>=0?"+":"-",f=Math.abs(u),m=Math.floor(f/60),p=f%60;return`${d}${m.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`}catch(n){return""}}(i),[i]),o=b.useMemo(()=>fp(e.fromMs,i),[e.fromMs,i]),c=b.useMemo(()=>fp(e.toMs,i),[e.toMs,i]),u=!!e.fromMs&&!!e.toMs&&e.fromMs>=e.toMs;return n.jsxs("div",{className:Wm,children:[i.useTimeZone&&n.jsx("div",{className:Km,children:n.jsx("div",{className:Gm,children:n.jsxs("span",{className:Xm,children:[" : ",i.timeZone," (",l,")"]})})}),n.jsxs("div",{className:Zm,children:[n.jsx("label",{className:Jm,htmlFor:"from",children:a}),n.jsxs("div",{className:Ym,children:[n.jsx("input",{id:"from",className:ep,type:"datetime-local",value:o,max:c||void 0,onChange:n=>{var a;return t({fromMs:null==(a=mp(n.target.value,i))?void 0:a.getTime(),toMs:e.toMs})},disabled:s}),n.jsxs("div",{className:tp,children:[n.jsx("button",{type:"button",className:np,onClick:()=>t({fromMs:void 0,toMs:e.toMs}),disabled:s,children:"Clear"}),n.jsx("button",{type:"button",className:np,onClick:()=>t({fromMs:(new Date).getTime(),toMs:e.toMs}),disabled:s,children:"Now"})]})]})]}),n.jsxs("div",{className:Zm,children:[n.jsx("label",{className:Jm,htmlFor:"to",children:r}),n.jsxs("div",{className:Ym,children:[n.jsx("input",{id:"to",className:ep,type:"datetime-local",value:c,min:o||void 0,onChange:n=>{var a;return t({toMs:null==(a=mp(n.target.value,i))?void 0:a.getTime(),fromMs:e.fromMs})},disabled:s}),n.jsxs("div",{className:tp,children:[n.jsx("button",{type:"button",className:np,onClick:()=>t({toMs:void 0,fromMs:e.fromMs}),disabled:s,children:"Clear"}),n.jsx("button",{type:"button",className:np,onClick:()=>t({toMs:(new Date).getTime(),fromMs:e.fromMs}),disabled:s,children:"Now"})]})]})]}),u&&n.jsxs("div",{className:ap,children:["",a,"    ",r,""]})]})};function gp({template:e,onCancel:t,onSubmit:a}){const r=b.useMemo(()=>zo(e),[e]),s=b.useMemo(()=>(null==e?void 0:e.params)??[],[e]),[i,l]=b.useState({});b.useEffect(()=>{const e={};r.forEach(t=>{const n=$o(s,t),a=(null==n?void 0:n.value)??(null==n?void 0:n.defaultValue);e[t]=null!=a?String(a):""}),l(e)},[r,s]);const[o,c]=b.useState({fromMs:e.originalFromMs,toMs:e.originalToMs});b.useEffect(()=>{c({fromMs:e.originalFromMs,toMs:e.originalToMs})},[e]);const u=function(e,t,n){return e.some(e=>{const a=$o(t,e);return!!(null==a?void 0:a.required)&&""===String(n[e]??"").trim()})}(r,s,i);return b.useEffect(()=>{const e=e=>{"Escape"===e.key&&t()};document.addEventListener("keydown",e);const n=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow=n}},[t]),n.jsx("div",{className:Am,onClick:t,role:"dialog","aria-modal":"true",children:n.jsxs("div",{className:Rm,onClick:e=>e.stopPropagation(),children:[n.jsxs("div",{className:Dm,children:[n.jsx("div",{className:Lm,children:e.name||" "}),n.jsx("button",{className:Pm,onClick:t,"aria-label":"",children:""})]}),n.jsxs("div",{className:Fm,children:[n.jsx(hp,{range:o,onChange:e=>c(e)}),r.map(e=>{const t=$o(s,e),a=!!(null==t?void 0:t.required),r=""===String(i[e]??"").trim();return n.jsxs("div",{className:qm,children:[n.jsxs("div",{className:Om,children:[n.jsx("code",{children:`{{${e}}}`}),a&&n.jsx("span",{className:$m,children:"required"}),(null==t?void 0:t.type)&&n.jsxs("div",{className:zm,children:["type: ",t.type]}),(null==t?void 0:t.description)&&n.jsx("div",{className:zm,children:t.description})]}),n.jsx("input",{className:`${Bm} ${a&&r?Vm:""}`,value:i[e]??"",onChange:t=>l(n=>({...n,[e]:t.target.value})),placeholder:(null==t?void 0:t.description)||e})]},e)})]}),n.jsxs("div",{className:Um,children:[n.jsx("button",{className:Hm,onClick:t,children:""}),n.jsx("button",{className:Qm,disabled:u,onClick:()=>{if(u)return;const e={};for(const t of r)e[t]=i[t];a({values:e,range:o})},title:u?"  ":"OK",children:"OK"})]})]})})}const vp="_chartTemplatePanelContainer_1aqqh_1",yp="_templates_1aqqh_31",bp="_dataSourcePanel_1aqqh_43",xp="_backdrop_1jdq7_5",_p="_modal_1jdq7_51",kp="_modalHeader_1jdq7_99",wp="_modalTitle_1jdq7_115",Np="_btnClose_1jdq7_127",Sp="_modalBody_1jdq7_167",Tp="_optionNew_1jdq7_213",jp="_optionTab_1jdq7_249",Mp="_optionIcon_1jdq7_287",Cp="_optionContent_1jdq7_321",Ip="_optionTitle_1jdq7_329",Ep="_optionDescription_1jdq7_343",Ap="_divider_1jdq7_355",Rp="_dividerText_1jdq7_387",Dp="_tabsList_1jdq7_407",Lp="_modalFooter_1jdq7_451",Pp="_btnCancel_1jdq7_469";function Fp({onSelectExisting:e,onCreateNew:t,onCancel:a}){const r=se(Ro);return b.useEffect(()=>{const e=e=>{"Escape"===e.key&&a()};document.addEventListener("keydown",e);const t=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow=t}},[a]),n.jsx("div",{className:xp,onClick:a,role:"dialog","aria-modal":"true",children:n.jsxs("div",{className:_p,onClick:e=>e.stopPropagation(),children:[n.jsxs("div",{className:kp,children:[n.jsx("div",{className:wp,children:"  ?"}),n.jsx("button",{className:Np,onClick:a,"aria-label":"",type:"button",children:""})]}),n.jsxs("div",{className:Sp,children:[n.jsxs("button",{className:Tp,onClick:t,type:"button",children:[n.jsx("span",{className:Mp,children:"+"}),n.jsxs("div",{className:Cp,children:[n.jsx("div",{className:Ip,children:"  "}),n.jsx("div",{className:Ep,children:"     "})]})]}),r.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:Ap,children:n.jsx("span",{className:Rp,children:"   "})}),n.jsx("div",{className:Dp,children:r.map(t=>n.jsxs("button",{className:jp,onClick:()=>e(t.id),type:"button",children:[n.jsx("span",{className:Mp,children:""}),n.jsxs("div",{className:Cp,children:[n.jsx("div",{className:Ip,children:t.name}),n.jsx("div",{className:Ep,children:0===t.contextIds.length?" ":`${t.contextIds.length} ${1===t.contextIds.length?"":""}`})]})]},t.id))})]})]}),n.jsx("div",{className:Lp,children:n.jsx("button",{className:Pp,onClick:a,type:"button",children:""})})]})})}const qp={};function Op(){const e=Qn(),t=se(bd),a=se(Qu),r=se(xd),s=se(kd).databases,i=se(wd).databases,l=se(_d);b.useEffect(()=>{l||s||e(ed({force:!1}))},[e,l,s]);return n.jsxs("section",{style:{display:"grid",gap:6},children:[n.jsx("label",{style:{fontSize:12,opacity:.85},children:" "}),n.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[n.jsxs("select",{value:(null==a?void 0:a.id)??"",onChange:t=>(t=>{const n=r[t];n&&e(Tu(n))})(t.currentTarget.value),disabled:s,children:[n.jsx("option",{value:"",disabled:!0,children:s?"":" "}),t.map(e=>n.jsx("option",{value:e.id,children:e.name},e.id))]}),n.jsx("button",{onClick:()=>e(ed({force:!0})),disabled:s,children:""})]}),i&&n.jsx("small",{style:{color:"tomato"},children:i})]})}function zp(){const e=Qn(),t=se(zu)??[],a=se(kd).entities,r=se(wd).entities,s=se($u);return n.jsxs("section",{style:{display:"grid",gap:6},children:[n.jsx("label",{style:{fontSize:12,opacity:.85},children:" (entity)"}),n.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[n.jsxs("select",{value:null==s?void 0:s.name,onChange:n=>{return a=n.target.value,void e(Su(t.find(e=>e.name==a)));var a},disabled:a||0===t.length,children:[t.map(e=>n.jsx("option",{value:e.name,children:e.name},e.name)),0===t.length&&n.jsx("option",{children:a?"":""})]}),n.jsx("button",{onClick:()=>e(rd()),disabled:a||0===t.length,children:""})]}),r&&n.jsx("small",{style:{color:"tomato"},children:r})]})}function $p(){const e=Qn(),t=se(kd).fields,a=se(Bu)??[],[r,s]=b.useState(void 0),i=b.useMemo(()=>(a??[]).filter(e=>null==e?void 0:e.isTime),[a]),l=se(Vu);return b.useEffect(()=>{!r&&i.length&&s(i[0]),r&&!i.includes(r)&&s(i[0]),e(ju(r))},[i,r]),n.jsxs("section",{style:{display:"grid",gap:6},children:[n.jsx("label",{style:{fontSize:12,opacity:.85},children:"  ( X)"}),n.jsx("div",{style:{display:"flex",gap:8,alignItems:"center"},children:n.jsxs("select",{value:(null==l?void 0:l.name)??"",onChange:e=>s(i.find(t=>t.name===e.target.value)),disabled:t||0===i.length,children:[i.map(e=>n.jsx("option",{value:e.name,children:e.name},e.name)),0===i.length&&n.jsx("option",{children:t?"":""})]})})]})}function Bp(){const e=Qn(),t=se(Bu)??[],a=se(kd).fields,r=se(wd).fields,s=se(Uu),i=w.useMemo(()=>new Set((s??[]).map(e=>e.name)),[s]),l=w.useCallback(t=>{e(Cu(t))},[e]),o=w.useCallback(()=>{e(Mu(t.filter(e=>e.isNumeric)))},[e,t]),c=w.useCallback(()=>{e(Mu([]))},[e]);return n.jsxs("section",{style:{display:"grid",gap:6},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("label",{style:{fontSize:12,opacity:.85},children:" (  /)"}),n.jsxs("div",{style:{display:"flex",gap:8},children:[n.jsx("button",{onClick:o,disabled:a||0===t.length,children:" numeric"}),n.jsx("button",{onClick:c,disabled:a||0===t.length,children:""})]})]}),n.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8,padding:8,border:"1px solid #333",borderRadius:6,minHeight:44},children:[a&&n.jsx("span",{style:{fontSize:12,opacity:.7},children:""}),!a&&0===t.length&&n.jsx("span",{style:{fontSize:12,opacity:.7},children:" "}),!a&&t.map(e=>{const t=i.has(e.name);return n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,padding:"2px 6px",border:"1px solid #444",borderRadius:6,fontSize:12,cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:t,onChange:()=>l(e)}),n.jsx("span",{children:e.name}),n.jsx("span",{style:{opacity:.6},children:e.isTime?" ":e.isNumeric?" #":""})]},e.name)})]}),r&&n.jsx("small",{style:{color:"tomato"},children:r})]})}function Vp(){const e=Qn(),t=se(Hu).sql,a=(null==t?void 0:t.whereSql)??"",r=b.useCallback(t=>{const n=t.trim();e(Ru(n?{whereSql:n}:void 0))},[e]);return n.jsxs("div",{style:{display:"grid",gap:8},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("div",{style:{fontWeight:600},children:" SQL (WHERE)"}),a&&n.jsx("button",{type:"button",onClick:()=>{r("")},style:{fontSize:12},children:""})]}),n.jsx("textarea",{rows:6,placeholder:": BatteryVoltage BETWEEN 10 AND 50 AND FactoryNumber = 'ABC123'",value:a,onChange:e=>{return t=e.target.value,void r(t);var t},style:{width:"100%",fontFamily:"monospace",fontSize:13,padding:8,border:"1px solid #ddd",borderRadius:4,resize:"vertical"}}),n.jsxs("div",{style:{fontSize:12,opacity:.7},children:[n.jsx("div",{children:" :"}),n.jsxs("ul",{style:{margin:"4px 0",paddingLeft:20},children:[n.jsx("li",{children:"   WHERE    WHERE"}),n.jsxs("li",{children:["  : ",n.jsx("code",{children:"{{paramKey}}"})]}),n.jsxs("li",{children:["  : ",n.jsxs("code",{children:["Temperature ",">"," ","{{minTemp}}"," AND Humidity ","<"," ","{{maxHumidity}}"]})]})]})]}),a&&n.jsxs("div",{style:{padding:8,background:"#f5f5f5",borderRadius:4,fontSize:12,fontFamily:"monospace"},children:[n.jsx("div",{style:{fontWeight:600,marginBottom:4},children:" SQL:"}),n.jsxs("div",{style:{color:"#666"},children:["SELECT * FROM table WHERE ",n.jsx("span",{style:{color:"#0066cc"},children:a})]})]})]})}var Up=(e=>(e.Eq="Eq",e.Ne="Ne",e.Gt="Gt",e.Gte="Gte",e.Lt="Lt",e.Lte="Lte",e.Between="Between",e.In="In",e.Nin="Nin",e.Like="Like",e.ILike="ILike",e.IsNull="IsNull",e.NotNull="NotNull",e))(Up||{});function Qp({value:e,isNumeric:t,onChange:a}){const r=String(e||""),s=/^{{.*}}$/.test(r),[i,l]=w.useState(()=>{if(s){const e=r.match(/^{{\s*(.*?)\s*}}$/);return e&&e[1]||""}return""});w.useEffect(()=>{if(s){const e=r.match(/^{{\s*(.*?)\s*}}$/);l(e&&e[1]||"")}},[r,s]);return n.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[n.jsxs("select",{value:s?"key":"value",onChange:e=>{"key"===e.target.value?(l(""),a("{{}}")):(l(""),a(""))},children:[n.jsx("option",{value:"value",children:""}),n.jsx("option",{value:"key",children:""})]}),s?n.jsx("input",{type:"text",placeholder:" ",value:i,onChange:e=>{return t=e.target.value,l(t),void a(`{{${t}}}`);var t}}):n.jsx("input",{type:"text",placeholder:t?"":"",value:r,onChange:e=>a(e.target.value)})]})}function Hp(e){const t=Number(e.replace(",","."));return Number.isFinite(t)?t:e}function Wp({value:e,isNumeric:t,onChange:a}){const r=Array.isArray(e)?e.join(", "):"",s=e=>{const n=function(e,t){return e.split(",").map(e=>e.trim()).filter(Boolean).map(e=>t?Hp(e):e)}(e,t);a(n)};return n.jsx("input",{type:"text",placeholder:t?"x, y, z":"a, b, c",value:r,onChange:e=>s(e.target.value)})}function Kp({value:e,isNumeric:t,onChange:a}){const r=Array.isArray(e)&&2===e.length?e:["",""],[s,i]=r;return n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6},children:[n.jsx("input",{type:"text",placeholder:"min",value:String(s||""),onChange:e=>(e=>{const n=t?Hp(e):e;a([n,i])})(e.target.value)}),n.jsx("input",{type:"text",placeholder:"max",value:String(i||""),onChange:e=>(e=>{const n=t?Hp(e):e;a([s,n])})(e.target.value)})]})}const Gp=[{op:Up.Eq,label:"=",kind:"single"},{op:Up.Ne,label:"",kind:"single"},{op:Up.Gt,label:">",kind:"single"},{op:Up.Gte,label:"",kind:"single"},{op:Up.Lt,label:"<",kind:"single"},{op:Up.Lte,label:"",kind:"single"},{op:Up.Between,label:"between",kind:"between"},{op:Up.In,label:"in",kind:"array"},{op:Up.Nin,label:"not in",kind:"array"},{op:Up.Like,label:"like",kind:"single"},{op:Up.ILike,label:"ilike",kind:"single"},{op:Up.IsNull,label:"is null",kind:"none"},{op:Up.NotNull,label:"not null",kind:"none"}];function Xp({clause:e,availableFields:t,onUpdate:a,onRemove:r}){const s=t.find(t=>t.name===e.field.name),i=null==s?void 0:s.isNumeric,l=(Gp.find(t=>t.op===e.op)??Gp[0]).kind;return n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 140px 1fr auto",gap:8,alignItems:"center"},children:[n.jsx("select",{value:e.field.name,onChange:e=>(e=>{const n=t.find(t=>t.name===e);n&&a({field:n})})(e.target.value),children:t.map(e=>n.jsx("option",{value:e.name,children:e.name},e.name))}),n.jsx("select",{value:e.op,onChange:t=>(t=>{const n=Gp.find(e=>e.op===t)??Gp[0];let r=e.value;"none"===n.kind?r=void 0:"single"===n.kind&&Array.isArray(r)?r="":"array"!==n.kind||Array.isArray(r)?"between"===n.kind&&(r=Array.isArray(r)&&2===r.length?r:["",""]):r=[],a({op:t,value:r})})(t.target.value),children:Gp.map(e=>n.jsx("option",{value:e.op,children:e.label},e.op))}),n.jsxs("div",{children:["none"===l&&n.jsx("i",{style:{opacity:.7},children:""}),"single"===l&&n.jsx(Qp,{value:e.value,isNumeric:i,onChange:e=>a({value:e})}),"array"===l&&n.jsx(Wp,{value:e.value,isNumeric:i,onChange:e=>a({value:e})}),"between"===l&&n.jsx(Kp,{value:e.value,isNumeric:i,onChange:e=>a({value:e})})]}),n.jsx("button",{type:"button",onClick:r,title:"",children:""})]})}function Zp(){const e=Qn(),t=se(Hu),a=se(Bu)??[],r=t.where??[],s=w.useCallback(t=>{e(Au(t))},[e]),i=w.useCallback(()=>{if(0===a.length)return void In.show("   ");const e={field:a[0],op:Up.Eq,value:""};s([...r,e])},[a,r,s]),l=w.useCallback((e,t)=>{const n=[...r];n[e]={...n[e],...t},s(n)},[r,s]),o=w.useCallback(e=>{const t=r.filter((t,n)=>n!==e);s(t)},[r,s]);return n.jsxs("div",{style:{display:"grid",gap:8},children:[n.jsx("div",{style:{fontWeight:600},children:" (WHERE)"}),r.map((e,t)=>n.jsx(Xp,{clause:e,availableFields:a,onUpdate:e=>l(t,e),onRemove:()=>o(t)},t)),n.jsx("div",{children:n.jsx("button",{type:"button",onClick:i,children:"+  "})})]})}var Yp=(e=>(e.Text="text",e.String="string",e.Int="int",e.Bigint="bigint",e.Double="double",e.Numeric="numeric",e.Bool="bool",e.Uuid="uuid",e.Date="date",e.Timestamp="timestamp",e.Timestamptz="timestamptz",e))(Yp||{});function Jp(e){return null==e?"":"boolean"==typeof e?e?"true":"false":String(e)}function eh(e,t){const n=e.trim();if(n)switch(t){case Yp.Int:case Yp.Bigint:{const e=Number(n.replace(",","."));return Number.isFinite(e)?Math.trunc(e):n}case Yp.Double:{const e=Number(n.replace(",","."));return Number.isFinite(e)?e:n}case Yp.Bool:{const e=n.toLowerCase();return!!["true","1","yes","y"].includes(e)||!["false","0","no","n"].includes(e)&&n}default:return n}}function th({value:e,type:t,onChange:a}){return t===Yp.Bool?n.jsxs("label",{style:{display:"flex",gap:6,alignItems:"center",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:!!e,onChange:e=>a(e.target.checked)}),n.jsx("span",{style:{fontSize:13},children:"default"})]}):t===Yp.Int||t===Yp.Bigint?n.jsx("input",{type:"number",placeholder:"default",value:Jp(e),onChange:e=>a(eh(e.target.value,t)),style:{width:"100%"}}):t===Yp.Double?n.jsx("input",{type:"number",step:"any",placeholder:"default",value:Jp(e),onChange:e=>a(eh(e.target.value,t)),style:{width:"100%"}}):t===Yp.Date?n.jsx("input",{type:"date",value:Jp(e),onChange:e=>a(e.target.value||void 0),style:{width:"100%"}}):t===Yp.Timestamp||t===Yp.Timestamptz?n.jsx("input",{type:"datetime-local",value:Jp(e),onChange:e=>a(e.target.value||void 0),style:{width:"100%"}}):n.jsx("input",{type:"text",placeholder:"default",value:Jp(e),onChange:e=>a(e.target.value||void 0),style:{width:"100%"}})}const nh=[Yp.Text,Yp.Int,Yp.Bigint,Yp.Double,Yp.Bool,Yp.Date,Yp.Timestamp,Yp.Timestamptz,Yp.Uuid];function ah({param:e,availableFields:t,onUpdate:a,onRemove:r}){var s,i;const l=(null==(s=e.field)?void 0:s.name)??"",o=e.type??(null==(i=e.field)?void 0:i.sqlParamType);return n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1.5fr 1fr 140px 100px 1fr auto",gap:8,alignItems:"center",padding:"4px",borderRadius:"4px",border:"1px solid #ddd"},children:[n.jsx("input",{type:"text",placeholder:"key",value:e.key??"",onChange:e=>a({key:e.target.value})}),n.jsx("input",{type:"text",placeholder:"",value:e.description??"",onChange:e=>a({description:e.target.value})}),n.jsxs("select",{value:l,onChange:e=>{const n=e.target.value?t.find(t=>t.name===e.target.value):void 0;a({field:n})},children:[n.jsx("option",{value:"",children:"  "}),t.map(e=>n.jsx("option",{value:e.name,children:e.name},e.name))]}),n.jsxs("select",{value:e.type??"",onChange:e=>{const t=e.target.value?e.target.value:void 0;a({type:t})},children:[n.jsx("option",{value:"",children:"auto"}),nh.map(e=>n.jsx("option",{value:e,children:e},e))]}),n.jsxs("label",{style:{display:"flex",gap:6,alignItems:"center",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:!!e.required,onChange:e=>a({required:e.target.checked})}),n.jsx("span",{style:{fontSize:13},children:"required"})]}),n.jsx(th,{value:e.defaultValue,type:o,onChange:e=>a({defaultValue:e})}),n.jsx("button",{type:"button",onClick:r,title:" ",style:{cursor:"pointer"},children:""})]})}function rh(){const e=Qn(),t=se(Hu),a=se(Bu)??[],r=t.params??[],s=b.useCallback(t=>{e(Du(t))},[e]),i=b.useCallback(()=>{s([...r,{key:"",description:"",value:void 0,defaultValue:void 0,field:void 0,type:void 0,required:!1}])},[r,s]),l=b.useCallback((e,t)=>{const n=[...r];n[e]={...n[e],...t},s(n)},[r,s]),o=b.useCallback(e=>{const t=r.filter((t,n)=>n!==e);s(t)},[r,s]),c=r.map(e=>(e.key||"").trim()).filter(Boolean),u=new Set(c).size!==c.length;return n.jsxs("div",{style:{display:"grid",gap:8},children:[n.jsx("div",{style:{fontWeight:600},children:" (Params)"}),u&&n.jsx("div",{style:{color:"orange",fontSize:13},children:"    "}),r.map((e,t)=>n.jsx(ah,{param:e,availableFields:a,onUpdate:e=>l(t,e),onRemove:()=>o(t)},t)),n.jsx("div",{children:n.jsx("button",{type:"button",onClick:i,children:"+  "})})]})}function sh(){return n.jsxs("div",{style:{display:"grid",gap:16},children:[n.jsx(Zp,{}),n.jsx(rh,{}),n.jsx(Vp,{})]})}function ih(){const e=Qn(),t=se(Hu);return n.jsxs("div",{children:[n.jsxs("label",{style:{display:"grid",gap:6},children:[n.jsx("span",{style:{fontSize:12,opacity:.8},children:"*"}),n.jsx("input",{type:"text",value:t.name??"",onChange:t=>e(Pu(t.target.value))})]}),n.jsxs("label",{style:{display:"grid",gap:6},children:[n.jsx("span",{style:{fontSize:12,opacity:.8},children:""}),n.jsx("textarea",{rows:3,placeholder:"   ",value:t.description??"",onChange:t=>e(Fu(t.target.value))})]})]})}function lh(){const e=Qn(),t=se(Hu),a=se(Qu),r=()=>{var e;const n=[];if(t.database||n.push(" "),t.entity||n.push(" (entity)"),t.timeField||n.push("  (timeField)"),(null==(e=t.name)?void 0:e.trim())||n.push(""),n.length)return alert(`: ${n.join(", ")}`),!1;return!((null==a?void 0:a.chartReqTemplates)??[]).some(e=>{var n;return e.name.trim().toLowerCase()===(null==(n=t.name)?void 0:n.trim().toLowerCase())&&e.id!==t.id})||(alert(`   "${t.name}"      .\n  .`),!1)};return n.jsx("div",{style:{display:"flex",justifyContent:"space-between",gap:8},children:n.jsx("div",{children:null!=t.id?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>{t.id?r()&&e(mu({...t})):alert("    ")},children:" "}),n.jsx("button",{onClick:()=>e(Iu()),children:" "})]}):n.jsx("button",{onClick:()=>{r()&&e(fu({...t}))},children:" "})})})}function oh({className:e}){const t=Qn(),a=se(Hu);return n.jsxs("div",{className:`${e} ${qp.container}`,children:[n.jsx("div",{style:{fontWeight:600},children:" "}),n.jsx(Op,{}),n.jsx(zp,{}),n.jsx($p,{}),n.jsx(hp,{range:{fromMs:a.originalFromMs,toMs:a.originalToMs},onChange:e=>t(qu(e))}),n.jsx(Bp,{}),n.jsx(sh,{}),n.jsx(ih,{}),n.jsx(lh,{})]})}function ch(){const e=Qn(),{theme:t}=Yn(),a=Ld(),r=se(Wu),s=se(_d),i=se(kd).databases,l=se(Gu),o=se(Mo),[c,u]=b.useState(null),[d,f]=b.useState(null),m=b.useRef(!1),p=b.useMemo(()=>!!c&&zo(c).length>0,[c]);b.useEffect(()=>{s||i||e(ed())},[e,s,i]),b.useEffect(()=>{l||e(du({force:!1}))},[e,l]);const h=e=>{0===o.length?g(e):f(e)},g=t=>{if(!m.current){m.current=!0;try{const n=lo();e(Zo({contextId:n,template:t}));const a=lo();e(fo({id:a,name:` ${o.length+1}`})),e(mo(a)),e(go({tabId:a,contextId:n}))}finally{setTimeout(()=>{m.current=!1},300)}}};return n.jsxs("div",{className:vp,"data-theme":t,children:[n.jsx("div",{className:yp,children:n.jsx(Em,{items:r,onPick:t=>{e(gu(t))},onDelete:async t=>{await a({title:" ?",description:" .",confirmText:"",cancelText:"",danger:!0})&&e(pu({id:t}))},onExecute:e=>{if(0===zo(e).length&&void 0!==e.originalFromMs&&void 0!==e.originalToMs){h(e)}else u(e)},onExecuteShow:e=>{}})}),n.jsx("div",{className:bp,children:n.jsx(oh,{})}),c&&p&&n.jsx(gp,{template:c,onCancel:()=>u(null),onSubmit:e=>{if(!c)return;const t=function(e,t){const n=[];for(const a of e??[])if(null==a?void 0:a.required){const e=t[a.key];null!=e&&""!==String(e).trim()||n.push(a.key)}return n}(c.params,e.values);if(t.length>0)return void alert(t[0]);const n={...Vo(c,e.values),resolvedFromMs:e.range.fromMs,resolvedToMs:e.range.toMs};h(n),u(null)}}),d&&n.jsx(Fp,{onSelectExisting:t=>{((t,n)=>{if(!m.current){m.current=!0;try{const a=lo();e(Zo({contextId:a,template:t})),e(go({tabId:n,contextId:a})),e(mo(n))}finally{setTimeout(()=>{m.current=!1},300)}}})(d,t),f(null)},onCreateNew:()=>{g(d),f(null)},onCancel:()=>f(null)})]})}const uh="_tabContent_w4m0w_5",dh="_contextFilter_w4m0w_25",fh="_filterToggle_w4m0w_41",mh="_filterArrow_w4m0w_75",ph="_filterTitle_w4m0w_87",hh="_filterContent_w4m0w_99",gh="_filterActions_w4m0w_109",vh="_filterToggleAll_w4m0w_121",yh="_contextList_w4m0w_155",bh="_contextSections_w4m0w_171",xh="_contextWrapper_w4m0w_191",_h="_emptyState_w4m0w_203",kh="_emptyStateOverlay_w4m0w_225",wh="_hint_w4m0w_275",Nh="_contextFilterItem_1nfxf_5",Sh="_itemHeader_1nfxf_37",Th="_checkboxLabel_1nfxf_51",jh="_checkbox_1nfxf_51",Mh="_templateName_1nfxf_83",Ch="_actions_1nfxf_101",Ih="_fieldsToggle_1nfxf_115",Eh="_fieldsToggleActive_1nfxf_149",Ah="_removeButton_1nfxf_161",Rh="_fieldsOrderEditor_w2rhp_5",Dh="_header_w2rhp_27",Lh="_title_w2rhp_43",Ph="_empty_w2rhp_55",Fh="_fieldList_w2rhp_69",qh="_fieldItem_w2rhp_81",Oh="_fieldName_w2rhp_107";function zh({fields:e}){const t=b.useMemo(()=>[...e].map((e,t)=>({...e,visualOrder:e.visualOrder??t})).sort((e,t)=>e.visualOrder-t.visualOrder),[e]);return 0===t.length?n.jsx("div",{className:Ph,children:" "}):n.jsxs("div",{className:Rh,children:[n.jsx("div",{className:Dh,children:n.jsx("span",{className:Lh,children:"  :"})}),n.jsx("div",{className:Fh,children:t.map(e=>n.jsx("div",{className:qh,children:n.jsx("span",{className:Oh,title:e.name,children:e.name})},e.name))})]})}const $h={active:!1,type:Uo.Initial,progress:0,startTime:0},Bh=[],Vh=[],Uh=[],Qh=(e,t)=>e.contexts.chartContexts[t],Hh=e=>e.contexts.chartContexts,Wh=(e,t)=>{const n=Qh(e,t);return null==n?void 0:n.template},Kh=(e,t)=>{const n=Qh(e,t);return(null==n?void 0:n.syncFields)??Uh},Gh=(e,t,n)=>Kh(e,t).some(e=>e.name===n),Xh=(e,t)=>{const n=Qh(e,t);return(null==n?void 0:n.view)??{}},Zh=(e,t,n)=>{const a=Qh(e,t);return null==a?void 0:a.view[n]},Yh=(e,t,n)=>{const a=Zh(e,t,n);return null==a?void 0:a.originalRange},Jh=(e,t,n)=>{const a=Zh(e,t,n);return null==a?void 0:a.currentRange},eg=(e,t,n)=>{const a=Zh(e,t,n);return null==a?void 0:a.currentBucketsMs},tg=(e,t,n)=>{const a=Zh(e,t,n);return null==a?void 0:a.seriesLevel},ng=(e,t,n,a)=>{const r=tg(e,t,n);if(!r)return Bh;return r[a]??Bh},ag=P([(e,t,n)=>tg(e,t,n)],e=>e?Object.keys(e).map(Number).filter(e=>!isNaN(e)):Vh);function rg({contextId:e,isVisible:t,onToggle:a,onRemove:r}){const s=Qn(),i=se(t=>Wh(t,e)),l=Hn(Xu),o=null!=(null==i?void 0:i.id)?l[i.id]:void 0,[c,u]=b.useState(!1),d=(null==o?void 0:o.name)??` ${e.slice(0,8)}`,f=(null==o?void 0:o.selectedFields)&&o.selectedFields.length>0,m=b.useCallback(e=>{if(!o)return;const t={id:o.id,name:o.name,description:o.description,databaseId:o.databaseId,entity:o.entity,timeField:o.timeField,selectedFields:[...e],where:o.where,params:o.params,sql:o.sql,originalFromMs:o.originalFromMs,originalToMs:o.originalToMs,visualOrder:o.visualOrder??0};s(mu(t))},[s,o]);return n.jsxs("div",{className:Nh,children:[n.jsxs("div",{className:Sh,children:[n.jsxs("label",{className:Th,children:[n.jsx("input",{type:"checkbox",checked:t,onChange:a,className:jh}),n.jsx("span",{className:Mh,children:d})]}),n.jsxs("div",{className:Ch,children:[f&&n.jsx("button",{className:`${Ih} ${c?Eh:""}`,onClick:()=>u(!c),title:c?"  ":"  ",type:"button",children:""}),n.jsx("button",{className:Ah,onClick:r,title:"  ",type:"button",children:""})]})]}),c&&f&&o&&n.jsx(zh,{fields:o.selectedFields,onReorder:m})]})}function sg(e){const t={};return Object.keys(e).sort().forEach(n=>{const a=e[n];Array.isArray(a)?t[n]=[...a].sort():t[n]=a&&"object"==typeof a?Object.keys(a).sort().reduce((e,t)=>(e[t]=a[t],e),{}):a}),JSON.stringify(t)}P([(e,t)=>Wh(e,t)],e=>(null==e?void 0:e.selectedFields)??Uh),P([(e,t)=>Xh(e,t)],e=>{const t=Object.entries(e).filter(([e,t])=>t.loadingState.active).map(([e])=>e);return Object.freeze(t)});const ig=yn({reducerPath:"chartsApi",baseQuery:Hi(),tagTypes:["MultiSeries","Raw","MultiRaw"],endpoints:e=>({getMultiSeries:e.query({query:({body:e,dbId:t})=>({url:Dn.CHARTS.MULTI,method:"post",data:e,headers:{"X-Db":String(t)}}),providesTags:(e,t,{body:n})=>[{type:"MultiSeries",id:sg(n)}],keepUnusedDataFor:60})})}),lg=q("charts/fetchMultiSeriesData",async({data:e,contextId:t},{dispatch:n,rejectWithValue:a})=>{var r,s;const{request:i,fields:l,loadingType:o,signal:c,onProgress:u}=e;if(!(null==(r=i.template)?void 0:r.databaseId))return a("Missing template or databaseId");if(null==c?void 0:c.aborted)return{response:{},wasAborted:!0};l.forEach(e=>{n(oc({contextId:t,field:e.name,type:o,message:" ..."}))});const d={...i,template:{...i.template,selectedFields:l}},f=(new Date(d.template.resolvedFromMs),new Date(d.template.resolvedToMs),n(ig.endpoints.getMultiSeries.initiate(Zi(d,i.template.databaseId))));try{let e;if(u){let a=0;e=setInterval(()=>{a<90&&(a+=10,u(a),l.forEach(e=>{n(uc({contextId:t,field:e.name,progress:a,message:`: ${a}%`}))}))},100)}const a=await f.unwrap();return e&&clearInterval(e),(null==c?void 0:c.aborted)?(l.forEach(e=>{n(fc({contextId:t,field:e.name,success:!1,message:void 0}))}),{response:a,wasAborted:!0}):(u&&u(100),l.forEach(e=>{n(uc({contextId:t,field:e.name,progress:100,message:void 0})),n(fc({contextId:t,field:e.name,success:!0,message:void 0}))}),{response:a,wasAborted:!1})}catch(m){if("AbortError"===m.name||(null==c?void 0:c.aborted))return l.forEach(e=>{n(fc({contextId:t,field:e.name,success:!1,message:void 0}))}),{response:{},wasAborted:!0};const e=(null==m?void 0:m.message)||"  ";return l.forEach(a=>{n(mc({contextId:t,fieldName:a.name,errorMessage:e})),n(fc({contextId:t,field:a.name,success:!1,message:e}))}),a(e)}finally{null==(s=f.unsubscribe)||s.call(f)}});class og{static addTile(e,t,n,a){const{strategy:r="replace",onDataLoss:s,validate:i=!0}=a??{};if(i&&(this.validateInterval(n.coverageInterval,"newTile"),this.validateInterval(e,"originalRange")),!this.isWithinRange(n.coverageInterval,e))return{tiles:t,wasAdded:!1,wasMerged:!1,affectedIndices:[]};const l=[],o=[];let c=!1,u=!1,d=n;for(let m=0;m<t.length;m++){const e=t[m],n=this.analyzeOverlap(e.coverageInterval,d.coverageInterval);switch(n.type){case"none":l.push(e);break;case"full":if("ready"===e.status&&e.bins.length>0){if("throw"===r)throw new Error(`Data loss: tile [${e.coverageInterval.fromMs}-${e.coverageInterval.toMs}] with ${e.bins.length} bins would be lost`);if("merge"===r&&"ready"===d.status){const t=this.mergeBins(e.bins,d.bins);d={...d,bins:t}}null==s||s(e)}o.push(m),u=!0;break;case"contains":{const t=this.splitTile(e,d.coverageInterval);t.length,l.push(...t),o.push(m),u=!0;break}case"partial":{const t=this.trimTile(e,d.coverageInterval);if(t&&l.push(t),"merge"===r&&"ready"===e.status&&"ready"===d.status){const t=e.bins.filter(e=>{const t=e.t;return void 0!==n.overlapFrom&&void 0!==n.overlapTo&&t>=n.overlapFrom&&t<n.overlapTo}),a=d.bins.filter(e=>{const t=e.t;return void 0!==n.overlapFrom&&void 0!==n.overlapTo&&t>=n.overlapFrom&&t<n.overlapTo});if(t.length>0||a.length>0){const e=this.mergeBins(t,a),r=[...d.bins.filter(e=>{const t=e.t;return!(void 0!==n.overlapFrom&&void 0!==n.overlapTo&&t>=n.overlapFrom&&t<n.overlapTo)}),...e].sort((e,t)=>e.t-t.t);d={...d,bins:r}}}o.push(m),u=!0;break}}}l.push(d),c=!0;const f=this.sortTiles(l);return i&&this.validateNoOverlaps(f),{tiles:f,wasAdded:true,wasMerged:u,affectedIndices:o}}static removeTile(e,t){return t<0||t>=e.length?e:[...e.slice(0,t),...e.slice(t+1)]}static updateTileStatus(e,t,n,a){return e.map(e=>this.intervalsEqual(e.coverageInterval,t)?{...e,status:n,error:a,loadedAt:"ready"===n?Date.now():e.loadedAt}:e)}static findGaps(e,t,n){const a=n??e,r=t.filter(e=>"ready"===e.status);if(0===r.length)return{gaps:[a],coverage:0,hasFull:!1};const s=this.sortTiles(r),i=[];let l=0,o=a.fromMs;for(const d of s){const e=Math.max(d.coverageInterval.fromMs,a.fromMs),t=Math.min(d.coverageInterval.toMs,a.toMs);if(t<=e||e>=a.toMs)continue;e>o&&i.push({fromMs:o,toMs:e});const n=Math.max(0,t-Math.max(o,e));n>0&&(l+=n,o=Math.max(o,t))}o<a.toMs&&i.push({fromMs:o,toMs:a.toMs});const c=a.toMs-a.fromMs,u=c>0?l/c*100:0;return{gaps:i,coverage:Math.min(100,u),hasFull:u>=99.9}}static getStats(e,t){const n=t.filter(e=>"ready"===e.status),{coverage:a}=this.findGaps(e,t);return{totalTiles:t.length,readyTiles:n.length,loadingTiles:t.filter(e=>"loading"===e.status).length,errorTiles:t.filter(e=>"error"===e.status).length,totalBins:n.reduce((e,t)=>e+t.bins.length,0),coverage:a}}static isWithinRange(e,t){return e.fromMs>=t.fromMs&&e.toMs<=t.toMs}static intervalsEqual(e,t){return e.fromMs===t.fromMs&&e.toMs===t.toMs}static analyzeOverlap(e,t){if(e.toMs<=t.fromMs||e.fromMs>=t.toMs)return{type:"none"};if(e.fromMs>=t.fromMs&&e.toMs<=t.toMs)return{type:"full",overlapFrom:e.fromMs,overlapTo:e.toMs};if(e.fromMs<=t.fromMs&&e.toMs>=t.toMs)return{type:"contains",overlapFrom:t.fromMs,overlapTo:t.toMs};return{type:"partial",overlapFrom:Math.max(e.fromMs,t.fromMs),overlapTo:Math.min(e.toMs,t.toMs)}}static splitTile(e,t){const n=[];if(e.coverageInterval.fromMs<t.fromMs){const a="ready"===e.status?e.bins.filter(e=>e.t<t.fromMs):[];("ready"!==e.status||a.length>0)&&n.push({...e,coverageInterval:{fromMs:e.coverageInterval.fromMs,toMs:t.fromMs},bins:a})}if(e.coverageInterval.toMs>t.toMs){const a="ready"===e.status?e.bins.filter(e=>e.t>=t.toMs):[];("ready"!==e.status||a.length>0)&&n.push({...e,coverageInterval:{fromMs:t.toMs,toMs:e.coverageInterval.toMs},bins:a})}return n}static validateInterval(e,t){if(!Number.isFinite(e.fromMs)||!Number.isFinite(e.toMs))throw new Error(`[${t}] Invalid interval: fromMs and toMs must be finite numbers`);if(e.fromMs>=e.toMs)throw new Error(`[${t}] Invalid interval: fromMs (${e.fromMs}) must be < toMs (${e.toMs})`)}static validateNoOverlaps(e){for(let t=0;t<e.length-1;t++){const n=e[t],a=e[t+1];if(n.coverageInterval.toMs>a.coverageInterval.fromMs)throw new Error(`Overlapping tiles: [${n.coverageInterval.fromMs}-${n.coverageInterval.toMs}] and [${a.coverageInterval.fromMs}-${a.coverageInterval.toMs}]`)}}static mergeBins(e,t){const n=new Map;return e.forEach(e=>{n.set(e.t,e)}),t.forEach(e=>{n.set(e.t,e)}),Array.from(n.values()).sort((e,t)=>e.t-t.t)}static trimTile(e,t){const n=e.coverageInterval;if(t.fromMs<=n.fromMs&&t.toMs>=n.toMs)return null;if(t.fromMs>n.fromMs&&t.toMs<n.toMs)throw new Error(`[trimTile] Cannot trim: interval is inside tile. Use splitTile instead. tile: [${n.fromMs}-${n.toMs}], trim: [${t.fromMs}-${t.toMs}]`);if(t.fromMs<=n.fromMs&&t.toMs>n.fromMs&&t.toMs<n.toMs){const a=t.toMs,r=n.toMs,s="ready"===e.status?e.bins.filter(e=>{const t=e.t;return t>=a&&t<r}):[];return"ready"!==e.status||s.length>0?{...e,coverageInterval:{fromMs:a,toMs:r},bins:s}:null}if(t.toMs>=n.toMs&&t.fromMs>n.fromMs&&t.fromMs<n.toMs){const a=n.fromMs,r=t.fromMs,s="ready"===e.status?e.bins.filter(e=>{const t=e.t;return t>=a&&t<r}):[];return"ready"!==e.status||s.length>0?{...e,coverageInterval:{fromMs:a,toMs:r},bins:s}:null}return e}static sortTiles(e){return[...e].sort((e,t)=>e.coverageInterval.fromMs-t.coverageInterval.fromMs)}static findUnifiedGap(e,t,n){const a=this.findGaps(e,t,n);if(0===a.gaps.length)return null;if(1===a.gaps.length)return a.gaps[0];const r=a.gaps[0],s=a.gaps[a.gaps.length-1];return{fromMs:r.fromMs,toMs:s.toMs}}}class cg{static processServerResponse(e){const{contextId:t,response:n,bucketMs:a,requestedInterval:r,dispatch:s,getState:i}=e,l=[];for(const o of n.series){const e=this.processFieldSeries({contextId:t,fieldName:o.field.name,bins:o.bins,bucketMs:a,requestedInterval:r,getState:i});e.success&&e.newTiles&&l.push({field:o.field.name,bucketMs:a,tiles:e.newTiles})}l.length>0&&s(Sc({contextId:t,updates:l}))}static processFieldSeries(e){const{contextId:t,fieldName:n,bins:a,bucketMs:r,requestedInterval:s,getState:i}=e;try{const e=i(),l=Zh(e,t,n);if(!l)return{contextId:t,field:n,success:!1,newTiles:null,binsReceived:0,error:"Field view not found"};if(!l.originalRange)return{contextId:t,field:n,success:!1,newTiles:null,binsReceived:0,error:"Original range not found"};const o=l.seriesLevel[r]??[],c=this.convertAndFilterBins(a,s),u={coverageInterval:s,bins:c,status:"ready",loadedAt:Date.now()};return{contextId:t,field:n,success:!0,newTiles:[...og.addTile(l.originalRange,[...o],u,{strategy:"replace",validate:!0,onDataLoss:e=>{if(e.coverageInterval.fromMs===s.fromMs&&e.coverageInterval.toMs===s.toMs)return;s.fromMs<=e.coverageInterval.fromMs&&s.toMs>=e.coverageInterval.toMs&&(c.length,e.bins.length)}}).tiles],binsReceived:c.length}}catch(l){return{contextId:t,field:n,success:!1,newTiles:null,binsReceived:0,error:l instanceof Error?l.message:String(l)}}}static prepareLoadingTiles(e){const{contextId:t,fields:n,bucketMs:a,loadingInterval:r,requestId:s,getState:i}=e,l=[],o=i();for(const c of n){const e=Zh(o,t,c);if(!e||!e.originalRange)continue;const n=e.seriesLevel[a]??[];if(n.some(e=>"loading"===e.status&&e.coverageInterval.fromMs===r.fromMs&&e.coverageInterval.toMs===r.toMs))continue;const i={coverageInterval:r,bins:[],status:"loading",requestId:s},u=og.addTile(e.originalRange,[...n],i,{strategy:"replace",validate:!1});l.push({field:c,bucketMs:a,tiles:[...u.tiles]})}return l}static analyzeLoadNeeds(e,t,n,a,r,s,i){var l,o;const c=i(),u=Zh(c,e,t);if(!u||!u.originalRange)return!1;const d=u.seriesLevel[r]??[],f=Math.floor(n/r)*r,m=Math.ceil(a/r)*r,p=og.findGaps(u.originalRange,d,{fromMs:f,toMs:m});if(p.hasFull||0===p.gaps.length)return!1;if(p.gaps.some(e=>d.some(t=>"loading"===t.status&&t.coverageInterval.fromMs<=e.fromMs&&t.coverageInterval.toMs>=e.toMs)))return!1;const h=this.selectTargetGap(p.gaps),g=this.optimizeGapInterval({gap:h,tiles:d,originalRange:u.originalRange,bucketMs:r,minBucketsThreshold:3,proximityThreshold:.2}),v=null==(l=c.contexts.chartContexts[e])?void 0:l.template;if(!v)return!1;const y=v.selectedFields.find(e=>e.name===t);return!!y&&{template:{...v,selectedFields:[...(null==(o=c.contexts.chartContexts[e])?void 0:o.syncFields)??[],y],resolvedFromMs:g.fromMs,resolvedToMs:g.toMs},px:s,bucketMs:r}}static selectTargetGap(e){if(0===e.length)throw new Error("[selectTargetGap] No gaps provided");if(1===e.length)return e[0];if(e.length<=3){const t=e[0],n=e[e.length-1];return{fromMs:t.fromMs,toMs:n.toMs}}let t=e[0],n=t.toMs-t.fromMs;for(let a=1;a<e.length;a++){const r=e[a],s=r.toMs-r.fromMs;s>n&&(t=r,n=s)}return t}static optimizeGapInterval(e){const{gap:t,tiles:n,originalRange:a,bucketMs:r,minBucketsThreshold:s,proximityThreshold:i}=e;let l=t.fromMs,o=t.toMs;const c=t.toMs-t.fromMs,u=t.fromMs-a.fromMs;if(Math.floor(u/r)<=s||(c>0?u/c:0)<=i){const e=Math.floor(a.fromMs/r)*r;l=Math.max(e,a.fromMs)}const d=a.toMs-t.toMs;if(Math.floor(d/r)<=s||(c>0?d/c:0)<=i){const e=Math.ceil(a.toMs/r)*r;o=Math.min(e,a.toMs)}const f=n.filter(e=>"ready"===e.status||"loading"===e.status).sort((e,t)=>e.coverageInterval.fromMs-t.coverageInterval.fromMs),m=f.filter(e=>e.coverageInterval.toMs<=t.fromMs);if(m.length>0){const e=m[m.length-1],n=t.fromMs-e.coverageInterval.toMs;(Math.floor(n/r)<=s||(c>0?n/c:0)<=i)&&(l=e.coverageInterval.toMs)}const p=f.filter(e=>e.coverageInterval.fromMs>=t.toMs);if(p.length>0){const e=p[0],n=e.coverageInterval.fromMs-t.toMs;(Math.floor(n/r)<=s||(c>0?n/c:0)<=i)&&(o=e.coverageInterval.fromMs)}const h=Math.ceil((o-l)/r);if(h<s){const e=(s-h)*r,t=Math.floor(e/2);l=Math.max(a.fromMs,Math.floor((l-t)/r)*r),o=Math.min(a.toMs,Math.ceil((o+e-t)/r)*r)}return{fromMs:l,toMs:o}}static convertAndFilterBins(e,t){if(!e||0===e.length)return[];const n=[];for(const a of e){if(!a||"object"!=typeof a){0;continue}if(isNaN(a.t)){0;continue}if(a.t<t.fromMs||a.t>=t.toMs){0;continue}const e=null!=a.avg&&!isNaN(Number(a.avg)),r=null!=a.min&&!isNaN(Number(a.min)),s=null!=a.max&&!isNaN(Number(a.max));if(!e&&!r&&!s){0;continue}const i={t:a.t,avg:e?Number(a.avg):void 0,min:r?Number(a.min):void 0,max:s?Number(a.max):void 0,count:null==a.count||isNaN(Number(a.count))?1:Number(a.count)};n.push(i)}return n.sort((e,t)=>e.t-t.t),n}static checkFullCoverage(e,t,n){const a=e.filter(e=>"ready"===e.status).sort((e,t)=>e.coverageInterval.fromMs-t.coverageInterval.fromMs);let r=t;for(const s of a){const e=s.coverageInterval.fromMs,a=s.coverageInterval.toMs;if(!(a<=t||e>=n)){if(e>r)return!1;if(r=Math.max(r,a),r>=n)return!0}}return!1}static calculateLoadInterval(e){const{tiles:t,originalRange:n,requestedFrom:a,requestedTo:r,bucketMs:s,minBucketsThreshold:i=3,proximityThreshold:l=.2}=e,o=Math.floor(a/s)*s,c=Math.ceil(r/s)*s;if(c<=o)return null;const u=Math.ceil((c-o)/s);if(this.checkFullCoverage(t,o,c))return null;if(t.some(e=>"loading"===e.status&&e.coverageInterval.fromMs<=o&&e.coverageInterval.toMs>=c))return null;let d=o,f=c;const m=this.expandToGraphBoundaries({from:d,to:f,originalRange:n,bucketMs:s,requestSizeBuckets:u,minBucketsThreshold:i,proximityThreshold:l});d=m.from,f=m.to;const p=this.expandToNeighborTiles({tiles:t,from:d,to:f,bucketMs:s,requestSizeBuckets:u,minBucketsThreshold:i,proximityThreshold:l});if(d=p.from,f=p.to,f<=d)return null;if(this.checkFullCoverage(t,d,f))return null;const h=Math.ceil((f-d)/s);if(h<i){const e=(i-h)*s,t=Math.floor(e/2);d=Math.max(n.fromMs,Math.floor((d-t)/s)*s),f=Math.min(n.toMs,Math.ceil((f+e-t)/s)*s)}return{fromMs:d,toMs:f}}static expandToGraphBoundaries(e){const{from:t,to:n,originalRange:a,bucketMs:r,minBucketsThreshold:s,proximityThreshold:i}=e;let l=t,o=n;const c=n-t,u=t-a.fromMs;(Math.floor(u/r)<=s||(c>0?u/c:0)<=i)&&(l=Math.floor(a.fromMs/r)*r);const d=a.toMs-n;return(Math.floor(d/r)<=s||(c>0?d/c:0)<=i)&&(o=Math.ceil(a.toMs/r)*r),{from:l,to:o}}static expandToNeighborTiles(e){const{tiles:t,from:n,to:a,bucketMs:r,minBucketsThreshold:s,proximityThreshold:i}=e;let l=n,o=a;const c=t.filter(e=>"ready"===e.status||"loading"===e.status).sort((e,t)=>e.coverageInterval.fromMs-t.coverageInterval.fromMs),u=a-n,d=c.filter(e=>e.coverageInterval.toMs<=n);if(d.length>0){const e=d[d.length-1],t=n-e.coverageInterval.toMs;(Math.floor(t/r)<=s||(u>0?t/u:0)<=i)&&(l=e.coverageInterval.toMs)}const f=c.filter(e=>e.coverageInterval.fromMs>=a);if(f.length>0){const e=f[0],t=e.coverageInterval.fromMs-a;(Math.floor(t/r)<=s||(u>0?t/u:0)<=i)&&(o=e.coverageInterval.fromMs)}return{from:l,to:o}}}class ug{constructor(e,n,a){t(this,"dispatch"),t(this,"getState"),t(this,"contextId"),t(this,"activeRequests"),t(this,"requestHistory"),t(this,"metrics"),t(this,"REQUEST_TIMEOUT_MS",3e4),t(this,"MAX_CONCURRENT_REQUESTS",4),t(this,"isDisposed"),this.dispatch=e,this.getState=n,this.contextId=a,this.activeRequests=new Map,this.requestHistory=new Map,this.isDisposed=!1,this.metrics={totalRequests:0,successfulRequests:0,failedRequests:0,cancelledRequests:0,averageLoadTime:0}}async loadVisibleRange(e,t,n,a,r){if(this.isDisposed)return;this.getState().chartsSettings.timeSettings;const s=cg.analyzeLoadNeeds(this.contextId,e,t,n,a,r,this.getState);if(!1===s)return;if(void 0===s.template.resolvedFromMs||void 0===s.template.resolvedToMs)return;const i=`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,l={fromMs:s.template.resolvedFromMs,toMs:s.template.resolvedToMs},o=s.template.selectedFields.map(e=>e.name),c=cg.prepareLoadingTiles({contextId:this.contextId,fields:o,bucketMs:a,loadingInterval:l,requestId:i,getState:this.getState});c.length>0&&this.dispatch(Sc({contextId:this.contextId,updates:c})),await this.executeRequest(s,a,l,i)}async executeRequest(e,t,n,a){var r;const s=null==(r=e.template.selectedFields[0])?void 0:r.name;if(!s)return;if(void 0===e.template.resolvedFromMs||void 0===e.template.resolvedToMs)return;const i=this.buildRequestKey(s,t,e.template.resolvedFromMs,e.template.resolvedToMs);if(this.activeRequests.has(i))return;const l=this.requestHistory.get(i);if(l&&Date.now()-l<1e3)return;for(;this.activeRequests.size>=this.MAX_CONCURRENT_REQUESTS&&!this.isDisposed;)await new Promise(e=>setTimeout(e,100));if(this.isDisposed)return;const o=new AbortController,c=Date.now(),u=this.performHttpRequest(e,o,a,n).then(()=>{this.requestHistory.set(i,Date.now()),this.metrics.successfulRequests++,this.updateAverageLoadTime(Date.now()-c)}).catch(e=>{if(!(e instanceof Error&&"AbortError"===e.name||o.signal.aborted))throw this.metrics.failedRequests++,e;this.metrics.cancelledRequests++}).finally(()=>{this.activeRequests.delete(i)});this.activeRequests.set(i,{requestId:a,abortController:o,promise:u,startTime:c,selectedFields:e.template.selectedFields,bucketMs:t,requestedInterval:n}),this.metrics.totalRequests++,await u}async performHttpRequest(e,t,n,a){const r=setTimeout(()=>{t.abort()},this.REQUEST_TIMEOUT_MS);try{const n=await this.dispatch(lg({data:{request:e,fields:e.template.selectedFields,loadingType:Uo.Zoom,signal:t.signal},contextId:this.contextId})).unwrap();if(clearTimeout(r),n.wasAborted){const e=new Error("Aborted");throw e.name="AbortError",e}cg.processServerResponse({contextId:this.contextId,response:n.response,bucketMs:e.bucketMs,requestedInterval:a,dispatch:this.dispatch,getState:this.getState})}catch(s){throw clearTimeout(r),s}}cancelFieldRequests(e){let t=0;const n=[];for(const[a,r]of this.activeRequests.entries()){if(r.selectedFields.some(t=>t.name===e)){r.abortController.abort();for(const e of r.selectedFields)n.push({field:e.name,bucketMs:r.bucketMs,requestId:r.requestId});this.activeRequests.delete(a),t++}}t>0&&(this.metrics.cancelledRequests+=t,this.removeLoadingTiles(n))}removeLoadingTiles(e){const t=[],n=new Set(e.map(e=>e.requestId));for(const{field:a,bucketMs:r}of e){const e=Zh(this.getState(),this.contextId,a);if(!e)continue;const s=e.seriesLevel[r];if(!s)continue;const i=s.filter(e=>!("loading"===e.status&&e.requestId&&n.has(e.requestId)));i.length!==s.length&&t.push({field:a,bucketMs:r,tiles:i})}t.length>0&&this.dispatch(Sc({contextId:this.contextId,updates:t}))}buildRequestKey(e,t,n,a){return`${e}:${t}:${n}:${a}`}updateAverageLoadTime(e){const{successfulRequests:t,averageLoadTime:n}=this.metrics;this.metrics.averageLoadTime=(n*(t-1)+e)/t}clearOldHistory(e=6e4){if(this.isDisposed)return;const t=Date.now();for(const[n,a]of this.requestHistory.entries())t-a>e&&this.requestHistory.delete(n)}getMetrics(){return{...this.metrics}}getContextId(){return this.contextId}dispose(){if(!this.isDisposed){this.isDisposed=!0;for(const e of this.activeRequests.values())e.abortController.abort();this.activeRequests.clear(),this.requestHistory.clear()}}}const dg=b.createContext(null);const fg=new class{constructor(){t(this,"managers",new Map)}register(e,t){this.managers.has(e),this.managers.set(e,t)}unregister(e){this.managers.delete(e)}get(e){return this.managers.get(e)}has(e){return this.managers.has(e)}getAllContextIds(){return Array.from(this.managers.keys())}clear(){this.managers.clear()}size(){return this.managers.size}};function mg({contextId:e,children:t}){const a=Qn(),r=re(),s=b.useRef(null);return s.current||(s.current=new ug(a,()=>r.getState(),e)),b.useEffect(()=>{const t=s.current;if(t)return fg.register(e,t),()=>{fg.unregister(e),t.dispose()}},[e]),b.useEffect(()=>{const e=s.current;if(!e)return;const t=setInterval(()=>{e.clearOldHistory(6e4)},3e4);return()=>clearInterval(t)},[]),n.jsx(dg.Provider,{value:s.current,children:t})}const pg="_chartContainer_bfe5e_1",hg="_chartsGrid_bfe5e_19",gg="_loading_bfe5e_53",vg="_error_bfe5e_55",yg="_empty_bfe5e_57",bg="_spinner_bfe5e_103",xg="_retryButton_bfe5e_149",_g=q("charts/fetchMultiSeriesInit",async(e,{dispatch:t,rejectWithValue:n})=>{var a,r;if(!(null==(a=e.data.template)?void 0:a.databaseId))return n("Missing template or databaseId");const s=t(ig.endpoints.getMultiSeries.initiate(Zi(e.data,e.data.template.databaseId)));t(cc({contextId:e.contextId,fields:e.data.template.selectedFields,type:Uo.Initial,messageError:" ..."}));try{const n=await In.run(s.unwrap(),{loading:{text:" ..."},success:{text:" ",toastOptions:{duration:700}},error:{toastOptions:{duration:3e3}}},{id:"fetch-init"});return t(dc({contextId:e.contextId,fields:e.data.template.selectedFields,success:!0})),t(_c({isLoaded:!0,contextId:e.contextId})),n}catch(i){const a=Mn(i);return e.data.template.selectedFields.forEach(n=>{t(mc({contextId:e.contextId,fieldName:n.name,errorMessage:a})),t(fc({contextId:e.contextId,field:n.name,success:!1,message:a}))}),n(a)}finally{null==(r=s.unsubscribe)||r.call(s)}});class kg{static processInitResponse(e){const{contextId:t,px:n,response:a,dispatch:r,niceMilliseconds:s}=e;a.series.forEach(e=>{const i=this.buildBucketLevels(e.bucketMs,s),l=this.determineCurrentRange(e.fromMs,e.toMs,a);r(nc({contextId:t,field:e.field.name,px:n,currentRange:l,originalRange:{fromMs:l.fromMs,toMs:l.toMs},currentBucketsMs:e.bucketMs,seriesLevels:i}));const o=this.snapRange(l.fromMs,l.toMs,e.bucketMs),c=this.createReadyTile(o,e.bins);r(ec({contextId:t,field:e.field.name,bucketMs:e.bucketMs,tile:c}))})}static buildBucketLevels(e,t){const n=Math.max(1,Math.floor(e)),a=t.map(e=>Math.max(1,Math.floor(e))).filter(e=>e<=n),r=Array.from(new Set(a));return r[r.length-1]!==n&&r.push(n),r.reverse()}static determineCurrentRange(e,t,n){let a=e,r=t;if(!a){let e=Number.MAX_VALUE;n.series.forEach(t=>{t.bins.forEach(t=>{t.t<e&&(e=t.t)})}),a=e!==Number.MAX_VALUE?e:(new Date).getTime()}if(!r){let e=Number.MIN_VALUE;n.series.forEach(t=>{t.bins.forEach(t=>{t.t>e&&(e=t.t)})}),r=e!==Number.MIN_VALUE?e:(new Date).getTime()}return{fromMs:a,toMs:r}}static snapRange(e,t,n){const a=e,r=t,s=Math.max(1,n);return{fromMs:Math.floor(a/s)*s,toMs:Math.ceil(r/s)*s}}static createReadyTile(e,t){return{coverageInterval:e,bins:[...t],status:"ready",loadedAt:Date.now()}}}function wg(e){const t=Qn(),n=Hn(t=>Wh(t,e.contextId)),a=Hn(op),r=Hn(t=>Xh(t,e.contextId)),[s,i]=b.useState({isInitializing:!1,isInitialized:!1,error:null}),l=b.useRef(!1),o=b.useRef(!1),c=b.useCallback(async()=>{if(o.current)return;if(!n)return void i(e=>({...e,error:"Template is not set"}));if(void 0===e.px)return;if(l.current)return;const s=n.selectedFields.map(e=>e.name),c=function(e,t){var n;if(!(null==(n=null==e?void 0:e.charts)?void 0:n.view))return!1;let a=!1,r=0;for(const s of t){const t=e.charts.view[s];if(null==t?void 0:t.seriesLevel)for(const e of Object.values(t.seriesLevel)){const t=e.filter(e=>{var t;return"ready"===e.status&&(null==(t=e.bins)?void 0:t.length)>0});t.length>0&&(a=!0,r+=t.reduce((e,t)=>{var n;return e+((null==(n=t.bins)?void 0:n.length)||0)},0))}}return a}({charts:{view:r}},s);if(c)return l.current=!0,i({isInitializing:!1,isInitialized:!0,error:null}),void t(ac({contextId:e.contextId,px:e.px,fields:n.selectedFields}));l.current=!0,o.current=!0,i({isInitializing:!0,isInitialized:!1,error:null});try{t(ac({contextId:e.contextId,px:e.px,fields:n.selectedFields}));const r=await t(_g({data:{template:n,px:e.px},contextId:e.contextId})).unwrap();kg.processInitResponse({contextId:e.contextId,px:e.px,response:r,dispatch:t,niceMilliseconds:a.niceMilliseconds}),i({isInitializing:!1,isInitialized:!0,error:null})}catch(u){const e=u instanceof Error?u.message:"Initialization failed";i({isInitializing:!1,isInitialized:!1,error:e})}finally{o.current=!1}},[t,n,e.contextId,e.px,a.niceMilliseconds,r]),u=b.useCallback(()=>{l.current=!1,o.current=!1,i({isInitializing:!1,isInitialized:!1,error:null}),c()},[c]);return b.useEffect(()=>{let t=!1;return n&&void 0!==e.px&&!l.current&&!s.isInitializing&&!s.isInitialized&&!t&&c(),()=>{t=!0}},[e.contextId,e.px]),{...s,initialize:c,reinitialize:u}}class Ng{static insertNullsForGaps(e,t,n){if(0===e.length||0===t.length)return e;const a=[];let r=0;const s=[...t].sort((e,t)=>e.fromMs-t.toMs);for(const i of s){for(;r<e.length;){const t=e[r];if(t.t>=i.fromMs)break;a.push(t),r++}a.push({t:i.fromMs,avg:null,min:null,max:null,count:0}),a.push({t:i.toMs,avg:null,min:null,max:null,count:0})}for(;r<e.length;)a.push(e[r]),r++;return a}static mergeBins(e){const t=[];for(const n of e)"ready"===n.status&&t.push(...n.bins);return t.sort((e,t)=>e.t-t.t),t}static selectOptimalData(e){const{targetBucketMs:t,targetFromMs:n,targetToMs:a,originalRange:r,seriesLevels:s,availableBuckets:i}=e,l=s[t];if(l&&l.length>0){const e=og.findGaps(r,l,{fromMs:n,toMs:a}),s=this.mergeBins(l),i=l.filter(e=>"ready"===e.status);let o=Number.MAX_VALUE,c=Number.MIN_VALUE;for(const t of i)o=Math.min(o,t.coverageInterval.fromMs),c=Math.max(c,t.coverageInterval.toMs);const u=o<c?og.findGaps(r,l,{fromMs:o,toMs:c}):{gaps:[]};if(s.length>0){const n=u.gaps.map(e=>({fromMs:e.fromMs,toMs:e.toMs})),a=this.insertNullsForGaps(s,n,t),r=e.gaps.map(e=>({fromMs:e.fromMs,toMs:e.toMs}));return{data:a,quality:"exact",coverage:e.coverage,sourceBucketMs:t,isStale:!1,gaps:r}}}const o=[...i].sort((e,n)=>Math.abs(e-t)-Math.abs(n-t));for(const c of o){if(c===t)continue;const e=s[c];if(!e||0===e.length)continue;const i=og.findGaps(r,e,{fromMs:n,toMs:a});if(i.coverage>=80){const n=this.mergeBins(e),a=e.filter(e=>"ready"===e.status);let s=Number.MAX_VALUE,l=Number.MIN_VALUE;for(const e of a)s=Math.min(s,e.coverageInterval.fromMs),l=Math.max(l,e.coverageInterval.toMs);const o=(s<l?og.findGaps(r,e,{fromMs:s,toMs:l}):{gaps:[]}).gaps.map(e=>({fromMs:e.fromMs,toMs:e.toMs})),u=this.insertNullsForGaps(n,o,c),d=c<t?"upsampled":"downsampled",f=i.gaps.map(e=>({fromMs:e.fromMs,toMs:e.toMs}));return{data:u,quality:d,coverage:i.coverage,sourceBucketMs:c,isStale:!0,gaps:f}}}return{data:[],quality:"none",coverage:0,sourceBucketMs:void 0,isStale:!1,gaps:[{fromMs:n,toMs:a}]}}static selectOptimalDataWithoutRange(e){const{targetBucketMs:t,seriesLevels:n,availableBuckets:a}=e,r=n[t];if(r&&r.length>0){const e=this.mergeTileBins(r),n=this.calculateTilesCoverage(r);if(n>=95)return{data:e,quality:"exact",coverage:n,sourceBucketMs:t,isStale:!1,gaps:[]}}const s=[...a].sort((e,n)=>Math.abs(e-t)-Math.abs(n-t));for(const i of s){if(i===t)continue;const e=n[i];if(!e||0===e.length)continue;const a=this.calculateTilesCoverage(e);if(a>=80){return{data:this.mergeTileBins(e),quality:i<t?"upsampled":"downsampled",coverage:a,sourceBucketMs:i,isStale:!0,gaps:[]}}}return{data:[],quality:"none",coverage:0,sourceBucketMs:void 0,isStale:!1,gaps:[]}}static calculateTilesCoverage(e){const t=e.filter(e=>"ready"===e.status);if(0===t.length)return 0;let n=Number.MAX_VALUE,a=Number.MIN_VALUE;for(const s of t)n=Math.min(n,s.coverageInterval.fromMs),a=Math.max(a,s.coverageInterval.toMs);if(n>=a)return 0;const r={fromMs:n,toMs:a};return og.findGaps(r,e).coverage}static mergeTileBins(e){const t=[];for(const n of e)"ready"===n.status&&t.push(...n.bins);return t.sort((e,t)=>e.t-t.t),t}}P([(e,t,n)=>Jh(e,t,n),(e,t,n)=>Yh(e,t,n),(e,t,n)=>eg(e,t,n),(e,t,n)=>{const a=eg(e,t,n);return a?ng(e,t,n,a):[]}],(e,t,n,a)=>{if(!e||!n||!t)return{coverage:0,gaps:[],coveredRanges:[]};const r=og.findGaps(t,a,{fromMs:e.fromMs,toMs:e.toMs});return{coverage:r.coverage,gaps:r.gaps.map(e=>({fromMs:e.fromMs,toMs:e.toMs})),coveredRanges:[]}}),P([(e,t,n,a,r)=>r,(e,t,n,a,r,s)=>s,(e,t,n)=>Yh(e,t,n),(e,t,n,a)=>ng(e,t,n,a)],(e,t,n,a)=>{if(!n)return{coverage:0,gaps:[],coveredRanges:[]};const r=og.findGaps(n,a,{fromMs:e,toMs:t});return{coverage:r.coverage,gaps:r.gaps.map(e=>({fromMs:e.fromMs,toMs:e.toMs})),coveredRanges:[]}});const Sg=P([(e,t,n)=>eg(e,t,n),(e,t,n)=>Jh(e,t,n),(e,t,n)=>Yh(e,t,n),(e,t,n)=>tg(e,t,n),(e,t,n)=>ag(e,t,n)],(e,t,n,a,r)=>e&&a&&t&&n?Ng.selectOptimalData({targetBucketMs:e,targetFromMs:t.fromMs,targetToMs:t.toMs,originalRange:n,seriesLevels:a,availableBuckets:r}):{data:[],quality:"none",coverage:0,sourceBucketMs:void 0,isStale:!1,gaps:[]}),Tg=P([(e,t,n)=>((e,t,n)=>{const a=Zh(e,t,n);return(null==a?void 0:a.loadingState)??$h})(e,t,n),(e,t,n)=>tg(e,t,n)],(e,t)=>{let n=0;return t&&Object.values(t).forEach(e=>{n+=e.filter(e=>"loading"===e.status).length}),{isLoading:e.active,loadingType:e.type,progress:e.progress,activeRequestsCount:n,estimatedEndTime:e.estimatedEndTime}}),jg=new WeakMap;const Mg=P([(e,t,n)=>Sg(e,t,n),(e,t,n)=>eg(e,t,n),(e,t,n)=>n],(e,t,n)=>{const a=function(e){const t=jg.get(e);if(t)return t;const n=[],a=[],r=[];for(const i of e){const e=i.t;n.push([e,i.avg??null,i.count]),a.push([e,i.min??i.avg??null,i.count]),r.push([e,i.max??i.avg??null,i.count]),i.avg}const s={avg:Object.freeze(n),min:Object.freeze(a),max:Object.freeze(r)};return jg.set(e,s),s}(e.data);return{avgPoints:a.avg,minPoints:a.min,maxPoints:a.max,bucketMs:t,quality:e.quality,isEmpty:0===a.avg.length}}),Cg=P([(e,t,n)=>Sg(e,t,n),(e,t,n)=>Tg(e,t,n)],(e,t)=>({totalPoints:e.data.length,coverage:e.coverage,gapsCount:e.gaps.length,quality:e.quality,isLoading:t.isLoading,loadingProgress:t.progress})),Ig=P([(e,t,n)=>Mg(e,t,n),(e,t,n)=>Jh(e,t,n)],(e,t)=>{if(!t||0===e.avgPoints.length)return e.avgPoints.length;const n=t.fromMs,a=t.toMs,r=function(e,t){let n=0,a=e.length-1,r=0;for(;n<=a;){const s=Math.floor((n+a)/2),i=e[s];if(!i)break;i[0]<t?n=s+1:(r=s,a=s-1)}return r}(e.avgPoints,n),s=function(e,t){let n=0,a=e.length-1,r=e.length-1;for(;n<=a;){const s=Math.floor((n+a)/2),i=e[s];if(!i)break;i[0]<=t?(r=s,n=s+1):a=s-1}return r}(e.avgPoints,a);return Math.max(0,s-r+1)});const Eg=P([(e,t,n)=>Zh(e,t,n),(e,t,n)=>eg(e,t,n),(e,t,n)=>Jh(e,t,n)],(e,t,n)=>{if(!(e&&t&&n&&e.originalRange))return Ag;const a=e.seriesLevel[t]??[],r={fromMs:n.fromMs,toMs:n.toMs},s=og.findGaps(e.originalRange,a,r),i=[],l=[];for(const o of s.gaps){a.some(e=>"loading"===e.status&&e.coverageInterval.fromMs<=o.fromMs&&e.coverageInterval.toMs>=o.toMs)?l.push(o):i.push(o)}return 0===i.length&&0===l.length?Ag:{dataGaps:Object.freeze(i),loadingGaps:Object.freeze(l)}}),Ag=Object.freeze({dataGaps:Object.freeze([]),loadingGaps:Object.freeze([])}),Rg="_fullscreenWrapper_gbtul_7",Dg="_fullscreenActive_gbtul_19",Lg="_viewFieldChartContainer_gbtul_51",Pg="_header_gbtul_79",Fg="_title_gbtul_101",qg="_templateName_gbtul_109",Og="_fieldName_gbtul_119",zg="_chartWrapper_gbtul_133",$g="_chartHeaderWrapper_gbtul_223",Bg="_indicationContainer_gbtul_239",Vg="_headerHidden_gbtul_259",Ug="_headerVisible_gbtul_271",Qg="_toggleHeaderButton_gbtul_283",Hg="_toggleIcon_gbtul_333",Wg="_exportButton_gbtul_353",Kg=b.forwardRef(function({options:e,totalPoints:t,onZoomEnd:a,loading:r=!1,currentRange:s,originalRange:i},l){const o=b.useRef(null),c=b.useRef(null),u=b.useRef(a),d=b.useRef(t),f=b.useRef(null),m=b.useRef(!1),p=b.useRef(!1),h=b.useRef(null),g=b.useRef(null),v=b.useRef(null),y=b.useRef(0),x=b.useRef(null),_=b.useRef(window.devicePixelRatio),k=b.useRef(null),w=b.useRef(0);return d.current=t,u.current=a,b.useImperativeHandle(l,()=>({resetZoom:()=>{var e;const t=c.current;t&&(p.current=!0,h.current&&clearTimeout(h.current),t.setOption({dataZoom:[{type:"inside",startValue:null==i?void 0:i.fromMs,endValue:null==i?void 0:i.toMs,zoomLock:!1}]},{replaceMerge:["dataZoom"]}),g.current=i,v.current=null,null==(e=u.current)||e.call(u,i),h.current=setTimeout(()=>{p.current=!1,h.current=null},500))}}),[i]),b.useEffect(()=>{const t=o.current;if(!t)return;const n=we(t,null,{renderer:"canvas",useDirtyRect:!0,locale:"RU"});c.current=n,n.setOption(e,{notMerge:!0});const a=()=>{var e,t;if(p.current)return;const a=null==(e=n.getOption().dataZoom)?void 0:e[0];if(null!=(null==a?void 0:a.startValue)&&null!=(null==a?void 0:a.endValue)){const e={fromMs:a.startValue,toMs:a.endValue},n=1;if(g.current&&Math.abs(g.current.fromMs-e.fromMs)<=n&&Math.abs(g.current.toMs-e.toMs)<=n)return;if(v.current&&Math.abs(v.current.fromMs-e.fromMs)<=n&&Math.abs(v.current.toMs-e.toMs)<=n)return;v.current=e,g.current=e,null==(t=u.current)||t.call(u,e)}},r=e=>{p.current||m.current||(f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{a()},150))},s=e=>{0===e.button&&(m.current=!0,f.current&&(clearTimeout(f.current),f.current=null))},i=e=>{0===e.button&&m.current&&(m.current=!1,f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{a()},100))};n.on("dataZoom",r),t.addEventListener("mousedown",s),document.addEventListener("mouseup",i);const l=()=>{if(t&&n)try{const e=t.getBoundingClientRect(),a=Math.round(e.width),r=Math.round(e.height);if(a<=0||r<=0)return;n.resize({width:a,height:r,animation:{duration:200,easing:"cubicInOut"}}),requestAnimationFrame(()=>{const e=t.querySelectorAll("canvas");let n=!1;e.forEach(e=>{e.width/window.devicePixelRatio>a+1&&(n=!0)}),n&&w.current<3?(w.current++,setTimeout(()=>l(),50)):w.current=0})}catch(e){}},d=()=>{x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{l()})})},100)},y=new ResizeObserver(e=>{for(const t of e){const{width:e,height:n}=t.contentRect;d()}});y.observe(t);const b=()=>{const e=window.devicePixelRatio;Math.abs(e-_.current)>.01?(_.current=e,k.current&&clearTimeout(k.current),w.current=0,d(),k.current=setTimeout(()=>{d()},200),setTimeout(()=>{d()},500)):d()};window.addEventListener("resize",b);const N=()=>{d()};return window.visualViewport&&window.visualViewport.addEventListener("resize",N),()=>{f.current&&clearTimeout(f.current),h.current&&clearTimeout(h.current),x.current&&clearTimeout(x.current),k.current&&clearTimeout(k.current),y.disconnect(),n.off("dataZoom",r),t.removeEventListener("mousedown",s),document.removeEventListener("mouseup",i),window.removeEventListener("resize",b),window.visualViewport&&window.visualViewport.removeEventListener("resize",N),n.dispose(),c.current=null}},[i]),b.useEffect(()=>{const t=c.current;t&&t.setOption(e,{notMerge:!1,lazyUpdate:!1,silent:!1})},[e]),b.useEffect(()=>{var e;const t=c.current;if(!t||!s)return void(!s&&g.current&&(g.current=null));const n=null==(e=t.getOption().dataZoom)?void 0:e[0],a=null==n?void 0:n.startValue,r=null==n?void 0:n.endValue;return null!=a&&null!=r&&Math.abs(a-s.fromMs)<=1&&Math.abs(r-s.toMs)<=1?(g.current=s,void(y.current=0)):(y.current+=1,y.current>3?(p.current=!1,y.current=0,void(h.current&&(clearTimeout(h.current),h.current=null))):(p.current=!0,h.current&&clearTimeout(h.current),t.setOption({dataZoom:[{type:"inside",startValue:s.fromMs,endValue:s.toMs,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}]},{replaceMerge:["dataZoom"],silent:!0}),g.current=s,h.current=setTimeout(()=>{p.current=!1,h.current=null,y.current=0},500),()=>{h.current&&clearTimeout(h.current)}))},[s]),b.useEffect(()=>{const e=c.current;e&&(r?e.showLoading("default",{text:"...",color:"#4A90E2",maskColor:"rgba(255, 255, 255, 0.8)"}):e.hideLoading())},[r]),n.jsx("div",{ref:o,style:{width:"100%",height:"100%",flex:1,maxWidth:"100%",boxSizing:"border-box",minWidth:0,minHeight:0,overflow:"hidden",position:"relative"}})}),Gg={},Xg=["UTC","Europe/Moscow"],Zg=({value:e,onChange:t,available:a,className:r,style:s,label:i="   "})=>{const l=b.useMemo(()=>Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",[]),o=b.useMemo(()=>{let e=[];if(a&&a.length>0)e=[...a];else{try{"function"==typeof Intl.supportedValuesOf&&(e=Intl.supportedValuesOf("timeZone"))}catch(i){}0===e.length&&(e=[...Xg])}const t=new Set(e);t.has("UTC")||t.add("UTC"),l&&!t.has(l)&&t.add(l);const n=Array.from(t),r=[];r.push("UTC");for(const a of Xg)"UTC"!==a&&n.includes(a)&&r.push(a);const s=n.filter(e=>!r.includes(e)).sort();return r.push(...s),r},[a,l]),c=e=>"UTC"===e?"UTC (+00:00)":e===l?`${e} ( )`:e;return n.jsxs("div",{className:qi(r,Gg.timeZomePickerContainer),style:{display:"flex",gap:12,alignItems:"center",...s||{}},children:[n.jsxs("label",{style:{display:"flex",gap:6,alignItems:"center",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:e.useTimeZone,onChange:()=>t({...e,useTimeZone:!e.useTimeZone}),style:{cursor:"pointer"}}),n.jsx("span",{style:{userSelect:"none"},children:i})]}),n.jsx("select",{value:e.timeZone,onChange:n=>{t({...e,timeZone:n.target.value})},disabled:!e.useTimeZone,"aria-label":" ",style:{minWidth:"250px",padding:"4px 8px",borderRadius:"4px",border:"1px solid #d9d9d9",backgroundColor:e.useTimeZone?"#fff":"#f5f5f5",cursor:e.useTimeZone?"pointer":"not-allowed",color:"#333",fontWeight:"UTC"===e.timeZone?"600":"normal"},children:o.map((e,t)=>{const a=t===Xg.length&&o.length>Xg.length+1;return n.jsxs(w.Fragment,{children:[n.jsx("option",{value:e,children:c(e)}),a&&n.jsx("option",{disabled:!0,value:"",children:""})]},e)})})]})},Yg="_statsBadge_1h4xl_5",Jg="_stat_1h4xl_5",ev="_statLabel_1h4xl_41",tv="_qualityBadge_1h4xl_55",nv="_loading_1h4xl_103";function av({contextId:e,totalPoints:t,coverage:a,quality:r,isLoading:s,fieldName:i}){const l=Qn(),o=se(e=>lp(e)),c=se(t=>eg(t,e,i)),u=se(t=>Ig(t,e,i)),d=a>=95?"green":a>=80?"orange":"red";return n.jsxs("div",{className:Yg,children:[n.jsx(Zg,{value:o,onChange:e=>l(cp(e)),label:""}),void 0!==c&&n.jsxs("span",{className:Jg,children:[n.jsx("span",{className:ev,children:"Bucket:"}),n.jsx("strong",{children:rv(c)})]}),n.jsxs("span",{className:Jg,children:[n.jsx("span",{className:qi(ev),children:":"}),n.jsx("strong",{children:`${u} / ${t}`})]}),n.jsxs("span",{className:Jg,children:[n.jsx("span",{className:ev,children:":"}),n.jsxs("strong",{style:{color:d},children:[a.toFixed(0),"%"]})]}),n.jsxs("span",{className:Jg,children:[n.jsx("span",{className:ev,children:":"}),n.jsx("span",{className:tv,"data-quality":r,children:sv(r)})]}),s&&n.jsx("span",{className:nv,title:" ...",children:""})]})}function rv(e){const t=e/1e3,n=t/60,a=n/60,r=a/24;return r>=1?`${r.toFixed(0)}d`:a>=1?`${a.toFixed(0)}h`:n>=1?`${n.toFixed(0)}m`:`${t.toFixed(0)}s`}function sv(e){switch(e){case"exact":return"";case"upsampled":return"Upsampled";case"downsampled":return"Downsampled";case"none":return" ";default:return e}}const iv="_chartFooter_1rdy2_1",lv="_stat_1rdy2_31",ov="_statLabel_1rdy2_43",cv="_rangeValue_1rdy2_55",uv="_dateTimeBlock_1rdy2_67",dv="_timeRange_1rdy2_79",fv="_dateText_1rdy2_91",mv="_timeText_1rdy2_101",pv="_separator_1rdy2_113";function hv(e){const t=e.match(/^(.+?),\s*(.+)$/);return t?{date:t[1].trim(),time:t[2].trim()}:{date:e,time:""}}const gv=({fromMs:e,toMs:t,timeSettings:a})=>{const r=b.useMemo(()=>{const n=pp(e,a),r=pp(t,a),s=hv(n),i=hv(r);return{from:s,to:i,isSameDate:s.date===i.date}},[e,t,a]);return r.isSameDate?n.jsxs("span",{className:cv,children:[n.jsx("span",{className:fv,children:r.from.date}),n.jsxs("span",{className:dv,children:[n.jsx("strong",{className:mv,children:r.from.time}),n.jsx("span",{className:pv,children:""}),n.jsx("strong",{className:mv,children:r.to.time})]})]}):n.jsxs("span",{className:cv,children:[n.jsxs("span",{className:uv,children:[n.jsx("span",{className:fv,children:r.from.date}),n.jsx("strong",{className:mv,children:r.from.time})]}),n.jsx("span",{className:pv,children:""}),n.jsxs("span",{className:uv,children:[n.jsx("span",{className:fv,children:r.to.date}),n.jsx("strong",{className:mv,children:r.to.time})]})]})},vv=({fieldName:e,contextId:t})=>{const a=se(n=>Jh(n,t,e)),r=se(e=>lp(e)),s=se(n=>Yh(n,t,e));return n.jsxs("div",{className:iv,children:[s&&n.jsxs("span",{className:lv,children:[n.jsx("span",{className:ov,children:":"}),n.jsx(gv,{fromMs:s.fromMs,toMs:s.toMs,timeSettings:r})]}),a&&n.jsxs("span",{className:lv,children:[n.jsx("span",{className:ov,children:":"}),n.jsx(gv,{fromMs:a.fromMs,toMs:a.toMs,timeSettings:r})]})]})},yv="_container_1x3ds_5",bv="_header_1x3ds_21",xv="_title_1x3ds_39",_v="_loadingIndicator_1x3ds_51",kv="_stats_1x3ds_65",wv="_statItem_1x3ds_77",Nv="_statLabel_1x3ds_91",Sv="_statValue_1x3ds_105",Tv="_error_1x3ds_119",jv="_errorIcon_1x3ds_141",Mv="_levelsList_1x3ds_149",Cv="_emptyState_1x3ds_167",Iv="_row_55t3u_13",Ev="_rowDefault_55t3u_33",Av="_rowCurrent_55t3u_53",Rv="_label_55t3u_73",Dv="_labelDefault_55t3u_93",Lv="_labelCurrent_55t3u_101",Pv="_labelText_55t3u_109",Fv="_currentIndicator_55t3u_119",qv="_statistics_55t3u_165",Ov="_statsText_55t3u_199",zv="_statsPercent_55t3u_207",$v="_loadingBadge_55t3u_217",Bv="_errorBadge_55t3u_219",Vv="_debugInfo_55t3u_263",Uv="_debugItem_55t3u_299",Qv="_coverageBarWrapper_55t3u_321",Hv="_wrapper_584v4_13",Wv="_progress_584v4_35",Kv="_container_584v4_57",Gv="_containerNoAnimation_584v4_67",Xv="_segment_584v4_83",Zv="_segmentNoAnimation_584v4_105",Yv="_segmentCovered_584v4_129",Jv="_segmentLoading_584v4_155",ey="_coveragePercent_584v4_229";function ty(e){return new Date(e).toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function ny(e,t,n){const a=n-t;if(a<=0)return null;const r=Math.max(e.fromMs,t),s=Math.min(e.toMs,n);if(r>=s)return null;const i=e=>(e-t)/a*100;return{left:i(r),width:i(s)-i(r),startMs:r,endMs:s}}const ay=({coverage:e,originalRange:t,backgroundColor:a="#e5e7eb",coverageColor:r="#3b82f6",loadingColor:s="#fbbf24",loadingIntervals:i=[],showTooltip:l=!0,animate:o=!0,showPercent:c=!0,className:u})=>{const d=b.useMemo(()=>{if(t.toMs-t.fromMs<=0)return{covered:[],loading:[]};return{covered:e.map(e=>ny(e,t.fromMs,t.toMs)).filter(e=>null!==e),loading:i.map(e=>ny(e,t.fromMs,t.toMs)).filter(e=>null!==e)}},[e,i,t]),f=b.useMemo(()=>{const n=t.toMs-t.fromMs;if(n<=0)return 0;let a=0;return e.forEach(e=>{const n=Math.max(e.fromMs,t.fromMs),r=Math.min(e.toMs,t.toMs);r>n&&(a+=r-n)}),Math.round(a/n*100)},[e,t.fromMs,t.toMs]),m=e=>{if(l)return`${ty(e.startMs)}  ${ty(e.endMs)}`},p=(e,t)=>({left:`${e.left}%`,width:`${e.width}%`,backgroundColor:t}),h=qi(o?Kv:Gv,Wv,u),g=e=>qi(o?Xv:Zv,"covered"===e?Yv:Jv);return n.jsxs("div",{className:Hv,children:[n.jsxs("div",{className:h,style:{backgroundColor:a},title:l?`: ${f}%`:void 0,children:[d.loading.map((e,t)=>n.jsx("div",{className:g("loading"),style:p(e,s),title:m(e),"aria-label":`: ${ty(e.startMs)}  ${ty(e.endMs)}`},`loading-${e.startMs}-${e.endMs}-${t}`)),d.covered.map((e,t)=>n.jsx("div",{className:g("covered"),style:p(e,r),title:m(e),"aria-label":`: ${ty(e.startMs)}  ${ty(e.endMs)}`},`covered-${e.startMs}-${e.endMs}-${t}`))]}),c&&n.jsxs("div",{className:ey,"aria-label":` : ${f}%`,children:[f,"%"]})]})};function ry(){const e=b.useContext(dg);if(!e)throw new Error("[useLocalRequestManager] Must be used within RequestManagerProvider. Add <RequestManagerProvider> to your App component.");return e}const sy=({level:e,fieldName:t,width:a,originalRange:r,showDetails:s=!0})=>{const i=ry(),l=e.errorCoverage.length>0,o=e.loadingCoverage.length>0,c=e.isCurrent?`${Iv} ${Av}`:`${Iv} ${Ev}`,u=e.isCurrent?`${Rv} ${Lv}`:`${Rv} ${Dv}`,d=e.isCurrent?"#3b82f6":"#10b981",f=l?"#fee2e2":"rgba(229, 231, 235, 0.55)";return n.jsxs("div",{className:c,children:[n.jsxs("button",{onClick:()=>{i.loadVisibleRange(t,r.fromMs,r.toMs,e.bucketMs,a)},children:["load ",e.bucketMs]}),n.jsxs("div",{className:u,children:[e.isCurrent&&n.jsx("span",{className:Fv,title:" ","aria-label":" "}),n.jsx("span",{className:Pv,children:e.bucketLabel})]}),s?n.jsxs("div",{className:qv,children:[n.jsxs("span",{className:Ov,children:[e.coveredBins," / ",e.totalBins]}),n.jsxs("span",{className:zv,children:["(",e.coveragePercent,"%)"]}),o&&n.jsx("span",{className:$v,title:" ",children:""}),l&&n.jsx("span",{className:Bv,title:" ",children:""})]}):n.jsx("div",{className:qv}),s&&e.debugInfo?n.jsxs("div",{className:Vv,children:[n.jsxs("span",{className:Uv,children:["T: ",e.debugInfo.readyTiles,"/",e.debugInfo.totalTiles]}),n.jsxs("span",{className:Uv,children:["P: ",e.debugInfo.totalDataPoints.toLocaleString("ru-RU")]})]}):n.jsx("div",{className:Vv}),n.jsx("div",{className:Qv,children:n.jsx(ay,{coverage:e.coverage,loadingIntervals:e.loadingCoverage,originalRange:r,coverageColor:d,loadingColor:"#fbbf24",backgroundColor:f})})]})};function iy(e){if(!e||!Number.isFinite(e))return"";const t=Math.floor(e/1e3),n=Math.floor(t/60),a=Math.floor(n/60),r=Math.floor(a/24),s=Math.floor(r/7),i=Math.floor(r/30),l=Math.floor(r/365);return l>0?`${l}`:i>0?`${i}`:s>0?`${s}`:r>0?`${r}`:a>0?`${a}`:n>0?`${n}`:`${t}`}const ly=({contextId:e,width:t,fieldName:a,showDetails:r=!0})=>{const s=Hn(t=>Zh(t,e,a)),i=se(t=>Yh(t,e,a)),l=b.useMemo(()=>{if(!s)return{levels:[],originalRange:void 0,currentBucketMs:void 0,isFieldLoading:!1,fieldError:void 0,totalLevels:0};if(!i)return{levels:[],originalRange:void 0,currentBucketMs:s.currentBucketsMs,isFieldLoading:s.loadingState.active,fieldError:s.error,totalLevels:0};if(i.toMs<=i.fromMs)return{levels:[],originalRange:void 0,currentBucketMs:s.currentBucketsMs,isFieldLoading:s.loadingState.active,fieldError:"  ",totalLevels:0};const e=Object.keys(s.seriesLevel).map(e=>Number(e)).filter(e=>Number.isFinite(e)&&e>0).sort((e,t)=>t-e);if(0===e.length)return{levels:[],originalRange:i,currentBucketMs:s.currentBucketsMs,isFieldLoading:s.loadingState.active,fieldError:s.error,totalLevels:0};const t=[];return e.forEach(e=>{const n=s.seriesLevel[e];if(!n)return;const a=n.filter(e=>"ready"===e.status),r=n.filter(e=>"loading"===e.status),l=n.filter(e=>"error"===e.status),o=a.reduce((e,t)=>{var n;return e+((null==(n=t.bins)?void 0:n.length)??0)},0),c=a.map(e=>e.coverageInterval),u=r.map(e=>e.coverageInterval),d=l.map(e=>e.coverageInterval),f=i.toMs-i.fromMs,m=Math.ceil(f/e);let p=0;c.forEach(e=>{const t=Math.max(e.fromMs,i.fromMs),n=Math.min(e.toMs,i.toMs);n>t&&(p+=n-t)});const h=Math.floor(p/e),g=f>0?Math.round(p/f*100):0,v=e===s.currentBucketsMs;t.push({bucketMs:e,bucketLabel:iy(e),coverage:c,loadingCoverage:u,errorCoverage:d,totalBins:m,coveredBins:h,coveragePercent:g,isCurrent:v,debugInfo:{totalTiles:n.length,readyTiles:a.length,loadingTiles:r.length,errorTiles:l.length,totalDataPoints:o}})}),{levels:t,originalRange:i,currentBucketMs:s.currentBucketsMs,isFieldLoading:s.loadingState.active,fieldError:s.error,totalLevels:t.length}},[s,i,a]),o=b.useMemo(()=>{if(0===l.levels.length)return 0;const e=l.levels.filter(e=>e.debugInfo&&e.debugInfo.totalTiles>0);if(0===e.length)return 0;const t=e.reduce((e,t)=>e+t.coveragePercent,0);return Math.round(t/e.length)},[l.levels]);return n.jsxs("div",{className:yv,children:[n.jsxs("div",{className:bv,children:[n.jsx("div",{className:xv,children:l.isFieldLoading&&n.jsx("span",{className:_v,children:"(...)"})}),n.jsxs("div",{className:kv,children:[n.jsxs("div",{className:wv,children:[n.jsx("div",{className:Nv,children:""}),n.jsx("div",{className:Sv,children:l.totalLevels})]}),n.jsxs("div",{className:wv,children:[n.jsx("div",{className:Nv,children:""}),n.jsx("div",{className:Sv,children:l.currentBucketMs?iy(l.currentBucketMs):""})]}),n.jsxs("div",{className:wv,children:[n.jsx("div",{className:Nv,children:""}),n.jsxs("div",{className:Sv,children:[o,"%"]})]})]})]}),l.fieldError&&n.jsxs("div",{className:Tv,children:[n.jsx("span",{className:jv,children:""}),n.jsxs("span",{children:[": ",l.fieldError]})]}),l.originalRange?n.jsx("div",{className:Mv,children:0===l.levels.length?n.jsx("div",{className:Cv,children:"  "}):l.levels.map(e=>n.jsx(sy,{level:e,fieldName:a,width:t,originalRange:l.originalRange,showDetails:r},e.bucketMs))}):n.jsx("div",{className:Cv,children:"   "})]})},oy="_container_r4myl_7",cy="_containerBottom_r4myl_33",uy="_containerTop_r4myl_59",dy="_progressBar_r4myl_85",fy="_indeterminate_r4myl_121",my=({chartFieldStatus:e,position:t})=>{if(!e.isLoading)return null;const a="belowAxis"===t?cy:"top"===t?uy:oy;return n.jsx("div",{className:a,children:e.loadingProgress>0?n.jsx("div",{className:dy,style:{width:`${e.loadingProgress}%`}}):n.jsx("div",{className:fy})})},py="_resizableContainer_138f2_1",hy="_resizing_138f2_31",gy="_resizableContainer__content_138f2_39",vy="_resizeHandle_138f2_75",yy="_resizeGrip_138f2_101",by="_groupSyncButton_138f2_135",xy="_groupControl_138f2_185",_y="_active_138f2_227";const ky=new class{constructor(){t(this,"groups",new Map)}getGroup(e){return this.groups.has(e)||this.groups.set(e,{height:500,listeners:new Set,stateListeners:new Set,enabled:!1}),this.groups.get(e)}subscribe(e,t){const n=this.getGroup(e);return n.listeners.add(t),()=>n.listeners.delete(t)}subscribeToState(e,t){const n=this.getGroup(e);return n.stateListeners.add(t),t(n.enabled),()=>n.stateListeners.delete(t)}updateHeight(e,t){const n=this.getGroup(e);n.height=t,n.enabled&&n.listeners.forEach(e=>e(t))}toggleGroup(e,t){const n=this.getGroup(e),a=void 0!==t?t:!n.enabled;return n.enabled=a,n.stateListeners.forEach(e=>e(a)),a&&n.listeners.forEach(e=>e(n.height)),a}setIndividualSync(e,t){const n=this.getGroup(e);t&&!n.enabled&&(n.enabled=!0,n.stateListeners.forEach(e=>e(!0)))}isGroupEnabled(e){return this.getGroup(e).enabled}getGroupHeight(e){return this.getGroup(e).height}},wy=({groupId:e,children:t,minHeight:a=200,maxHeight:r=1200,defaultHeight:s=500,onHeightChange:i,className:l,disabled:o=!1})=>{const c=b.useRef(null),[u,d]=b.useState(s),[f,m]=b.useState(!1),[p,h]=b.useState(!1),g=b.useRef(!1);b.useEffect(()=>{d(s)},[s]);const v=b.useCallback(t=>{if(o)return;const n=Math.max(a,Math.min(r,t));d(n),null==i||i(n),p&&!g.current&&ky.updateHeight(e,n)},[a,r,i,p,e,o]);b.useEffect(()=>{const t=ky.subscribe(e,e=>{if(p&&!o){g.current=!0;const t=Math.max(a,Math.min(r,e));d(t),null==i||i(t),g.current=!1}}),n=ky.subscribeToState(e,t=>{if(!o&&(h(t),t)){const t=ky.getGroupHeight(e),n=Math.max(a,Math.min(r,t));g.current=!0,d(n),null==i||i(n),g.current=!1}});return()=>{t(),n()}},[e,a,r,i,p,o]);const y=b.useCallback(e=>{if(o)return;e.preventDefault(),m(!0);const t=e.clientY,n=u,a=e=>{const a=e.clientY-t;v(n+a)},r=()=>{m(!1),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",r)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",r)},[u,v,o]);return n.jsxs("div",{ref:c,className:`${py} ${l||""} ${f?hy:""}`,style:{height:u},children:[n.jsx("div",{className:gy,children:t}),!o&&n.jsx("div",{className:vy,onMouseDown:y,children:n.jsxs("div",{className:yy,children:[n.jsx(Ny,{groupId:e}),n.jsx("span",{}),n.jsx("span",{}),n.jsx("span",{})]})})]})},Ny=({groupId:e})=>{const[t,a]=b.useState(!1),[r,s]=b.useState(500);b.useEffect(()=>{const t=ky.subscribe(e,e=>{s(e)}),n=ky.subscribeToState(e,e=>{a(e)});return a(ky.isGroupEnabled(e)),s(ky.getGroupHeight(e)),()=>{t(),n()}},[e]);return n.jsx("div",{className:xy,children:n.jsx("button",{onClick:()=>{const t=ky.toggleGroup(e);a(t)},className:`${by} ${t?_y:""}`,children:t?"":""})})};const Sy={enabled:!1,duration:800,easing:"cubicOut",staggerPoints:!0,updateDuration:200};function Ty(e){const{avgPoints:t,minPoints:n,maxPoints:a,fieldName:r,originalRange:s,timeSettings:i,gapsInfo:l,isZoomOnMouseWheelKeyCtrl:o=!0,isEmphasis:c=!1,animationConfig:u=Sy,customYAxisRange:d}=e;if(0===t.length)return{title:{text:r,left:"center"},xAxis:{type:"time"},yAxis:{type:"value"},series:[]};const f=(null==s?void 0:s.fromMs)??0,m=(null==s?void 0:s.toMs)??0,p=t.length<50?6:4,h=u.enabled&&t.length<2e3,g=[];if(t.forEach(e=>{Array.isArray(e)&&e.length>=2&&"number"==typeof e[1]&&Number.isFinite(e[1])&&g.push(e)}),n.forEach(e=>{Array.isArray(e)&&e.length>=2&&"number"==typeof e[1]&&Number.isFinite(e[1])&&g.push(e)}),a.forEach(e=>{Array.isArray(e)&&e.length>=2&&"number"==typeof e[1]&&Number.isFinite(e[1])&&g.push(e)}),0===g.length)return{title:{text:r,left:"center"},xAxis:{type:"time",...void 0!==f&&{min:f},...void 0!==m&&{max:m}},yAxis:{type:"value"},series:[]};const v=function(e,t){const n=[];for(const v of e){const e=v[1];Number.isFinite(e)&&n.push(e)}if(0===n.length)return{min:(null==t?void 0:t.min)??0,max:(null==t?void 0:t.max)??100};let a=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;for(const v of n)v<a&&(a=v),v>r&&(r=v);const s=r-a,i=Math.max(Math.abs(a),Math.abs(r)),l=n.reduce((e,t)=>e+t,0)/n.length,o=n.reduce((e,t)=>e+Math.pow(t-l,2),0)/n.length,c=Math.sqrt(o),u=Math.max(1e-10*i,1e-10);let d,f;if(s<u||c<u){const e=l,t=Math.abs(e),n=t>0?Math.floor(Math.log10(t)):0;let a;a=t<1e-10?1:t<1e-6||t<.001?Math.pow(10,n-1):t<1?Math.max(.1,Math.pow(10,n-1)):t<100?Math.max(1,2*Math.pow(10,n-1)):5*Math.pow(10,n-1),d=e-a,f=e+a}else{let e;e=c<.05*i?.15:i<.001?.25:i<1?.15:.1;const t=.5*c,n=s*e,l=Math.max(t,n);d=a-l,f=r+l;const o=e=>{if(Math.abs(e)<1e-6)return e;const t=Math.abs(e),n=Math.floor(Math.log10(t)),a=Math.pow(10,n-1);return Math.round(e/a)*a};i>=10&&(d=o(d),f=o(f))}const m=f-d,p=Math.max(.05*i,1e-6);if(m<p){const e=(d+f)/2,t=p/2;d=e-t,f=e+t}const h=(null==t?void 0:t.min)??d,g=(null==t?void 0:t.max)??f;if(g<=h)return{min:h,max:h+Math.max(1,.1*i)};return{min:h,max:g}}(g,d),y=v.min,b=v.max,x=[];n.length>0&&a.length>0&&(x.push({name:`${r} ()`,type:"line",data:n,lineStyle:{opacity:0},stack:"confidence",symbol:"none",areaStyle:{color:"rgba(74, 144, 226, 0.15)",opacity:.7},z:0,silent:!0,animation:!1}),x.push({name:`${r} ( )`,type:"line",data:a,lineStyle:{opacity:0},stack:"confidence",symbol:"none",z:0,silent:!0,animation:!1})),n.length>0&&x.push({name:`${r} (min)`,type:"line",data:n,smooth:!1,symbol:"circle",symbolSize:p-1,lineStyle:{width:1.5,color:"#82ca9d",type:"dashed",opacity:.8},itemStyle:{color:"#82ca9d",borderColor:"#fff",borderWidth:1},emphasis:{focus:c?"series":"none",lineStyle:{width:2},itemStyle:{borderWidth:2,shadowBlur:10,shadowColor:"#82ca9d"}},connectNulls:!1,animation:!1,z:2}),a.length>0&&x.push({name:`${r} (max)`,type:"line",data:a,smooth:!1,symbol:"circle",symbolSize:p-1,lineStyle:{width:1.5,color:"#ff6b6b",type:"dashed",opacity:.8},itemStyle:{color:"#ff6b6b",borderColor:"#fff",borderWidth:1},emphasis:{focus:c?"series":"none",lineStyle:{width:2},itemStyle:{borderWidth:2,shadowBlur:10,shadowColor:"#ff6b6b"}},connectNulls:!1,animation:!1,z:2});const _=function(e,t,n){if(!e||0===e.dataGaps.length&&0===e.loadingGaps.length)return;const a=[];for(const r of e.dataGaps)a.push([{name:" ",xAxis:r.fromMs,yAxis:t,itemStyle:{color:"rgba(255, 107, 107, 0.1)",borderColor:"rgba(255, 107, 107, 0.3)",borderWidth:1,borderType:"dashed"}},{xAxis:r.toMs,yAxis:n}]);for(const r of e.loadingGaps)a.push([{name:"...",xAxis:r.fromMs,yAxis:t,itemStyle:{color:"rgba(251, 191, 36, 0.08)",borderColor:"rgba(251, 191, 36, 0.4)",borderWidth:1,borderType:"dotted"}},{xAxis:r.toMs,yAxis:n}]);return{silent:!0,data:a}}(l,y,b);return x.push({name:r,type:"line",data:t,smooth:!1,symbol:"circle",symbolSize:p,lineStyle:{width:2.5,color:"#4A90E2",shadowBlur:2,shadowColor:"#4A90E2",shadowOffsetY:1},itemStyle:{color:"#4A90E2",borderColor:"#fff",borderWidth:2},emphasis:{focus:c?"series":"none",lineStyle:{width:3.5},itemStyle:{borderWidth:3,shadowBlur:10,shadowColor:"#4A90E2"}},connectNulls:!1,markArea:_,animation:h,animationDuration:h?u.staggerPoints?e=>e/Math.max(1,t.length-1)*u.duration:u.duration:0,animationEasing:u.easing,animationDelay:h&&u.staggerPoints?e=>2*e:0,animationDurationUpdate:h?u.updateDuration:0,animationEasingUpdate:"cubicInOut",animationDelayUpdate:0,z:3}),{useUTC:!i.useTimeZone||"UTC"===i.timeZone,tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"},animation:!1},className:"echarts-tooltip",backgroundColor:"transparent",borderWidth:0,padding:0,formatter:e=>{var t,n;if(!Array.isArray(e)||0===e.length)return"";const a=e.filter(e=>e&&e.seriesName&&(e.seriesName===r||e.seriesName===`${r} (min)`||e.seriesName===`${r} (max)`));if(0===a.length)return"";const s=a.find(e=>e.seriesName===r),l=a.find(e=>e.seriesName===`${r} (min)`),o=a.find(e=>e.seriesName===`${r} (max)`);if(!s||!s.value||!Array.isArray(s.value)||s.value.length<2)return"";const c=s.value[0];if("number"!=typeof c||!Number.isFinite(c))return"";return`\n                    <div class="echarts-tooltip-container">\n                        <div class="echarts-tooltip-time">${pp(c,i,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}</div>\n                        \n                        <div class="echarts-tooltip-row">\n                            <span class="echarts-tooltip-marker" style="background-color: #4A90E2;"></span>\n                            <span class="echarts-tooltip-label">:</span>\n                            <span class="echarts-tooltip-value">${s.value[1]}</span>\n                        </div>\n                        \n                        <div class="echarts-tooltip-row">\n                            <span class="echarts-tooltip-marker" style="background-color: #82ca9d;"></span>\n                            <span class="echarts-tooltip-label">:</span>\n                            <span class="echarts-tooltip-value">${null==(t=null==l?void 0:l.value)?void 0:t[1]}</span>\n                        </div>\n                        \n                        <div class="echarts-tooltip-row">\n                            <span class="echarts-tooltip-marker" style="background-color: #ff6b6b;"></span>\n                            <span class="echarts-tooltip-label">:</span>\n                            <span class="echarts-tooltip-value">${null==(n=null==o?void 0:o.value)?void 0:n[1]}</span>\n                        </div>\n                        \n                        <div class="echarts-tooltip-count">\n                            <span class="echarts-tooltip-label">-   :</span>\n                            <span class="echarts-tooltip-value">${s.value[2]??0}</span>\n                        </div>\n                    </div>\n                `}},toolbox:{feature:{dataZoom:{yAxisIndex:"none",title:{zoom:" ",back:" "}},restore:{title:""},saveAsImage:{pixelRatio:2,title:"  "}},right:10,top:10},legend:{data:[r,`${r} (min)`,`${r} (max)`],top:30,selected:{[r]:!0,[`${r} (min)`]:!0,[`${r} (max)`]:!0}},xAxis:{type:"time",min:f,max:m,axisLabel:{show:!1},axisPointer:{show:!0,type:"line",snap:!0,lineStyle:{color:"#4A90E2",width:1,type:"dashed"},label:{show:!0,formatter:e=>{const t=e.value;return"number"!=typeof t?"":pp(t,i,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})},backgroundColor:"rgba(74, 144, 226, 0.9)",color:"#fff",padding:[8,12],fontSize:12,fontWeight:"bold",borderRadius:4}},splitLine:{show:!1},axisLine:{lineStyle:{color:"#ddd"}},axisTick:{show:!1}},yAxis:{type:"value",scale:!0,min:y,max:b,name:"",nameTextStyle:{fontSize:12,color:"#666"},splitLine:{show:!0,lineStyle:{color:"#E0E0E0",type:"dashed"}},axisLine:{show:!0,lineStyle:{color:"#ddd"}},axisLabel:{fontSize:11,formatter:e=>{if(0===e)return"0";const t=Math.abs(e);return t>=1e6?(e/1e6).toFixed(1)+"M":t>=1e3?(e/1e3).toFixed(1)+"K":t<.01?e.toExponential(2):e.toFixed(2)}}},grid:{left:50,right:20,top:80,bottom:60,containLabel:!0},dataZoom:[{type:"inside",xAxisIndex:0,zoomOnMouseWheel:!o||"ctrl",moveOnMouseWheel:!1,minValueSpan:6e4,filterMode:"none",zoomLock:!1},{type:"inside",yAxisIndex:0,filterMode:"none",zoomOnMouseWheel:"shift",moveOnMouseWheel:!1,throttle:100},{type:"slider",xAxisIndex:0,minValueSpan:6e4,filterMode:"none",height:30,bottom:10,borderColor:"#ddd",backgroundColor:"rgba(47, 69, 84, 0.05)",fillerColor:"rgba(70, 130, 180, 0.15)",handleStyle:{color:"#4A90E2",shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.3)"},textStyle:{fontSize:11}}],series:x,animation:!1}}const jy={container:"_container_1acqg_5",toggleButton:"_toggleButton_1acqg_21",active:"_active_1acqg_65",icon:"_icon_1acqg_77",buttonText:"_buttonText_1acqg_87",deviationBadge:"_deviationBadge_1acqg_99",low:"_low_1acqg_115",medium:"_medium_1acqg_125",high:"_high_1acqg_135",panel:"_panel_1acqg_147",header:"_header_1acqg_197",title:"_title_1acqg_215",headerButtons:"_headerButtons_1acqg_233",iconButton:"_iconButton_1acqg_243",resetButton:"_resetButton_1acqg_275",quickActions:"_quickActions_1acqg_315",quickButton:"_quickButton_1acqg_333",expand:"_expand_1acqg_357",shrink:"_shrink_1acqg_377",section:"_section_1acqg_399",sectionHeader:"_sectionHeader_1acqg_421",label:"_label_1acqg_441",value:"_value_1acqg_453",sliderContainer:"_sliderContainer_1acqg_477",slider:"_slider_1acqg_477",sliderLabels:"_sliderLabels_1acqg_589",presetButtons:"_presetButtons_1acqg_609",presetButton:"_presetButton_1acqg_609",increase:"_increase_1acqg_645",decrease:"_decrease_1acqg_665",mild:"_mild_1acqg_685",manualInput:"_manualInput_1acqg_707",inputLabel:"_inputLabel_1acqg_723",numberInput:"_numberInput_1acqg_737",manualButtons:"_manualButtons_1acqg_769",cancelButton:"_cancelButton_1acqg_781",applyButton:"_applyButton_1acqg_783",info:"_info_1acqg_851",infoRow:"_infoRow_1acqg_869",infoLabel:"_infoLabel_1acqg_895",infoValue:"_infoValue_1acqg_905",deviation:"_deviation_1acqg_99"},My=[{factor:3,label:"3",className:jy.increase},{factor:2,label:"2",className:jy.increase},{factor:1.5,label:"1.5",className:jy.increase},{factor:1.1,label:"+10%",className:jy.mild},{factor:.9,label:"-10%",className:jy.mild},{factor:.75,label:"0.75",className:jy.decrease},{factor:.5,label:"0.5",className:jy.decrease}],Cy=[{factor:.5,label:"0.5",className:jy.decrease},{factor:.75,label:"0.75",className:jy.decrease},{factor:.9,label:"-10%",className:jy.mild},{factor:1.1,label:"+10%",className:jy.mild},{factor:1.5,label:"1.5",className:jy.increase},{factor:2,label:"2",className:jy.increase},{factor:3,label:"3",className:jy.increase}],Iy=16,Ey=({control:e,className:t})=>{const[a,r]=b.useState(!1),[s,i]=b.useState(!1),[l,o]=b.useState(""),[c,u]=b.useState(""),[d,f]=b.useState({}),m=b.useRef(null),p=b.useRef(null),h=b.useCallback(()=>{r(e=>!e)},[]),g=b.useCallback(()=>{i(t=>(t||(o(e.currentRange.min.toString()),u(e.currentRange.max.toString())),!t))},[e.currentRange]);b.useEffect(()=>{if(!a||!m.current||!p.current)return;const e=()=>{if(!m.current||!p.current)return;const e=m.current.getBoundingClientRect(),t=p.current,n=t.offsetWidth,a=t.offsetHeight,r=window.innerWidth,s=window.innerHeight,i=e.left,l=e.right,o=e.top,c=e.bottom;e.width;let u,d=c+8,h=!1;d+a>s-Iy&&(d=o-a-8,h=!0,d<Iy&&(d=c+8,h=!1));const g=l-n;if(g>=Iy&&l<=r-Iy)u=g;else if(i>=Iy&&i+n<=r-Iy)u=i;else{u=r-l>i?r-n-Iy:Iy}u<Iy&&(u=Iy),u+n>r-Iy&&(u=r-n-Iy),d<Iy&&(d=Iy);f({top:`${d}px`,left:`${u}px`})},t=setTimeout(e,20),n=()=>{e()},r=()=>{e()};return window.addEventListener("resize",n),window.addEventListener("scroll",r,!0),()=>{clearTimeout(t),window.removeEventListener("resize",n),window.removeEventListener("scroll",r,!0)}},[a]),b.useEffect(()=>{if(!a)return;const e=e=>{m.current&&!m.current.contains(e.target)&&(r(!1),i(!1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[a]);const v=b.useCallback(e=>{if(0===e)return"0";const t=Math.abs(e);return t>=1e6?(e/1e6).toFixed(2)+"M":t>=1e3?(e/1e3).toFixed(2)+"K":t<.01?e.toExponential(3):t<1?e.toFixed(4):e.toFixed(2)},[]),y=b.useCallback(e=>Math.abs(e)<.001?e.toExponential(6):Math.abs(e)<1?e.toFixed(6):Math.abs(e)<1e3?e.toFixed(3):e.toLocaleString("ru-RU",{maximumFractionDigits:2}),[]),x=b.useMemo(()=>{const t=e.optimalRange.max-e.optimalRange.min;return(e.currentRange.max-e.currentRange.min-t)/t*100},[e.optimalRange,e.currentRange]),_=b.useMemo(()=>{const t=e.optimalRange.max-e.optimalRange.min;return(e.currentRange.min-e.optimalRange.min)/t*100},[e.optimalRange,e.currentRange.min]),k=b.useMemo(()=>{const t=e.optimalRange.max-e.optimalRange.min;return(e.currentRange.max-e.optimalRange.max)/t*100},[e.optimalRange,e.currentRange.max]),w=b.useCallback(t=>{const n=parseFloat(t.target.value),a=e.optimalRange.max-e.optimalRange.min,r=e.optimalRange.min+a*n/100;e.setCustomMin(r)},[e]),N=b.useCallback(t=>{const n=parseFloat(t.target.value),a=e.optimalRange.max-e.optimalRange.min,r=e.optimalRange.max+a*n/100;e.setCustomMax(r)},[e]),S=b.useCallback(()=>{const t=parseFloat(l),n=parseFloat(c);isNaN(t)||e.setCustomMin(t),isNaN(n)||e.setCustomMax(n),i(!1)},[l,c,e]),T=b.useCallback(t=>{e.multiplyMin(1/t),e.multiplyMax(t)},[e]);return n.jsxs("div",{className:`${jy.container} ${t??""}`,ref:m,children:[n.jsxs("button",{type:"button",className:`${jy.toggleButton} ${e.isCustom?jy.active:""}`,onClick:h,title:a?"   Y":"  Y",children:[n.jsx("span",{className:jy.icon,children:""}),n.jsx("span",{className:jy.buttonText,children:"Y"}),e.isCustom&&n.jsxs("span",{className:`${jy.deviationBadge} ${Math.abs(x)>50?jy.high:Math.abs(x)>20?jy.medium:jy.low}`,title:`  : ${x>0?"+":""}${x.toFixed(0)}%`,children:[x>0?"+":"",x.toFixed(0),"%"]})]}),a&&n.jsxs("div",{ref:p,className:jy.panel,style:d,children:[n.jsxs("div",{className:jy.header,children:[n.jsx("h4",{className:jy.title,children:"  Y"}),n.jsxs("div",{className:jy.headerButtons,children:[n.jsx("button",{type:"button",className:jy.iconButton,onClick:g,title:"  ",children:""}),e.isCustom&&n.jsx("button",{type:"button",className:jy.resetButton,onClick:e.reset,title:"   ",children:""})]})]}),s?n.jsxs("div",{className:jy.manualInput,children:[n.jsxs("div",{className:jy.inputGroup,children:[n.jsx("label",{className:jy.inputLabel,children:":"}),n.jsx("input",{type:"number",className:jy.numberInput,value:c,onChange:e=>u(e.target.value),step:"any",placeholder:y(e.optimalRange.max)})]}),n.jsxs("div",{className:jy.inputGroup,children:[n.jsx("label",{className:jy.inputLabel,children:":"}),n.jsx("input",{type:"number",className:jy.numberInput,value:l,onChange:e=>o(e.target.value),step:"any",placeholder:y(e.optimalRange.min)})]}),n.jsxs("div",{className:jy.manualButtons,children:[n.jsx("button",{type:"button",className:jy.cancelButton,onClick:()=>i(!1),children:""}),n.jsx("button",{type:"button",className:jy.applyButton,onClick:S,children:""})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:jy.quickActions,children:[n.jsx("button",{type:"button",className:`${jy.quickButton} ${jy.expand}`,onClick:()=>T(1.5),title:"   1.5 ",children:" 1.5"}),n.jsx("button",{type:"button",className:`${jy.quickButton} ${jy.expand}`,onClick:()=>T(2),title:"   2 ",children:" 2"}),n.jsx("button",{type:"button",className:`${jy.quickButton} ${jy.shrink}`,onClick:()=>T(.75),title:"   75%",children:" 0.75"})]}),n.jsxs("div",{className:jy.section,children:[n.jsxs("div",{className:jy.sectionHeader,children:[n.jsx("span",{className:jy.label,children:""}),n.jsx("span",{className:jy.value,title:y(e.currentRange.max),children:v(e.currentRange.max)})]}),n.jsxs("div",{className:jy.sliderContainer,children:[n.jsx("input",{type:"range",className:jy.slider,min:"-100",max:"200",step:"1",value:k,onChange:N}),n.jsxs("div",{className:jy.sliderLabels,children:[n.jsx("span",{children:"-50%"}),n.jsx("span",{children:"0"}),n.jsx("span",{children:"+100%"})]})]}),n.jsx("div",{className:jy.presetButtons,children:Cy.map(t=>n.jsx("button",{type:"button",className:`${jy.presetButton} ${t.className}`,onClick:()=>e.multiplyMax(t.factor),title:`   ${t.factor}`,children:t.label},t.factor))})]}),n.jsxs("div",{className:jy.section,children:[n.jsxs("div",{className:jy.sectionHeader,children:[n.jsx("span",{className:jy.label,children:""}),n.jsx("span",{className:jy.value,title:y(e.currentRange.min),children:v(e.currentRange.min)})]}),n.jsxs("div",{className:jy.sliderContainer,children:[n.jsx("input",{type:"range",className:jy.slider,min:"-100",max:"200",step:"1",value:_,onChange:w}),n.jsxs("div",{className:jy.sliderLabels,children:[n.jsx("span",{children:"-50%"}),n.jsx("span",{children:"0"}),n.jsx("span",{children:"+100%"})]})]}),n.jsx("div",{className:jy.presetButtons,children:My.map(t=>n.jsx("button",{type:"button",className:`${jy.presetButton} ${t.className}`,onClick:()=>e.multiplyMin(t.factor),title:`   ${t.factor}`,children:t.label},t.factor))})]}),e.isCustom&&n.jsxs("div",{className:jy.info,children:[n.jsxs("div",{className:jy.infoRow,children:[n.jsx("span",{className:jy.infoLabel,children:":"}),n.jsxs("span",{className:jy.infoValue,children:[v(e.optimalRange.min),"  ",v(e.optimalRange.max)]})]}),n.jsxs("div",{className:jy.infoRow,children:[n.jsx("span",{className:jy.infoLabel,children:":"}),n.jsxs("span",{className:jy.infoValue,children:[v(e.currentRange.min),"  ",v(e.currentRange.max)]})]}),n.jsxs("div",{className:jy.infoRow,children:[n.jsx("span",{className:jy.infoLabel,children:":"}),n.jsxs("span",{className:jy.infoValue,children:[v(e.currentRange.max-e.currentRange.min)," ",n.jsxs("span",{className:jy.deviation,children:["(",x>0?"+":"",x.toFixed(1),"%)"]})]})]})]})]})]})]})},Ay="_syncCheckbox_19tm6_1",Ry="_checkbox_19tm6_41",Dy="_label_19tm6_63";function Ly({fieldName:e,contextId:t}){const a=Qn(),r=se(jo),s=se(e=>!!r&&Do(e,r)),i=se(e=>Wh(e,t)),l=se(e=>Kh(e,t)),o=se(n=>Gh(n,t,e)),c=b.useMemo(()=>null==i?void 0:i.selectedFields.find(t=>t.name===e),[null==i?void 0:i.selectedFields,e]),u=b.useCallback(n=>{if(r&&c)if(n.target.checked){a(yc({contextId:t,field:c}));0===l.length&&a(No({tabId:r,contextId:t}))}else{a(bc({contextId:t,fieldName:e}));1===l.length&&a(So({tabId:r,contextId:t}))}},[a,r,t,e,c,l.length]);return s&&r?n.jsxs("label",{className:Ay,title:"    ",children:[n.jsx("input",{type:"checkbox",checked:o,onChange:u,className:Ry}),n.jsx("span",{className:Dy,children:""})]}):null}const Py="_container_ub7qd_5",Fy="_trigger_ub7qd_19",qy="_icon_ub7qd_61",Oy="_label_ub7qd_71",zy="_arrow_ub7qd_79",$y="_menu_ub7qd_101",By="_menuButton_ub7qd_159",Vy="_menuIcon_ub7qd_221",Uy="_menuLabel_ub7qd_233";function Qy(e){return e.map(([e,t,n])=>({timestamp:e,isoDate:new Date(e).toISOString(),value:Number.isFinite(t)?t:null,count:n}))}function Hy(e){if(null===e)return"null";const t=e.toString();return t.includes("e")||t.includes("E"),t}function Wy(e,t,n,a,r){"excel"===r?function(e,t,n,a){const r=[{Property:"Field Name",Value:a.fieldName},{Property:"Context ID",Value:a.contextId},{Property:"Export Date",Value:a.exportDate},{Property:"Total Points",Value:a.totalPoints}];void 0!==a.bucketMs&&r.push({Property:"Bucket (ms)",Value:a.bucketMs}),void 0!==a.dataQuality&&r.push({Property:"Data Quality",Value:a.dataQuality});const s=Ne.json_to_sheet(r),i=Qy(e),l=Ne.json_to_sheet(i.map(e=>({"Timestamp (ms)":e.timestamp,"ISO Date":e.isoDate,Value:e.value,Count:e.count}))),o=Qy(t),c=Ne.json_to_sheet(o.map(e=>({"Timestamp (ms)":e.timestamp,"ISO Date":e.isoDate,Value:e.value,Count:e.count}))),u=Qy(n),d=Ne.json_to_sheet(u.map(e=>({"Timestamp (ms)":e.timestamp,"ISO Date":e.isoDate,Value:e.value,Count:e.count}))),f=Ne.book_new();Ne.book_append_sheet(f,s,"Metadata"),Ne.book_append_sheet(f,l,"AVG"),t.length>0&&Ne.book_append_sheet(f,c,"MIN"),n.length>0&&Ne.book_append_sheet(f,d,"MAX");const m=`${a.fieldName.replace(/[/\\?%*:|"<>]/g,"_")}_${Date.now()}.xlsx`;Se(f,m)}(e,t,n,a):"csv"===r?function(e,t,n,a){const r=["# Chart Data Export",`# Field: ${a.fieldName}`,`# Context ID: ${a.contextId}`,`# Export Date: ${a.exportDate}`,`# Total Points: ${a.totalPoints}`];void 0!==a.bucketMs&&r.push(`# Bucket Size: ${a.bucketMs} ms`),void 0!==a.dataQuality&&r.push(`# Data Quality: ${a.dataQuality}`),r.push(""),r.push("Series,Timestamp_ms,ISO_Date,Value,Count");const s=Qy(e);for(const d of s){const e=Hy(d.value);r.push(`AVG,${d.timestamp},${d.isoDate},${e},${d.count}`)}if(t.length>0){const e=Qy(t);for(const t of e){const e=Hy(t.value);r.push(`MIN,${t.timestamp},${t.isoDate},${e},${t.count}`)}}if(n.length>0){const e=Qy(n);for(const t of e){const e=Hy(t.value);r.push(`MAX,${t.timestamp},${t.isoDate},${e},${t.count}`)}}const i=r.join("\n"),l=new Blob([i],{type:"text/csv;charset=utf-8"}),o=URL.createObjectURL(l),c=document.createElement("a");c.href=o;const u=a.fieldName.replace(/[/\\?%*:|"<>]/g,"_");c.download=`${u}_${Date.now()}.csv`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(o)}(e,t,n,a):function(e,t,n,a){const r=["=== Chart Data Export ===","",`Field: ${a.fieldName}`,`Context ID: ${a.contextId}`,`Export Date: ${a.exportDate}`,`Total Points: ${a.totalPoints}`];void 0!==a.bucketMs&&r.push(`Bucket Size: ${a.bucketMs} ms`),void 0!==a.dataQuality&&r.push(`Data Quality: ${a.dataQuality}`),r.push(""),r.push("=== AVG DATA ==="),r.push("Timestamp (ms)\tISO Date\tValue\tCount"),r.push("-".repeat(120));const s=Qy(e);for(const d of s){const e=Hy(d.value);r.push(`${d.timestamp}\t${d.isoDate}\t${e}\t${d.count}`)}if(t.length>0){r.push(""),r.push("=== MIN DATA ==="),r.push("Timestamp (ms)\tISO Date\tValue\tCount"),r.push("-".repeat(120));const e=Qy(t);for(const t of e){const e=Hy(t.value);r.push(`${t.timestamp}\t${t.isoDate}\t${e}\t${t.count}`)}}if(n.length>0){r.push(""),r.push("=== MAX DATA ==="),r.push("Timestamp (ms)\tISO Date\tValue\tCount"),r.push("-".repeat(120));const e=Qy(n);for(const t of e){const e=Hy(t.value);r.push(`${t.timestamp}\t${t.isoDate}\t${e}\t${t.count}`)}}const i=r.join("\n"),l=new Blob([i],{type:"text/plain;charset=utf-8"}),o=URL.createObjectURL(l),c=document.createElement("a");c.href=o;const u=a.fieldName.replace(/[/\\?%*:|"<>]/g,"_");c.download=`${u}_${Date.now()}.txt`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(o)}(e,t,n,a)}function Ky({avgPoints:e,minPoints:t,maxPoints:a,fieldName:r,contextId:s,bucketMs:i,dataQuality:l,className:o}){const[c,u]=b.useState(!1),d=b.useMemo(()=>e.length+t.length+a.length,[e.length,t.length,a.length]),f=d>0,m=b.useCallback(n=>{if(f&&!c){u(!0);try{const o={fieldName:r,contextId:s,exportDate:(new Date).toISOString(),totalPoints:d,bucketMs:i,dataQuality:l};Wy(e,t,a,o,n)}catch(o){alert("   .  .")}finally{setTimeout(()=>u(!1),500)}}},[f,c,e,t,a,r,s,d,i,l]);return n.jsxs("div",{className:qi(Py,o),children:[n.jsxs("div",{className:Fy,children:[n.jsx("span",{className:qy,children:""}),n.jsx("span",{className:Oy,children:""}),n.jsx("span",{className:zy,children:""})]}),n.jsxs("div",{className:$y,children:[n.jsxs("button",{type:"button",onClick:()=>m("excel"),disabled:c||!f,className:By,title:"  Excel     (AVG, MIN, MAX)",children:[n.jsx("span",{className:Vy,children:""}),n.jsx("span",{className:Uy,children:"Excel (.xlsx)"})]}),n.jsxs("button",{type:"button",onClick:()=>m("csv"),disabled:c||!f,className:By,title:"  CSV (   )",children:[n.jsx("span",{className:Vy,children:""}),n.jsx("span",{className:Uy,children:"CSV (.csv)"})]}),n.jsxs("button",{type:"button",onClick:()=>m("txt"),disabled:c||!f,className:By,title:"    ( )",children:[n.jsx("span",{className:Vy,children:""}),n.jsx("span",{className:Uy,children:"TXT (.txt)"})]})]})]})}const Gy="_button_1t5f4_5",Xy="_icon_1t5f4_77",Zy="_text_1t5f4_89",Yy=b.memo(function({onClick:e,label:t,disabled:a=!1}){return n.jsxs("button",{type:"button",className:Gy,onClick:e,disabled:a,"aria-label":"   ",title:"   ",children:[n.jsxs("svg",{className:Xy,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),n.jsx("path",{d:"M21 3v5h-5"}),n.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),n.jsx("path",{d:"M3 21v-5h5"})]}),n.jsx("span",{className:Zy,children:t??" "})]})});const Jy="_fullscreenButton_y7er5_5",eb="_icon_y7er5_65",tb=b.memo(function({isFullscreen:e,onToggle:t,disabled:a=!1}){return n.jsx("button",{type:"button",className:Jy,onClick:t,disabled:a,"aria-label":e?"   ":" ",title:e?"    (Esc)":"  (F)",children:e?n.jsx(i,{size:18,className:eb}):n.jsx(l,{size:18,className:eb})})}),nb="_navigator_zfodm_5",ab="_navButton_zfodm_31",rb="_icon_zfodm_89",sb="_info_zfodm_97",ib="_counter_zfodm_135",lb=b.memo(function({totalFields:e,currentIndex:t,onPrevious:a,onNext:r}){const s=t>0,i=t<e-1;return n.jsxs("div",{className:nb,children:[n.jsx("button",{type:"button",className:ab,onClick:a,disabled:!s,"aria-label":" ",title:"  ()",children:n.jsx(o,{size:24,className:rb})}),n.jsx("div",{className:sb,children:n.jsxs("span",{className:ib,children:[t+1," / ",e]})}),n.jsx("button",{type:"button",className:ab,onClick:r,disabled:!i,"aria-label":" ",title:"  ()",children:n.jsx(c,{size:24,className:rb})})]})}),ob=b.createContext(null);function cb({children:e,tabId:t}){const a=se(e=>Ao(e,t)),r=se(e=>{const t={};for(const n of a)t[n]=Wh(e,n);return t}),s=b.useRef(0),i=b.useMemo(()=>{const e=[];let t=0;for(const n of a){const a=r[n];if(null==a?void 0:a.selectedFields)for(let r=0;r<a.selectedFields.length;r++){const s=a.selectedFields[r];s&&e.push({contextId:n,fieldName:s.name,fieldIndex:r,globalIndex:t++})}}return Object.freeze(e)},[a,r]),l=i.length,o=b.useCallback((e,t)=>{const n=i.findIndex(n=>n.contextId===e&&n.fieldName===t);return n>=0?n:0},[i]),c=b.useCallback(async e=>{if(e<0||e>=l)return;const t=i[e];if(!t)return;s.current=e;const n=null!==document.fullscreenElement;if(n)try{await document.exitFullscreen(),await new Promise(e=>setTimeout(e,150))}catch(o){}const a=`[data-chart-id="${t.contextId}-${t.fieldName}"]`,r=document.querySelector(a);r&&(r.scrollIntoView({behavior:"smooth",block:"center"}),n&&setTimeout(()=>{r instanceof HTMLElement&&r.requestFullscreen().then(()=>{}).catch(e=>{})},400))},[i,l]),u=b.useCallback(()=>{const e=s.current,t=Math.min(e+1,l-1);c(t)},[l,c]),d=b.useCallback(()=>{const e=s.current,t=Math.max(e-1,0);c(t)},[c]),f=b.useMemo(()=>({allCharts:i,totalCharts:l,getCurrentIndex:o,navigateToIndex:e=>{c(e)},navigateNext:u,navigatePrevious:d}),[i,l,o,c,u,d]);return n.jsx(ob.Provider,{value:f,children:e})}const ub="_syncButton_rzjqk_1",db="_active_rzjqk_41",fb="_icon_rzjqk_63",mb="_label_rzjqk_73",pb="_badge_rzjqk_81",hb=q("tabs/toggleTabSyncWithAutoFill",async(e,{dispatch:t,getState:n})=>{var a;const r=n(),s=!((null==(a=r.tabs.byId[e])?void 0:a.syncEnabled)??!1);if(t(wo(e)),s){const n=Eo(r,e);for(const a of n){const n=Kh(r,a);if(t(No({tabId:e,contextId:a})),n.length>0)continue;const s=Wh(r,a);if(!s)continue;const i=s.selectedFields;if(0!==i.length)for(const e of i)t(yc({contextId:a,field:e}))}}});function gb(){const e=Qn(),t=se(jo),a=se(e=>!!t&&Do(e,t)),r=se(e=>t?Po(e,t):0),s=b.useCallback(()=>{t&&e(hb(t))},[e,t]);return t?n.jsxs("button",{type:"button",className:`${ub} ${a?db:""}`,onClick:s,title:a?"   (  )":"   (  )",children:[n.jsx("span",{className:fb,children:a?"":""}),n.jsx("span",{className:mb,children:" "}),a&&r>0&&n.jsx("span",{className:pb,title:`${r} `,children:r})]}):null}const vb=ws.CHART_DEFAULT_CHART_HEIGHT_PX,yb=b.memo(function({contextId:e,fieldName:t,templateName:a,onZoomEnd:r,width:s,currentRange:i}){const l=b.useRef(null),o=b.useRef(null),c=function(){const e=b.useContext(ob);if(!e)throw new Error("[useGlobalNavigation] Must be used within GlobalNavigationProvider");return e}(),f=c.getCurrentIndex(e,t),m=se(n=>Mg(n,e,t)),p=se(n=>Cg(n,e,t)),h=se(n=>Eg(n,e,t)),g=se(n=>Yh(n,e,t)),v=se(e=>lp(e)),[y,x]=b.useState(!1),_=b.useCallback(()=>{x(e=>!e)},[]),[k,w]=b.useState(vb),{isFullscreen:N,toggleFullscreen:S,isSupported:T}=function(e){const[t,n]=b.useState(!1),a=b.useRef(!1),r="undefined"!=typeof document&&(document.fullscreenEnabled??!1),s=b.useCallback(async()=>{if(r&&e.current&&!a.current)try{a.current=!0,await e.current.requestFullscreen()}catch(t){}finally{a.current=!1}},[r,e]),i=b.useCallback(async()=>{if(r&&document.fullscreenElement&&!a.current)try{a.current=!0,await document.exitFullscreen()}catch(e){}finally{a.current=!1}},[r]),l=b.useCallback(async()=>{t?await i():await s()},[t,s,i]);return b.useEffect(()=>{if(!r)return;const t=()=>{const t=document.fullscreenElement===e.current;n(t)};return document.addEventListener("fullscreenchange",t),()=>{document.removeEventListener("fullscreenchange",t)}},[r,e]),{isFullscreen:t,enterFullscreen:s,exitFullscreen:i,toggleFullscreen:l,isSupported:r}}(o),j=b.useMemo(()=>N?window.innerHeight:k,[N,k]);b.useEffect(()=>{if(!N)return;const e=e=>{const t=e.target;"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&("ArrowLeft"===e.key?(e.preventDefault(),c.navigatePrevious()):"ArrowRight"===e.key?(e.preventDefault(),c.navigateNext()):"f"===e.key||"F"===e.key?(e.preventDefault(),S()):e.key)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[N,c,S]);const M=b.useCallback(e=>{null==r||r(e)},[r]),C=b.useMemo(()=>{let e=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY;for(const a of m.avgPoints){const n=a[1];Number.isFinite(n)&&(n<e&&(e=n),n>t&&(t=n))}if(e===t){const n=0!==e?.1*Math.abs(e):1;e-=n,t+=n}const n=.05*(t-e);return{min:e-n,max:t+n}},[m.avgPoints]),I=function(e,t){const[n,a]=b.useState(void 0),[r,s]=b.useState(void 0),i=b.useMemo(()=>({min:e,max:t}),[e,t]);return{currentRange:b.useMemo(()=>({min:n??e,max:r??t}),[n,r,e,t]),optimalRange:i,isCustom:void 0!==n||void 0!==r,setCustomMin:b.useCallback(e=>{a(e)},[]),setCustomMax:b.useCallback(e=>{s(e)},[]),multiplyMin:b.useCallback(t=>{a((n??e)*t)},[n,e]),multiplyMax:b.useCallback(e=>{s((r??t)*e)},[r,t]),reset:b.useCallback(()=>{a(void 0),s(void 0)},[])}}(C.min,C.max),E=b.useMemo(()=>I.isCustom?I.currentRange:void 0,[I.isCustom,I.currentRange.min,I.currentRange.max]),A=b.useMemo(()=>Ty({avgPoints:m.avgPoints,minPoints:m.minPoints,maxPoints:m.maxPoints,fieldName:t,originalRange:g,timeSettings:v,gapsInfo:h,customYAxisRange:E}),[m.avgPoints,m.minPoints,m.maxPoints,t,g,v,h,E]);return n.jsxs("div",{ref:o,className:qi(Rg,N?Dg:""),"data-chart-id":`${e}-${t}`,children:[n.jsx("div",{className:`${$g} ${y?Ug:Vg}`,children:n.jsx(ly,{fieldName:t,width:s,contextId:e})}),n.jsx(wy,{groupId:"ChartContainer",defaultHeight:j,minHeight:N?window.innerHeight:300,maxHeight:N?window.innerHeight:2e3,onHeightChange:w,disabled:N,children:n.jsxs("div",{className:Lg,style:{height:j},children:[n.jsxs("div",{className:Pg,children:[n.jsx("button",{type:"button",className:Qg,onClick:_,"aria-label":y?" ":" ",title:y?" ":" ",children:y?n.jsx(u,{size:16,className:Hg}):n.jsx(d,{size:16,className:Hg})}),n.jsx(Ly,{fieldName:t,contextId:e}),n.jsx(gb,{}),n.jsxs("div",{className:Fg,children:[n.jsx("span",{className:qg,children:a}),n.jsx("span",{className:Og,children:t})]}),n.jsx(av,{contextId:e,totalPoints:m.avgPoints.length+m.minPoints.length+m.maxPoints.length,coverage:p.coverage,quality:m.quality,isLoading:p.isLoading,fieldName:t}),n.jsx(Ky,{avgPoints:m.avgPoints,minPoints:m.minPoints,maxPoints:m.maxPoints,fieldName:t,contextId:e,bucketMs:m.bucketMs,dataQuality:m.quality,className:Wg}),n.jsx(Ey,{control:I}),n.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"8px",alignItems:"center"},children:[n.jsx(Yy,{onClick:()=>{var e;return null==(e=l.current)?void 0:e.resetZoom()}}),T&&n.jsx(tb,{isFullscreen:N,onToggle:()=>{S()}})]})]}),n.jsx("div",{className:zg,children:n.jsx(Kg,{ref:l,options:A,totalPoints:m.avgPoints.length+m.minPoints.length+m.maxPoints.length,onZoomEnd:M,loading:p.isLoading,currentRange:i,originalRange:g})}),n.jsx("div",{className:Bg,children:n.jsx(my,{chartFieldStatus:p,position:"aboveAxis"})}),n.jsx(vv,{fieldName:t,contextId:e})]})},t),N&&n.jsx(lb,{totalFields:c.totalCharts,currentIndex:f,onPrevious:c.navigatePrevious,onNext:c.navigateNext})]})});function bb({contextId:e,fieldName:t,templateName:a,width:r}){const s=Qn(),i=ry(),l=se(jo),o=se(e=>!!l&&Do(e,l)),c=se(e=>{if(l)return Lo(e,l)}),u=b.useMemo(()=>c??[],[c]),d=se(n=>Gh(n,e,t)),f=se(e=>{const t={};for(const n of u)t[n]=Kh(e,n);return t},(e,t)=>{const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(const r of n)if(e[r]!==t[r])return!1;return!0}),m=b.useMemo(()=>{const e=[];for(const t of u){const n=f[t];if(n)for(const a of n)e.push({contextId:t,field:a})}return e},[u,f]),p=b.useMemo(()=>m.filter(n=>!(n.contextId===e&&n.field.name===t)),[m,e,t]),h=se(n=>eg(n,e,t)),g=se(n=>{if(o&&d)return Jh(n,e,t)}),v=b.useRef(h),y=b.useRef(o),x=b.useRef(d),_=b.useRef(p),k=b.useRef(r),w=b.useRef(void 0),N=b.useRef(!1),S=b.useRef(void 0),T=b.useRef(null);b.useEffect(()=>{v.current=h},[h]),b.useEffect(()=>{y.current=o},[o]),b.useEffect(()=>{x.current=d},[d]),b.useEffect(()=>{_.current=p},[p]),b.useEffect(()=>{k.current=r},[r]),b.useEffect(()=>()=>{void 0!==w.current&&clearTimeout(w.current),void 0!==S.current&&clearTimeout(S.current)},[]);const j=b.useCallback(n=>{const a=y.current&&x.current&&!N.current;if(T.current&&Math.abs(T.current.fromMs-n.fromMs)<=1&&Math.abs(T.current.toMs-n.toMs)<=1)return;T.current={fromMs:n.fromMs,toMs:n.toMs};const r=sp(n.fromMs,n.toMs,k.current);requestAnimationFrame(()=>{if(s(sc({contextId:e,field:t,range:{fromMs:n.fromMs,toMs:n.toMs}})),r!==v.current&&s(ic({contextId:e,field:t,bucketMs:r})),a&&_.current.length>0){N.current=!0,void 0!==S.current&&clearTimeout(S.current);for(const e of _.current){s(sc({contextId:e.contextId,field:e.field.name,range:{fromMs:n.fromMs,toMs:n.toMs}}));const t=sp(n.fromMs,n.toMs,k.current);t!==v.current&&s(ic({contextId:e.contextId,field:e.field.name,bucketMs:t}))}S.current=setTimeout(()=>{N.current=!1,S.current=void 0},500)}}),void 0!==w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{if(i.loadVisibleRange(t,n.fromMs,n.toMs,r,k.current),a&&_.current.length>0){const t=new Map;for(const e of _.current){const n=t.get(e.contextId)??[];n.push(e.field),t.set(e.contextId,n)}for(const[a,s]of t.entries()){if(a===e)continue;const t=fg.get(a);if(!t)continue;const i=s[0];i&&t.loadVisibleRange(i.name,n.fromMs,n.toMs,r,k.current)}}},150)},[s,e,t,i]),M=b.useCallback(()=>{},[]);return n.jsx(yb,{contextId:e,fieldName:t,templateName:a,onZoomEnd:j,onRetry:M,width:r,currentRange:g})}const xb=ws.CHART_MIN_CONTAINER_WIDTH;function _b(){const e=b.useRef(null),[t,a]=b.useState(void 0),r=ry().getContextId(),s=se(e=>Wh(e,r));b.useEffect(()=>{const t=e.current;if(!t)return;(()=>{if(!e.current)return;const t=e.current.offsetWidth;if(t>0){const e=Math.max(xb,Math.round(t));a(t=>t!==e?e:t)}})();const n=new ResizeObserver(e=>{for(const t of e){const{width:e}=t.contentRect;if(e>0){const t=Math.max(xb,Math.round(e));a(e=>e!==t?t:e)}}});return n.observe(t),()=>{n.disconnect()}},[]);const{isInitializing:i,isInitialized:l,error:o,reinitialize:c}=wg({contextId:r,px:t});return s?void 0===t?n.jsx("div",{ref:e,className:pg,children:n.jsxs("div",{className:gg,children:[n.jsx("div",{className:bg}),n.jsx("p",{children:" ..."})]})}):i?n.jsx("div",{className:pg,children:n.jsxs("div",{className:gg,children:[n.jsx("div",{className:bg}),n.jsx("p",{children:" ..."})]})}):o?n.jsx("div",{className:pg,children:n.jsxs("div",{className:vg,children:[n.jsxs("p",{children:[" : ",o]}),n.jsx("button",{className:xg,onClick:c,type:"button",children:" "})]})}):l?n.jsx("div",{ref:e,className:pg,children:n.jsx("div",{className:hg,children:s.selectedFields.map(e=>n.jsx(bb,{contextId:r,fieldName:e.name,templateName:s.name,width:t},e.name))})}):n.jsx("div",{className:pg,children:n.jsxs("div",{className:yg,children:[n.jsx("p",{children:"  "}),n.jsx("button",{className:xg,onClick:c,type:"button",children:""})]})}):n.jsx("div",{ref:e,className:pg,children:n.jsx("div",{className:yg,children:n.jsx("p",{children:"  "})})})}function kb({contextId:e}){return n.jsx(mg,{contextId:e,children:n.jsx(_b,{})})}function wb({tabId:e}){const t=Qn(),a=Ld(),r=se(t=>Eo(t,e)),s=se(t=>Ao(t,e)),i=Hn(Hh),[l,o]=b.useState(!1),c=r.length===s.length,u=se(jo),d=e===u,f=se(t=>Io(t,e)),m=b.useMemo(()=>[...r].sort((e,t)=>{var n,a;const r=null==(n=i[e])?void 0:n.template,s=null==(a=i[t])?void 0:a.template;if(!r)return 0;if(!s)return 0;return(r.visualOrder??0)-(s.visualOrder??0)}),[r,i]);as(b.useMemo(()=>d?` | ${f}`:"",[d,f]),0,d);const p=b.useCallback(()=>{t(c?xo(e):bo(e))},[c,t,e]),h=b.useCallback(async n=>{await a({title:" ?",description:"    ",confirmText:"",cancelText:"",danger:!0})&&t(vo({tabId:e,contextId:n}))},[a,t,e]);return 0===r.length?n.jsx("div",{className:_h,children:n.jsx("p",{children:"         "})}):n.jsx(cb,{tabId:e,children:n.jsxs("div",{className:uh,children:[n.jsxs("div",{className:dh,children:[n.jsxs("button",{className:fh,onClick:()=>o(!l),type:"button","aria-expanded":l,children:[n.jsx("span",{className:mh,children:l?"":""}),n.jsxs("span",{className:ph,children:["  (",s.length," "," ",r.length,")"]})]}),l&&n.jsxs("div",{className:hh,children:[n.jsx("div",{className:gh,children:n.jsxs("button",{className:vh,onClick:p,type:"button",title:c?" ":" ",children:[c?"":""," "]})}),n.jsx("div",{className:yh,children:m.map(a=>n.jsx(rg,{tabId:e,contextId:a,isVisible:s.includes(a),onToggle:()=>t(yo({tabId:e,contextId:a})),onRemove:()=>h(a)},a))})]})]}),n.jsx("div",{className:bh,children:m.map(e=>{const t=s.includes(e);return n.jsx("div",{className:xh,style:{display:t?"block":"none"},children:n.jsx(kb,{contextId:e})},e)})}),0===s.length&&n.jsxs("div",{className:kh,children:[n.jsx("p",{children:"    "}),n.jsx("p",{className:wh,children:"     "})]})]})})}const Nb="_chartsPage_j4d83_7",Sb="_topTabBar_j4d83_29",Tb="_topTab_j4d83_29",jb="_topTabActive_j4d83_129",Mb="_divider_j4d83_167",Cb="_chartTab_j4d83_185",Ib="_chartTabActive_j4d83_223",Eb="_tabLabel_j4d83_251",Ab="_tabCloseButton_j4d83_263",Rb="_addTabButton_j4d83_303",Db="_closeAllButton_j4d83_353",Lb="_contentArea_j4d83_395",Pb="_pageContent_j4d83_405";function Fb(e){return"string"==typeof e&&["mirax","databases","templates"].includes(e)}function qb(){const e=Qn(),t=Ld(),[a,r]=b.useState("mirax"),[s,i]=b.useState(49),l=b.useRef(null),o=se(Mo);as(b.useMemo(()=>Fb(a)?`${a}`:"",[a]),1,Fb(a)),b.useEffect(()=>{const e=l.current;if(!e)return;const t=()=>{const t=e.getBoundingClientRect().height;i(t)};t();const n=new ResizeObserver(t);return n.observe(e),window.addEventListener("resize",t),()=>{n.disconnect(),window.removeEventListener("resize",t)}},[]);const c=t=>{r(t),Fb(t)||e(mo(t))};return n.jsxs("div",{className:Nb,style:{"--topbar-height":`${s}px`},children:[n.jsxs("div",{className:Sb,ref:l,children:[n.jsx("button",{className:"mirax"===a?jb:Tb,onClick:()=>c("mirax"),type:"button",children:"Mirax"}),n.jsx("button",{className:"databases"===a?jb:Tb,onClick:()=>c("databases"),type:"button",children:" "}),n.jsx("button",{className:"templates"===a?jb:Tb,onClick:()=>c("templates"),type:"button",children:"  "}),o.length>0&&n.jsx("div",{className:Mb}),o.map(s=>n.jsx(Ob,{tabId:s,isActive:a===s,onActivate:()=>c(s),onClose:n=>(async(n,s)=>{if(n.stopPropagation(),await t({title:" ?",description:"   .",confirmText:"",cancelText:"",danger:!0})&&(e(po(s)),a===s)){const t=o.filter(e=>e!==s);t.length>0?(r(t[0]),e(mo(t[0]))):r("templates")}})(n,s)},s)),o.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("button",{className:Rb,onClick:()=>{const t=crypto.randomUUID();e(fo({id:t,name:` ${o.length+1}`})),r(t),e(mo(t))},title:"  ",type:"button",children:"+"}),o.length>1&&n.jsx("button",{className:Db,onClick:async()=>{await t({title:"  ?",description:"    .",confirmText:" ",cancelText:"",danger:!0})&&(o.forEach(t=>{e(po(t))}),e(Nc()),r("templates"))},title:"  ",type:"button",children:" "})]})]}),n.jsxs("div",{className:Lb,children:[n.jsx("div",{style:{display:"mirax"===a?"block":"none"},className:Pb,children:n.jsx(Sd,{})}),n.jsx("div",{style:{display:"databases"===a?"block":"none"},className:Pb,children:n.jsx(bf,{children:n.jsx(mm,{})})}),n.jsx("div",{style:{display:"templates"===a?"block":"none"},className:qi(Pb),children:n.jsx(ch,{})}),o.map(e=>n.jsx("div",{style:{display:a===e?"block":"none"},className:Pb,children:n.jsx(wb,{tabId:e})},e))]})]})}function Ob({tabId:e,isActive:t,onActivate:a,onClose:r}){const s=se(t=>Io(t,e));return n.jsxs("div",{className:t?Ib:Cb,onClick:a,children:[n.jsx("span",{className:Eb,children:s??""}),n.jsx("button",{className:Ab,onClick:r,title:" ",type:"button",children:""})]})}const zb=()=>n.jsx("div",{className:is,children:n.jsx(qb,{})}),$b="_container_1t35t_1",Bb=()=>n.jsx("div",{className:$b,children:n.jsx("p",{children:"Page not found"})}),Vb=()=>((e=>{const t=S(),n=T();b.useEffect(()=>{e(t.pathname,n)},[t.pathname,n,e])})((e,t)=>{}),null),Ub=({children:e})=>Hn(e=>e.auth.isAuthenticated)?n.jsx(j,{to:Qe,replace:!0}):e,Qb=()=>n.jsxs(n.Fragment,{children:[n.jsx(Vb,{}),n.jsxs(M,{children:[n.jsx(C,{path:He,element:n.jsx(Ub,{children:n.jsx(ss,{})})}),n.jsxs(C,{path:Qe,element:n.jsx(_a,{}),children:[n.jsx(C,{path:Ke,element:n.jsx(qb,{})}),n.jsx(C,{index:!0,element:n.jsx(zb,{})}),n.jsx(C,{path:We,element:n.jsx(Fe,{})})]}),n.jsx(C,{path:Ge,element:n.jsx(Bb,{})})]})]});class Hb extends w.Component{constructor(){super(...arguments),t(this,"state",{hasError:!1})}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?w.cloneElement(this.props.fallback,{error:this.state.error}):this.props.children}}var Wb=_e();const Kb={selected:null,isEditing:!1,formError:null,lastActive:Date.now()},Gb=O({name:"users",initialState:Kb,reducers:{setSelectedUser:(e,t)=>{e.selected=t.payload,e.formError=null},updateLastActive:e=>{e.lastActive=Date.now()},startEditSelected:e=>{e.isEditing=!0},cancelEditSelected:e=>{e.isEditing=!1,e.formError=null},setUserFormError:(e,t)=>{e.formError=t.payload},mergeSelectedUser:(e,t)=>{e.selected&&(e.selected={...e.selected,...t.payload})},clearSelectedUser:e=>{e.selected=null,e.isEditing=!1,e.formError=null}}}),{setSelectedUser:Xb,startEditSelected:Zb,cancelEditSelected:Yb,setUserFormError:Jb,mergeSelectedUser:ex,clearSelectedUser:tx,updateLastActive:nx}=Gb.actions,ax=e=>e.users.lastActive,rx=oe({key:"user",storage:it,whitelist:[]},Gb.reducer),sx=()=>{const e=Qn(),t=se(ax),n=se($n);return b.useEffect(()=>{const t=Wb.debounce(()=>{e(nx())},1e6),n=["mousemove","keydown","click","scroll"];return n.forEach(e=>window.addEventListener(e,t)),()=>{n.forEach(e=>window.removeEventListener(e,t)),t.cancel()}},[e]),b.useEffect(()=>{if(!n)return;const a=setInterval(()=>{if(!t)return;Date.now()-t>6e5&&e(zn())},6e4);return()=>clearInterval(a)},[t,e,n]),null},ix=b.createContext(void 0),lx=({children:e})=>{const[t,a]=b.useState({isMobile:window.innerWidth<768,isTablet:window.innerWidth>=768&&window.innerWidth<1024,isDesktop:window.innerWidth>=1024,width:window.innerWidth});return b.useEffect(()=>{const e=()=>{a({isMobile:window.innerWidth<768,isTablet:window.innerWidth>=768&&window.innerWidth<1024,isDesktop:window.innerWidth>=1024,width:window.innerWidth})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),n.jsx(ix.Provider,{value:t,children:e})};function ox(){return Hn(jn)?N.createPortal(n.jsxs("div",{className:"fixed inset-0 z-[9999]",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[1px]"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-white/40 border-t-white"})})]}),document.body):null}function cx(){const[e,t]=w.useState(null),[a,r]=w.useState(null);return n.jsx(f,{position:"top-right",toastOptions:{duration:4e3,success:{duration:3e3},error:{duration:6e3},loading:{duration:1/0},style:{paddingRight:8}},children:s=>n.jsx(ux,{t:s,copiedId:e,setCopiedId:t,copyingId:a,setCopyingId:r})})}function ux({t:e,copiedId:t,setCopiedId:a,copyingId:r,setCopyingId:s}){const i=w.useRef(null),l=e.id===t,o=e.id===r,c=async()=>{var t,n;if("error"===e.type)try{s(e.id);const r=(null==(n=null==(t=i.current)?void 0:t.textContent)?void 0:n.trim())??"";if(!r)return;await navigator.clipboard.writeText(r),a(e.id)}finally{s(t=>t===e.id?null:t)}};return w.useEffect(()=>()=>{a(t=>t===e.id?null:t),s(t=>t===e.id?null:t)},[e.id,a,s]),n.jsx(m,{toast:e,children:({icon:t,message:a})=>n.jsxs(n.Fragment,{children:[t,n.jsx("div",{ref:i,style:{flex:1,marginLeft:8,userSelect:"text"},children:a}),n.jsx("button",{"aria-label":"",onClick:()=>p.dismiss(e.id),style:dx,title:"",children:""}),"error"===e.type&&n.jsx("button",{"aria-label":l?"":"  ",onClick:c,style:dx,disabled:o,title:l?"":"",children:o?"":l?n.jsx("span",{style:{color:"#49cc90"},children:""}):n.jsx("span",{children:""})})]})})}const dx={border:"none",background:"transparent",cursor:"pointer",fontSize:16,lineHeight:1,padding:4,marginLeft:8,opacity:.85};class fx extends b.Component{render(){return n.jsx(ns,{children:n.jsx(Zn,{children:n.jsxs(Hb,{fallback:n.jsx(Fe,{}),children:[n.jsx(qe,{}),n.jsx(sx,{}),n.jsx(lx,{children:n.jsxs(Pd,{children:[n.jsx(Qb,{}),n.jsx(cx,{}),n.jsx(ox,{})]})})]})})})}}function mx(e){return(mx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function px(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(e.prototype,t),e}function hx(e){return(hx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vx(e,t){return(vx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bx=function(){function e(){var t,n,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return a=this,r=(t=hx(e)).call.apply(t,[this].concat(i)),n=!r||"object"!==mx(r)&&"function"!=typeof r?gx(a):r,yx(gx(n),"state",{bootstrapped:!1}),yx(gx(n),"_unsubscribe",void 0),yx(gx(n),"handlePersistorState",function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally(function(){return n.setState({bootstrapped:!0})}):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vx(e,t)}(e,b.PureComponent),px(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"==typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}();yx(bx,"defaultProps",{children:null,loading:null});const xx=Q({auth:Vn,users:rx,chartsTemplates:Zu,chartsSettings:up,contexts:Xo,chartsMeta:Nd,ui:Tn,mirax:Fi,tabs:uo,[Ln.reducerPath]:Ln.reducer,[ig.reducerPath]:ig.reducer,[lu.reducerPath]:lu.reducer,[su.reducerPath]:su.reducer,[Xi.reducerPath]:Xi.reducer});const _x=ce({reducer:xx,middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE","persist/REGISTER","charts/upsertTiles","charts/beginLoadTiles","charts/failLoadTiles","charts/test/initializeMultipleLevels/fulfilled","charts/test/incrementalLoad/fulfilled","charts/test/switchLevel/fulfilled","charts/test/loadingErrors/fulfilled","charts/test/fullSuite/fulfilled","charts/initField","charts/addData","charts/updateWindow"],ignoredPaths:["chartsTemplates.errors","chartsTemplates.activeTemplate.fromMs","chartsTemplates.activeTemplate.toMs","charts.view"],warnAfter:128,isSerializable:e=>{if(null==e)return!0;if(e instanceof Date)return!0;const t=typeof e;return"string"===t||"number"===t||"boolean"===t||(Array.isArray(e)?e.every(e=>"function"!=typeof e):"object"===t&&Object.getPrototypeOf(e)===Object.prototype)}},immutableCheck:{ignoredPaths:["charts.view"],warnAfter:128}}).concat(Ln.middleware,ig.middleware,lu.middleware,su.middleware,Xi.middleware),devTools:{maxAge:50,trace:!1,actionSanitizer:e=>{var t,n;return(null==(t=e.type)?void 0:t.includes("charts/"))&&(null==(n=e.payload)?void 0:n.tiles)?{...e,payload:{...e.payload,tiles:`[${e.payload.tiles.length} tiles]`}}:e},stateSanitizer:e=>{var t;if(null==(t=e.charts)?void 0:t.view){const t={};return Object.keys(e.charts.view).forEach(n=>{const a=e.charts.view[n];t[n]={...a,seriesLevel:`[${Object.keys(a.seriesLevel||{}).length} levels]`}}),{...e,charts:{...e.charts,view:t}}}return e}}});(async function(){try{const e=Qo.createInstance({name:"ChartsDB",storeName:"charts_data"}),t=await e.getItem("persist:charts");if(!t)return;const n=JSON.parse(t),a=JSON.parse(n.view||"{}"),r=Date.now(),s=6048e5;Object.entries(a).forEach(([e,t])=>{Object.entries(t.seriesLevel||{}).forEach(([e,n])=>{t.seriesLevel[e]=n.filter(e=>e.loadedAt&&r-e.loadedAt<s)})});const i=Object.keys(a);if(i.length>100){i.sort((e,t)=>{var n,r,s,i;const l=(null==(r=null==(n=a[e])?void 0:n.loadingState)?void 0:r.startTime)||0;return((null==(i=null==(s=a[t])?void 0:s.loadingState)?void 0:i.startTime)||0)-l}).slice(100).forEach(e=>{delete a[e]})}n.view=JSON.stringify(a),await e.setItem("persist:charts",JSON.stringify(n))}catch(e){}})().catch(console.error);const kx=ue(_x);let wx=null;var Nx;wx=_x,(Nx=kn).interceptors.request.use(e=>{const t=ke.from(e.headers);return t.set("Content-Type","application/json"),t.set("Accept","application/json"),t.set("X-Client-Type","web"),e.headers=t,e.withCredentials=!0,e},e=>Promise.reject(e)),Nx.interceptors.response.use(e=>e,e=>{var t;const n=null==(t=e.response)?void 0:t.status;return 401===n?(null==wx||wx.dispatch(zn()),a.error(" .  .")):403===n?a.error(" ."):429===n?a.error("  .  "):"number"==typeof n&&n>=500&&a.error(" .    ."),Promise.reject(e)}),Pe.createRoot(document.getElementById("root")).render(n.jsx(de,{store:_x,children:n.jsx(bx,{loading:n.jsx(Im,{label:" ...",threePointOffset:!0}),persistor:kx,children:n.jsx(I,{children:n.jsx(fx,{})})})}));
